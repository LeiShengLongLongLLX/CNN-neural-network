# Linux Operation System
## 1. System directory
- Linuxç³»ç»Ÿæ²¡æœ‰ç›˜ç¬¦çš„æ¦‚å¿µ
- "/"æ˜¯æ ¹ç›®å½•

---

### 1.1 æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶ç»“æ„
### æ ¸å¿ƒç›®å½•åŠŸèƒ½ç®€ä»‹

| ç›®å½•å | å…¨ç§°/å«ä¹‰ | ä¸»è¦ç”¨é€” |
| :--- | :--- | :--- |
| **`bin`** | **Binary** | å­˜æ”¾æ‰€æœ‰**ç”¨æˆ·**éƒ½å¯ä½¿ç”¨çš„åŸºæœ¬å‘½ä»¤ï¼ˆå¦‚ `ls`, `cp`, `cat`, `bash`ï¼‰ã€‚é€šå¸¸æ˜¯ `/usr/bin` çš„ç¬¦å·é“¾æ¥ã€‚ |
| **`boot`** | **Boot** | å­˜æ”¾ç³»ç»Ÿ**å¯åŠ¨**æ‰€éœ€çš„æ–‡ä»¶ï¼Œå¦‚å†…æ ¸é•œåƒ (`vmlinuz`)ã€å¼•å¯¼åŠ è½½ç¨‹åº (`grub2`) ç­‰ã€‚ |
| **`dev`** | **Devices** | å­˜æ”¾æ‰€æœ‰çš„**è®¾å¤‡æ–‡ä»¶**ï¼ˆå¦‚ç¡¬ç›˜ `/dev/sda`ã€ç»ˆç«¯ `/dev/tty`ã€éšæœºæ•°å‘ç”Ÿå™¨ `/dev/urandom`ï¼‰ã€‚ |
| **`etc`** | **Etcetera** (æ‰©å±•é…ç½®) | å­˜æ”¾ç³»ç»Ÿçš„**å…¨å±€é…ç½®æ–‡ä»¶**ï¼ˆå¦‚ç½‘ç»œé…ç½®ã€è½¯ä»¶é…ç½®ã€ç”¨æˆ·æ•°æ®åº“ï¼‰ã€‚**éå¸¸é‡è¦**ã€‚ |
| **`home`** | **Home** | æ™®é€šç”¨æˆ·çš„**å®¶ç›®å½•**æ‰€åœ¨åœ°ã€‚æ¯ä¸ªç”¨æˆ·æœ‰ä¸€ä¸ªå­ç›®å½•ï¼ˆå¦‚ `/home/alice`ï¼‰ï¼Œç”¨äºå­˜æ”¾ä¸ªäººæ–‡ä»¶å’Œé…ç½®ã€‚ |
| **`lib`** | **Libraries** | å­˜æ”¾ç³»ç»Ÿ**æœ€åŸºç¡€çš„å…±äº«åº“**å’Œå†…æ ¸æ¨¡å—ã€‚é€šå¸¸æ˜¯ `/usr/lib` çš„ç¬¦å·é“¾æ¥ã€‚ |
| **`lib64`** | **Libraries 64-bit** | å­˜æ”¾64ä½ç³»ç»Ÿçš„åŸºç¡€å…±äº«åº“ã€‚é€šå¸¸æ˜¯ `/usr/lib64` çš„ç¬¦å·é“¾æ¥ã€‚ |
| **`media`** | **Media** | ç³»ç»Ÿè‡ªåŠ¨æŒ‚è½½**å¯ç§»åŠ¨åª’ä½“**ï¼ˆå¦‚ U ç›˜ã€å…‰ç›˜ï¼‰çš„æ ‡å‡†ä½ç½®ã€‚ |
| **`mnt`** | **Mount** | ç”¨äº**ä¸´æ—¶æ‰‹åŠ¨æŒ‚è½½**æ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚å¦ä¸€ä¸ªç¡¬ç›˜åˆ†åŒºã€ç½‘ç»œå…±äº«ï¼‰çš„ç›®å½•ã€‚ |
| **`opt`** | **Optional** | ç”¨äºå®‰è£…**é™„åŠ çš„ç¬¬ä¸‰æ–¹å¤§å‹è½¯ä»¶**ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªç‹¬ç«‹å¥—ä»¶ï¼‰ã€‚ |
| **`proc`** | **Process** | ä¸€ä¸ª**è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ**ï¼Œä»¥æ–‡ä»¶å½¢å¼æä¾›ç³»ç»Ÿè¿›ç¨‹å’Œå†…æ ¸ä¿¡æ¯çš„æ¥å£ï¼ˆå¦‚ CPU ä¿¡æ¯ã€å†…å­˜ä½¿ç”¨ï¼‰ã€‚**ä¸åœ¨ç¡¬ç›˜ä¸Šï¼Œæ˜¯å†…å­˜ä¸­çš„æ˜ å°„**ã€‚ |
| **`root`** | **Root** | **ç³»ç»Ÿç®¡ç†å‘˜ (root)** çš„å®¶ç›®å½•ã€‚ä¸åŒäº `/`ï¼Œè¿™æ˜¯ root ç”¨æˆ·çš„ä¸ªäººå·¥ä½œç›®å½•ã€‚ |
| **`run`** | **Run** | å­˜æ”¾è‡ªç³»ç»Ÿå¯åŠ¨ä»¥æ¥**æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹**çš„ä¸´æ—¶æ•°æ®ï¼ˆå¦‚ PID æ–‡ä»¶ã€å¥—æ¥å­—æ–‡ä»¶ï¼‰ã€‚ |
| **`sbin`** | **System Binary** | å­˜æ”¾ä¾›**ç³»ç»Ÿç®¡ç†å‘˜**ä½¿ç”¨çš„åŸºæœ¬ç®¡ç†å‘½ä»¤ï¼ˆå¦‚ `fdisk`, `fsck`, `ifconfig`ï¼‰ã€‚é€šå¸¸æ˜¯ `/usr/sbin` çš„ç¬¦å·é“¾æ¥ã€‚ |
| **`srv`** | **Service** | å­˜æ”¾ç”±ç³»ç»Ÿ**æä¾›æœåŠ¡**çš„æ•°æ®ï¼ˆå¦‚ç½‘ç«™æ–‡ä»¶ `/srv/www/`ã€FTP èµ„æºï¼‰ã€‚ |
| **`sys`** | **System** | ä¸€ä¸ª**è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ**ï¼Œç”¨äºä¸å†…æ ¸äº¤äº’ã€é…ç½®ç¡¬ä»¶è®¾å¤‡å’Œé©±åŠ¨ã€‚**ä¸åœ¨ç¡¬ç›˜ä¸Š**ã€‚ |
| **`tmp`** | **Temporary** | ä¾›æ‰€æœ‰ç”¨æˆ·å­˜æ”¾**ä¸´æ—¶æ–‡ä»¶**çš„ç›®å½•ã€‚ç³»ç»Ÿé‡å¯åï¼Œè¿™é‡Œçš„æ–‡ä»¶å¯èƒ½ä¼šè¢«æ¸…é™¤ã€‚ |
| **`usr`** | **Unix System Resources** | å­˜æ”¾**ç”¨æˆ·çº§åˆ«çš„ç¨‹åºå’Œæ•°æ®**ï¼Œæ˜¯ä»…æ¬¡äº `/` çš„ç¬¬äºŒé‡è¦çš„ç›®å½•ã€‚åŒ…å«å¤§é‡çš„åº”ç”¨ç¨‹åºã€åº“ã€æ–‡æ¡£ç­‰ã€‚ |
| **`var`** | **Variable** | å­˜æ”¾ç»å¸¸**å˜åŒ–(Variable)** çš„æ•°æ®ï¼Œå¦‚æ—¥å¿—æ–‡ä»¶ã€ç¼“å­˜ã€æ•°æ®åº“æ–‡ä»¶ã€é‚®ä»¶é˜Ÿåˆ—ç­‰ã€‚ |

---

### 1.2 è®°å¿†æŠ€å·§ä¸åˆ†ç±»

å¯ä»¥æŠŠè¿™äº›ç›®å½•åˆ†ä¸ºå‡ å¤§ç±»æ¥å¸®åŠ©è®°å¿†ï¼š

1.  **ç³»ç»Ÿå¯åŠ¨å¿…å¤‡**ï¼š`boot`, `bin`, `sbin`, `lib`, `lib64`, `dev`, `etc`
2.  **ç”¨æˆ·ç©ºé—´**ï¼š`home`, `root`
3.  **å¯å˜æ•°æ®**ï¼š`var`, `tmp`
4.  **é™æ€èµ„æº**ï¼š`usr`, `opt`
5.  **æŒ‚è½½ç‚¹**ï¼š`media`, `mnt`
6.  **è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆå†…æ ¸æ¥å£ï¼‰**ï¼š`proc`, `sys`, `run`

---

## 2. æŒ‡ä»¤ç»“æ„

### 2.1 Shell æç¤ºç¬¦
 **Shell æç¤ºç¬¦**æ˜¯ç”±ç³»ç»Ÿæ˜¾ç¤ºçš„ä¸€è¡Œä¿¡æ¯ï¼Œç”¨æ¥æç¤ºä½ ï¼šç³»ç»Ÿå·²ç»å‡†å¤‡å°±ç»ªï¼Œæ­£åœ¨ç­‰å¾…ä½ è¾“å…¥å‘½ä»¤ã€‚

---

æˆ‘ä»¬å¯ä»¥æŠŠå®ƒæ‹†è§£æˆå‡ ä¸ªéƒ¨åˆ†æ¥ç†è§£ï¼š

### 1. æ•´ä½“ç»“æ„ï¼š`[ç”¨æˆ·å@ä¸»æœºå å½“å‰ç›®å½•]æƒé™æ ‡è¯†ç¬¦`
*   **`[` å’Œ `]`**ï¼š åªæ˜¯ä¸¤ä¸ªæ‹¬å·ï¼Œç”¨æ¥æŠŠå‰é¢çš„ä¿¡æ¯æ‹¬èµ·æ¥ï¼Œä½¿å…¶åœ¨è§†è§‰ä¸Šæˆä¸ºä¸€ä¸ªæ•´ä½“ï¼Œæ›´å®¹æ˜“é˜…è¯»ã€‚
*   **`lxlei`**ï¼š è¿™æ˜¯å½“å‰ç™»å½•ç³»ç»Ÿçš„**ç”¨æˆ·å**ã€‚è¡¨ç¤ºä½ æ­£ä»¥ç”¨æˆ· â€œlxleiâ€ çš„èº«ä»½åœ¨æ“ä½œã€‚
*   **`@`**ï¼š åªæ˜¯ä¸€ä¸ªåˆ†éš”ç¬¦å·ï¼Œè¯»ä½œè‹±æ–‡çš„ â€œatâ€ï¼Œè¡¨ç¤ºâ€œåœ¨...â€ã€‚
*   **`localhost`**ï¼š è¿™æ˜¯ä½ å½“å‰ç™»å½•çš„è®¡ç®—æœºçš„**ä¸»æœºå**ã€‚`localhost` æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ä¸»æœºåï¼Œå®ƒæ€»æ˜¯æŒ‡å‘å½“å‰è¿™å°æœºå™¨æœ¬èº«ã€‚å¦‚æœä½ çš„è®¡ç®—æœºæœ‰è‡ªå·±è®¾å®šçš„åå­—ï¼ˆæ¯”å¦‚ `my-pc`, `server-01`ï¼‰ï¼Œè¿™é‡Œå°±ä¼šæ˜¾ç¤ºé‚£ä¸ªåå­—ã€‚
*   **`/`**ï¼š è¿™æ˜¯ä½ å½“å‰æ‰€åœ¨çš„**å·¥ä½œç›®å½•**ï¼ˆä¹Ÿå«å½“å‰ç›®å½•ï¼‰ã€‚ä¸€ä¸ªå•ç‹¬çš„æ–œæ  `/` ä»£è¡¨çš„æ˜¯Linuxæ–‡ä»¶ç³»ç»Ÿçš„**æ ¹ç›®å½•**ï¼Œæ˜¯æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•çš„èµ·ç‚¹ã€‚å¦‚æœä½ åœ¨ `/home/lxlei` ç›®å½•ä¸‹ï¼Œè¿™é‡Œæ˜¾ç¤ºçš„å°±æ˜¯ `lxlei` æˆ–å®Œæ•´çš„ `/home/lxlei`ã€‚
*   **`$`**ï¼š è¿™æ˜¯**å‘½ä»¤æç¤ºç¬¦**æœ¬èº«ï¼Œå®ƒå‘Šè¯‰ä½ åé¢å¯ä»¥å¼€å§‹è¾“å…¥å‘½ä»¤äº†ã€‚è¿™ä¸ªç¬¦å·ä¹Ÿæš—ç¤ºäº†å½“å‰ç”¨æˆ·çš„**æƒé™ç­‰çº§**ï¼š
    *   **`$`**ï¼š è¡¨ç¤ºå½“å‰ç™»å½•çš„æ˜¯**æ™®é€šç”¨æˆ·**ã€‚
    *   **`#`**ï¼š å¦‚æœè¿™é‡Œæ˜¾ç¤ºçš„æ˜¯äº•å·ï¼Œåˆ™è¡¨ç¤ºå½“å‰ç™»å½•çš„æ˜¯**è¶…çº§ç”¨æˆ·ï¼ˆrootï¼‰**ã€‚rootç”¨æˆ·æ‹¥æœ‰ç³»ç»Ÿçš„æœ€é«˜æƒé™ï¼Œå¯ä»¥æ‰§è¡Œä»»ä½•æ“ä½œï¼Œéœ€è¦éå¸¸å°å¿ƒã€‚

---

### 2. æ€»ç»“ä¸ä¸¾ä¾‹

æ‰€ä»¥ï¼Œ`[lxlei@localhost /]$` æ•´å¥çš„æ„æ€æ˜¯ï¼š

> **â€œä½ å¥½ï¼Œlxleiã€‚ä½ å½“å‰æ­£ç™»å½•åœ¨åä¸º â€˜localhostâ€™ çš„è¿™å°æœºå™¨ä¸Šï¼Œå¹¶ä¸”ä½ æ­£å¤„äºç³»ç»Ÿçš„æ ¹ç›®å½• (/) ä¸‹ã€‚ä½ ç°åœ¨æ˜¯ä¸€ä¸ªæ™®é€šç”¨æˆ·ï¼ˆ$ï¼‰ï¼Œå¯ä»¥å¼€å§‹è¾“å…¥ä½ çš„å‘½ä»¤äº†ã€‚â€**

---

### 2.2 æŒ‡ä»¤ç»“æ„

Linux å‘½ä»¤é€šå¸¸éµå¾ªä¸€ä¸ªæ ‡å‡†çš„æ¨¡å¼ï¼Œå¯ä»¥åˆ†è§£ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š

**`command [options] [arguments]`**

*   **`command`**ï¼šå‘½ä»¤æœ¬èº«ï¼Œè¡¨ç¤ºè¦æ‰§è¡Œçš„æ“ä½œã€‚
*   **`[options]`**ï¼šé€‰é¡¹ï¼ˆä¹Ÿå«â€œæ ‡å¿—â€æˆ–â€œå¼€å…³â€ï¼‰ï¼Œç”¨äºä¿®æ”¹å‘½ä»¤çš„è¡Œä¸ºã€‚é€šå¸¸ä»¥ `-` æˆ– `--` å¼€å¤´ã€‚
*   **`[arguments]`**ï¼šå‚æ•°ï¼ˆä¹Ÿå«â€œæ“ä½œæ•°â€ï¼‰ï¼ŒæŒ‡å®šå‘½ä»¤ä½œç”¨çš„å¯¹è±¡ï¼Œé€šå¸¸æ˜¯æ–‡ä»¶åã€ç›®å½•åæˆ–ç”¨æˆ·åç­‰ã€‚

**`[ ]` æ–¹æ‹¬å·è¡¨ç¤ºè¯¥éƒ¨åˆ†æ˜¯å¯é€‰çš„**ï¼Œä¸æ˜¯æ‰€æœ‰å‘½ä»¤éƒ½éœ€è¦é€‰é¡¹å’Œå‚æ•°ã€‚

å‘½ä»¤+é€‰é¡¹ï¼‹å‚æ•°

---

### 2.2.1. å‘½ä»¤ (Command)

è¿™æ˜¯æŒ‡ä»¤çš„æ ¸å¿ƒï¼Œå‘Šè¯‰ç³»ç»Ÿä½ è¦â€œåšä»€ä¹ˆâ€ã€‚å®ƒé€šå¸¸æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºï¼Œå¯èƒ½ä½äºä»¥ä¸‹ä½ç½®ä¹‹ä¸€ï¼š

*   **å†…ç½®å‘½ä»¤ (Shell Builtin)**ï¼šå†…ç½®äº Shell æœ¬èº«ï¼ˆå¦‚ `bash` ä¸­çš„ `cd`, `pwd`, `echo`ï¼‰ã€‚
*   **å¤–éƒ¨ç¨‹åº**ï¼šå­˜å‚¨åœ¨æ–‡ä»¶ç³»ç»Ÿç‰¹å®šç›®å½•ï¼ˆå¦‚ `/bin`, `/usr/bin`, `/sbin`ï¼‰ä¸‹çš„ç‹¬ç«‹ç¨‹åºï¼ˆå¦‚ `ls`, `vim`, `python`ï¼‰ã€‚

ä½ å¯ä»¥ç”¨ `type` å‘½ä»¤æ¥æŸ¥çœ‹ä¸€ä¸ªå‘½ä»¤æ˜¯å†…ç½®çš„è¿˜æ˜¯å¤–éƒ¨çš„ï¼š
```bash
type cd   # è¾“å‡º: cd is a shell builtin
type ls   # è¾“å‡º: ls is /usr/bin/ls
```

---

### 2.2.2. é€‰é¡¹ (Options / Flags)

é€‰é¡¹ç”¨äºâ€œå¦‚ä½•â€æ‰§è¡Œå‘½ä»¤ï¼Œå³ä¿®æ”¹å‘½ä»¤çš„é»˜è®¤è¡Œä¸ºã€‚

*   **çŸ­é€‰é¡¹ (Short Options)**ï¼šé€šå¸¸ä»¥**å•ä¸ªè¿å­—ç¬¦ `-`** å¼€å¤´ï¼Œåè·Ÿä¸€ä¸ªå­—æ¯ã€‚
    *   å¯ä»¥ç»„åˆä½¿ç”¨ï¼š`-a -l -h` å¯ä»¥å†™æˆ `-alh`ã€‚
    *   ä¾‹å­ï¼š`ls -l` ä¸­çš„ `-l` è¡¨ç¤ºä»¥é•¿æ ¼å¼åˆ—è¡¨æ˜¾ç¤ºã€‚

*   **é•¿é€‰é¡¹ (Long Options)**ï¼šé€šå¸¸ä»¥**åŒè¿å­—ç¬¦ `--`** å¼€å¤´ï¼Œåè·Ÿä¸€ä¸ªå®Œæ•´çš„å•è¯ã€‚
    *   å¯è¯»æ€§æ›´å¼ºï¼Œä½†ä¸èƒ½ç»„åˆã€‚
    *   ä¾‹å­ï¼š`ls --all` ä¸­çš„ `--all` è¡¨ç¤ºæ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶ï¼‰ã€‚å®ƒç­‰åŒäºçŸ­é€‰é¡¹ `-a`ã€‚

**ç¤ºä¾‹ï¼š**
```bash
# ä½¿ç”¨çŸ­é€‰é¡¹
ls -l -a      # ä»¥é•¿æ ¼å¼æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶ï¼‰
ls -la        # ä¸ä¸Šä¸€è¡Œç­‰ä»·ï¼Œé€‰é¡¹åˆå¹¶äº†

# ä½¿ç”¨é•¿é€‰é¡¹
ls --all --human-readable # æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶å¹¶ä»¥æ˜“è¯»æ ¼å¼ï¼ˆK, M, Gï¼‰æ˜¾ç¤ºå¤§å°
```

---

### 2.2.3. å‚æ•° (Arguments)

å‚æ•°æŒ‡å®šå‘½ä»¤æ“ä½œçš„å¯¹è±¡ï¼Œå³â€œå¯¹ä»€ä¹ˆæ‰§è¡Œâ€ã€‚

*   å‚æ•°å¯ä»¥æ˜¯**æ–‡ä»¶å**ã€**ç›®å½•å**ã€**ç”¨æˆ·å**ã€**ä¸»æœºå**ç­‰ï¼Œå…·ä½“å–å†³äºå‘½ä»¤ã€‚
*   æœ‰äº›å‘½ä»¤éœ€è¦å›ºå®šæ•°é‡çš„å‚æ•°ï¼Œæœ‰äº›å¯ä»¥æ¥å—ä»»æ„æ•°é‡ï¼Œæœ‰äº›åˆ™å¯ä»¥ä¸éœ€è¦å‚æ•°ã€‚

**ç¤ºä¾‹ï¼š**
```bash
# å‚æ•°æ˜¯æ–‡ä»¶å
cat file1.txt file2.txt  # å°† file1.txt å’Œ file2.txt çš„å†…å®¹è¿æ¥è¾“å‡º
rm old_file.txt          # åˆ é™¤åä¸º old_file.txt çš„æ–‡ä»¶

# å‚æ•°æ˜¯ç›®å½•å
ls /home                 # åˆ—å‡º /home ç›®å½•ä¸‹çš„å†…å®¹
cd Documents             # åˆ‡æ¢åˆ°å½“å‰ç›®å½•ä¸‹çš„ Documents ç›®å½•

# å‚æ•°æ˜¯ç”¨æˆ·å
chown alice file.txt     # å°† file.txt çš„æ‰€æœ‰è€…æ”¹ä¸ºç”¨æˆ· alice
```

---

### ç»¼åˆå®ä¾‹åˆ†æ

è®©æˆ‘ä»¬åˆ†è§£ä¸€äº›å¸¸è§çš„å¤æ‚å‘½ä»¤ï¼š

**ç¤ºä¾‹ 1: `tar`**
```bash
tar -czvf backup.tar.gz /home/user/Documents
```
*   **å‘½ä»¤**: `tar` (å½’æ¡£å·¥å…·)
*   **é€‰é¡¹**:
    *   `-c`ï¼š**c**reateï¼Œåˆ›å»ºæ–°çš„å½’æ¡£æ–‡ä»¶ã€‚
    *   `-z`ï¼šä½¿ç”¨ g**z**ip å‹ç¼©ã€‚
    *   `-v`ï¼š**v**erboseï¼Œæ˜¾ç¤ºè¯¦ç»†å¤„ç†è¿‡ç¨‹ã€‚
    *   `-f`ï¼šæŒ‡å®šå½’æ¡£**f**ilenameã€‚
*   **å‚æ•°**:
    *   `backup.tar.gz`ï¼šæ˜¯ `-f` é€‰é¡¹çš„å‚æ•°ï¼ŒæŒ‡å®šç”Ÿæˆçš„å½’æ¡£æ–‡ä»¶åã€‚
    *   `/home/user/Documents`ï¼šæ˜¯å‘½ä»¤çš„ä¸»è¦å‚æ•°ï¼ŒæŒ‡å®šè¦è¢«å½’æ¡£çš„ç›®å½•ã€‚

**ç¤ºä¾‹ 2: `find`**
```bash
find /var/log -name "*.log" -type f -mtime +7 -exec rm {} \;
```
*   **å‘½ä»¤**: `find` (æŸ¥æ‰¾æ–‡ä»¶)
*   **å‚æ•°/é€‰é¡¹**:
    *   `/var/log`ï¼šæŸ¥æ‰¾çš„èµ·å§‹è·¯å¾„ã€‚
    *   `-name "*.log"`ï¼šé€‰é¡¹ï¼ŒæŒ‰åç§°æœç´¢ï¼ˆæ‰€æœ‰ .log ç»“å°¾çš„æ–‡ä»¶ï¼‰ã€‚
    *   `-type f`ï¼šé€‰é¡¹ï¼ŒåªæŸ¥æ‰¾æ™®é€šæ–‡ä»¶ã€‚
    *   `-mtime +7`ï¼šé€‰é¡¹ï¼ŒæŸ¥æ‰¾7å¤©å‰ä¿®æ”¹è¿‡çš„æ–‡ä»¶ã€‚
    *   `-exec rm {} \;`ï¼šé€‰é¡¹ï¼Œå¯¹æ‰¾åˆ°çš„æ¯ä¸ªæ–‡ä»¶æ‰§è¡Œ `rm` å‘½ä»¤ã€‚

---

### å…¶ä»–é‡è¦æ¦‚å¿µå’Œç¬¦å·

1.  **ç©ºæ ¼åˆ†éš”**ï¼šå‘½ä»¤ã€é€‰é¡¹ã€å‚æ•°ä¹‹é—´å¿…é¡»ç”¨**ç©ºæ ¼**åˆ†éš”ã€‚
2.  **`--` ç»ˆæ­¢é€‰é¡¹è§£æ**ï¼šåŒè¿å­—ç¬¦ `--` ç”¨äºå‘Šè¯‰å‘½ä»¤â€œåé¢çš„å†…å®¹ä¸å†æ˜¯é€‰é¡¹â€ï¼Œå³ä½¿å®ƒä»¥ `-` å¼€å¤´ã€‚è¿™åœ¨å¤„ç†ç‰¹æ®Šæ–‡ä»¶åçš„åœºæ™¯ä¸‹éå¸¸æœ‰ç”¨ã€‚
    ```bash
    rm -- -my-weird-file.txt # åˆ é™¤ä¸€ä¸ªä»¥çŸ­æ¨ªçº¿å¼€å¤´çš„æ–‡ä»¶
    ```
3.  **å¼•ç”¨å‚æ•°**ï¼šå¦‚æœå‚æ•°åŒ…å«ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦ï¼Œéœ€è¦ç”¨**å¼•å·**ï¼ˆå•å¼•å· `'` æˆ–åŒå¼•å· `"`ï¼‰å°†å…¶æ‹¬èµ·æ¥ã€‚
    ```bash
    echo "Hello World"  # æ­£ç¡®
    mkdir 'My Folder'   # åˆ›å»ºä¸€ä¸ªåŒ…å«ç©ºæ ¼çš„ç›®å½•
    ```

---

### æ€»ç»“

Linux æŒ‡ä»¤çš„ç»“æ„å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š**å‘½ä»¤ [é€‰é¡¹] [å‚æ•°]**ã€‚

*   **å‘½ä»¤**ï¼šè¦æ‰§è¡Œçš„æ“ä½œã€‚
*   **é€‰é¡¹**ï¼šä»¥ `-` æˆ– `--` å¼€å¤´ï¼Œå†³å®šæ“ä½œçš„æ–¹å¼ã€‚
*   **å‚æ•°**ï¼šæ“ä½œçš„ç›®æ ‡å¯¹è±¡ã€‚
   
----

## 3. å¸¸ç”¨æŒ‡ä»¤
### 3.1 æ–‡ä»¶æ“ä½œ
å¢åˆ æ”¹æŸ¥
å¥½çš„ï¼Œè¿™æ˜¯åœ¨ Linux ç³»ç»Ÿä¸­å¯¹æ–‡ä»¶è¿›è¡Œå¢ã€åˆ ã€æ”¹ã€æŸ¥çš„æ ¸å¿ƒç»ˆç«¯å‘½ä»¤å¤§å…¨ã€‚æˆ‘å°†å®ƒä»¬åˆ†é—¨åˆ«ç±»ï¼Œå¹¶é™„ä¸Šå¸¸ç”¨ç¤ºä¾‹ã€‚

---

### ä¸€ã€æŸ¥ï¼ˆView & Findï¼‰ï¼šæŸ¥çœ‹å’ŒæŸ¥æ‰¾æ–‡ä»¶

è¿™æ˜¯æœ€å¸¸ç”¨çš„æ“ä½œã€‚

#### 1. `ls` - **åˆ—å‡ºç›®å½•å†…å®¹**
   - `ls`ï¼šåˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶å’Œç›®å½•ï¼ˆä¸æ˜¾ç¤ºéšè—æ–‡ä»¶ï¼‰ã€‚
   - `ls -l`ï¼šä»¥**é•¿æ ¼å¼**åˆ—å‡ºï¼Œæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼ˆæƒé™ã€æ‰€æœ‰è€…ã€å¤§å°ã€ä¿®æ”¹æ—¶é—´ï¼‰ã€‚
   - `ls -a`ï¼šåˆ—å‡º**æ‰€æœ‰**æ–‡ä»¶ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶ï¼ˆä»¥ `.` å¼€å¤´çš„æ–‡ä»¶ï¼‰ã€‚
   - `ls -la`ï¼š`-l` å’Œ `-a` çš„ç»„åˆ
   - `ls -alh`ï¼š`-l`å’Œ`-a`å’Œ`-h`çš„ç»„åˆ
   - `ls /path/to/dir`ï¼šåˆ—å‡ºæŒ‡å®šç›®å½•çš„å†…å®¹ã€‚

#### 2. `cat` - **æŸ¥çœ‹æ–‡ä»¶å…¨éƒ¨å†…å®¹**
   - `cat file.txt`ï¼šåœ¨ç»ˆç«¯ä¸­ä¸€æ¬¡æ€§æ˜¾ç¤º `file.txt` çš„å…¨éƒ¨å†…å®¹ã€‚é€‚åˆæŸ¥çœ‹**çŸ­å°**çš„æ–‡ä»¶ã€‚

#### 3. `less` / `more` - **åˆ†é¡µæŸ¥çœ‹æ–‡ä»¶å†…å®¹**
   - `less file.txt`ï¼š**æ¨èä½¿ç”¨**ã€‚åˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œæ”¯æŒä¸Šä¸‹æ»šåŠ¨ã€æœç´¢ï¼ˆæŒ‰ `/` ç„¶åè¾“å…¥å…³é”®è¯ï¼‰ã€‚
     - **é€€å‡ºï¼š** æŒ‰ `q` é”®ã€‚
     - **æœç´¢åè·³è½¬ï¼š** æŒ‰ `n`ï¼ˆä¸‹ä¸€ä¸ªåŒ¹é…é¡¹ï¼‰ï¼Œ`N`ï¼ˆä¸Šä¸€ä¸ªåŒ¹é…é¡¹ï¼‰ã€‚
   - `more file.txt`ï¼šåŠŸèƒ½ç±»ä¼¼ `less`ï¼Œä½†åŠŸèƒ½æ›´ç®€å•ã€‚

#### 4. `head` / `tail` - **æŸ¥çœ‹æ–‡ä»¶å¼€å¤´æˆ–ç»“å°¾**
   - `head -n 10 file.txt`ï¼šæŸ¥çœ‹æ–‡ä»¶çš„å‰10è¡Œã€‚
   - `tail -n 10 file.txt`ï¼šæŸ¥çœ‹æ–‡ä»¶çš„æœ€å10è¡Œã€‚
   - `tail -f logfile.log`ï¼š**å®æ—¶è¿½è¸ª**æ—¥å¿—æ–‡ä»¶çš„æ–°å†…å®¹ï¼Œéå¸¸é€‚åˆç›‘æ§æ—¥å¿—ã€‚æŒ‰ `Ctrl+C` é€€å‡ºã€‚

#### 5. `find` - **é«˜çº§æŸ¥æ‰¾**
   - `find /home -name "*.txt"`ï¼šåœ¨ `/home` ç›®å½•ä¸‹**æŸ¥æ‰¾æ‰€æœ‰æ‰©å±•åä¸º `.txt` çš„æ–‡ä»¶**ã€‚
   - `find . -name "config*" -type f`ï¼šåœ¨å½“å‰ç›®å½•ï¼ˆ`.`ï¼‰ä¸‹æŸ¥æ‰¾**æ–‡ä»¶åä»¥ `config` å¼€å¤´**çš„**æ™®é€šæ–‡ä»¶ï¼ˆ`-type f`ï¼‰**ã€‚
   - `find / -type f -size +100M`ï¼šåœ¨æ•´ä¸ªç³»ç»Ÿï¼ˆ`/`ï¼‰ä¸­æŸ¥æ‰¾**å¤§äº100MB**çš„æ–‡ä»¶ã€‚

#### 6. `grep` - **åœ¨æ–‡ä»¶å†…å®¹ä¸­æŸ¥æ‰¾**
   - `grep "error" logfile.log`ï¼šåœ¨ `logfile.log` æ–‡ä»¶ä¸­æœç´¢åŒ…å«å…³é”®è¯ `"error"` çš„**è¡Œ**ã€‚
   - `grep -r "function_name" /path/to/code/`ï¼š**é€’å½’æœç´¢**ï¼ˆ`-r`ï¼‰`/path/to/code/` ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼ŒæŸ¥æ‰¾åŒ…å« `"function_name"` çš„æ–‡ä»¶ã€‚
   - `grep -i "warning" file.txt`ï¼š**å¿½ç•¥å¤§å°å†™**ï¼ˆ`-i`ï¼‰åœ°æœç´¢ `"warning"`ã€‚

#### 7. `which` / `whereis` - **æŸ¥æ‰¾å‘½ä»¤çš„ä½ç½®**
   - `which ls`ï¼šæ˜¾ç¤º `ls` è¿™ä¸ª**å‘½ä»¤çš„å¯æ‰§è¡Œæ–‡ä»¶**å­˜æ”¾åœ¨å“ªä¸ªè·¯å¾„ã€‚
   - `whereis python`ï¼šæ˜¾ç¤º `python` è¿™ä¸ªå‘½ä»¤çš„**äºŒè¿›åˆ¶æ–‡ä»¶ã€æºç å’Œæ‰‹å†Œé¡µ**çš„ä½ç½®ã€‚

---

### äºŒã€å¢ï¼ˆCreateï¼‰ï¼šåˆ›å»ºæ–‡ä»¶å’Œç›®å½•

#### 1. `touch` - **åˆ›å»ºç©ºæ–‡ä»¶**æˆ–**æ›´æ–°æ–‡ä»¶æ—¶é—´æˆ³**
   - `touch new_file.txt`ï¼šå¦‚æœ `new_file.txt` ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºæ–‡ä»¶ï¼›å¦‚æœå­˜åœ¨ï¼Œåˆ™æ›´æ–°å®ƒçš„æœ€åä¿®æ”¹æ—¶é—´ã€‚

#### 2. `mkdir` - **åˆ›å»ºæ–°ç›®å½•**
   - `mkdir new_folder`ï¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºåä¸º `new_folder` çš„ç›®å½•ã€‚
   - `mkdir -p project/{src,docs,test}`ï¼š**ä¸€æ¬¡æ€§åˆ›å»ºåµŒå¥—ç›®å½•**ã€‚`-p` 
   - å‚æ•°å…è®¸åˆ›å»ºå¤šçº§ç›®å½•ã€‚æ­¤å‘½ä»¤ä¼šåˆ›å»º `project/src`, `project/docs`, `project/test`ã€‚

#### 3. `echo` + `>` - **åˆ›å»ºå¹¶å†™å…¥å†…å®¹**
   - `echo "Hello World" > hello.txt`ï¼šåˆ›å»º `hello.txt` æ–‡ä»¶ï¼Œå¹¶å†™å…¥ `"Hello World"`ã€‚**å¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œä¼šè¦†ç›–åŸæœ‰å†…å®¹**ã€‚
   - `echo "New line" >> hello.txt`ï¼š**è¿½åŠ **ï¼ˆ`>>`ï¼‰å†…å®¹åˆ° `hello.txt` æ–‡ä»¶çš„æœ«å°¾ï¼Œä¸ä¼šè¦†ç›–åŸå†…å®¹ã€‚

---

### ä¸‰ã€æ”¹ï¼ˆModifyï¼‰ï¼šä¿®æ”¹ã€ç§»åŠ¨å’Œå¤åˆ¶

#### 1. `cp` - **å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•**
   - `cp file.txt file_backup.txt`ï¼šå¤åˆ¶ `file.txt` ä¸º `file_backup.txt`ã€‚
   - `cp [æºæ–‡ä»¶] [å¤‡ä»½æ–‡ä»¶]`
   - 
   - `cp -r dir1/ dir2/`ï¼š**é€’å½’å¤åˆ¶**ï¼ˆ`-r`ï¼‰æ•´ä¸ª `dir1` ç›®å½•åˆ° `dir2` ç›®å½•ã€‚

#### 2. `mv` - **ç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶/ç›®å½•**
   - `mv old_name.txt new_name.txt`ï¼š**é‡å‘½å**æ–‡ä»¶ã€‚
   - `mv file.txt /tmp/`ï¼šå°† `file.txt` **ç§»åŠ¨**åˆ° `/tmp/` ç›®å½•ä¸‹ã€‚
   - `mv aa.txt aa`: å°† `aa.txt` **ç§»åŠ¨**åˆ° `aa` ç›®å½•ä¸‹ã€‚

### å››ã€åˆ ï¼ˆRemoveï¼‰ï¼šåˆ é™¤

#### 1. `rm` - **åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•**ï¼ˆâš ï¸ **å±é™©ï¼æ…ç”¨ï¼**ï¼‰
   - `rm file.txt`ï¼šåˆ é™¤ `file.txt` æ–‡ä»¶ã€‚
   - `rm -r folder_name/`ï¼š**é€’å½’åˆ é™¤**ï¼ˆ`-r`ï¼‰æ•´ä¸ª `folder_name` ç›®å½•åŠå…¶å†…éƒ¨æ‰€æœ‰å†…å®¹ã€‚
   - `rm -f log.txt`ï¼š**å¼ºåˆ¶åˆ é™¤**ï¼ˆ`-f`ï¼‰ï¼Œä¸æç¤ºç¡®è®¤ã€‚`-f` å’Œ `-r` ç»“åˆéå¸¸å±é™©ã€‚
   - `rm -i` å¸¦æç¤ºçš„åˆ é™¤
   - `rm -rf` å¼ºåˆ¶æ€§åˆ é™¤
   - **âš ï¸ è­¦å‘Šï¼š** `rm -rf /` æˆ– `rm -rf *` æ˜¯æ¯ç­æ€§çš„å‘½ä»¤ï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿè¢«æ“¦é™¤ã€‚

#### 2.rmdir - **åˆ é™¤ç›®å½•**


#### 3. æ–‡æœ¬ç¼–è¾‘å™¨
   - `nano file.txt`ï¼šç®€å•æ˜“ç”¨çš„å‘½ä»¤è¡Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œé€‚åˆæ–°æ‰‹ã€‚
   - `vim file.txt` æˆ– `vi file.txt`ï¼šåŠŸèƒ½å¼ºå¤§ä½†å­¦ä¹ æ›²çº¿è¾ƒé™¡çš„ä¸“ä¸šç¼–è¾‘å™¨ã€‚

---

### å…¶ä»–é‡è¦ç›¸å…³å‘½ä»¤

#### 1. `pwd` - **æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•**
   - å‘Šè¯‰ä½ ä½ ç°åœ¨åœ¨å“ªä¸ªç›®å½•é‡Œã€‚

#### 2. `cd` - **åˆ‡æ¢ç›®å½•**
   - `cd /path/to/dir`: åˆ‡æ¢åˆ°ç»å¯¹è·¯å¾„ã€‚
   - `cd relative/path`: åˆ‡æ¢åˆ°ç›¸å¯¹è·¯å¾„	
   - `cd ..`ï¼šåˆ‡æ¢åˆ°ä¸Šä¸€çº§ç›®å½•ã€‚
   - `cd ~` æˆ– `cd`: ç›´æ¥å›åˆ°å½“å‰ç”¨æˆ·çš„**å®¶ç›®å½•**ï¼ˆ`/home/ä½ çš„ç”¨æˆ·å`ï¼‰ã€‚
   - `cd -`: åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªå·¥ä½œç›®å½•ï¼ˆæ¥å›åˆ‡æ¢ï¼‰
   - `cd .`: ä¿æŒåœ¨å½“å‰ç›®å½•ï¼ˆæ— å®é™…æ•ˆæœï¼‰	
   - `$VAR`: åˆ‡æ¢åˆ°ç¯å¢ƒå˜é‡æŒ‡å®šçš„è·¯å¾„

#### 3. `file` - **æŸ¥çœ‹æ–‡ä»¶ç±»å‹**
   - `file picture.jpg`ï¼šå‘Šè¯‰ä½  `picture.jpg` æ˜¯ä¸€ä¸ª JPEG image data...ï¼Œè€Œä¸æ˜¯ç®€å•åœ°çœ‹åç¼€åã€‚

### é€ŸæŸ¥è¡¨

| æ“ä½œ | å‘½ä»¤ | å¸¸ç”¨ç¤ºä¾‹ |
| :--- | :--- | :--- |
| **åˆ—ç›®å½•** | `ls` | `ls -la` |
| **çœ‹å†…å®¹** | `cat`, `less` | `less file.log` |
| **æ‰¾æ–‡ä»¶** | `find` | `find . -name "*.txt"` |
| **æ‰¾å†…å®¹** | `grep` | `grep -r "error" /var/log/` |
| **åˆ›å»ºæ–‡ä»¶** | `touch` | `touch new_file` |
| **åˆ›å»ºç›®å½•** | `mkdir` | `mkdir -p parent/child` |
| **å¤åˆ¶** | `cp` | `cp -r old_dir/ new_dir/` |
| **ç§»åŠ¨/é‡å‘½å** | `mv` | `mv old new` |
| **åˆ é™¤** | `rm` (**å°å¿ƒ!**) | `rm -r bad_dir/` |
| **çœ‹å½“å‰ä½ç½®** | `pwd` | `pwd` |
| **åˆ‡æ¢ä½ç½®** | `cd` | `cd ~` |

åœ¨ç»ˆç«¯é‡Œæ“ä½œï¼Œå°¤å…¶æ˜¯ `rm`ï¼ˆåˆ é™¤ï¼‰å’Œ `mv`ï¼ˆç§»åŠ¨/é‡å‘½åï¼‰æ—¶ï¼Œä¸€å®šè¦**ç¡®è®¤å¥½è·¯å¾„å’Œæ–‡ä»¶å**å†æŒ‰å›è½¦ï¼

---

### 3.2 æœç´¢å‘½ä»¤

### ä¸€ã€æŒ‰æ–‡ä»¶åæœç´¢

### 1. `find` - æœ€å¼ºå¤§ã€æœ€å¸¸ç”¨çš„æœç´¢å‘½ä»¤
åœ¨æŒ‡å®šç›®å½•åŠå…¶å­ç›®å½•ä¸­é€’å½’æœç´¢æ–‡ä»¶ã€‚

**åŸºæœ¬è¯­æ³•ï¼š**
```bash
find [è·¯å¾„] [é€‰é¡¹] [è¡¨è¾¾å¼]
```

### `find` **æœç´¢**å‘½ä»¤å¸¸è§ç”¨æ³•  

   - `find . -name "filename.txt"`ï¼šåœ¨å½“å‰ç›®å½•åŠå­ç›®å½•ä¸­æœç´¢åä¸º "filename.txt" çš„æ–‡ä»¶
   - `find . -iname "filename.txt"`: ä¸åŒºåˆ†å¤§å°å†™æœç´¢


#### `find` - **æŸ¥æ‰¾æ–‡ä»¶å’Œç›®å½•**

**åŸºæœ¬è¯­æ³•ï¼š**
```bash
find [è·¯å¾„...] [è¡¨è¾¾å¼]
```

**å¸¸ç”¨ç”¨æ³•ï¼š**

**1. åŸºæœ¬æŸ¥æ‰¾**
- `find`ï¼šæŸ¥æ‰¾å½“å‰ç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•ä¸­çš„æ–‡ä»¶ã€‚
- `find /path/to/dir`ï¼šåœ¨æŒ‡å®šç›®å½•ä¸­æŸ¥æ‰¾ã€‚
- `find . -name "filename"`ï¼šæŒ‰**æ–‡ä»¶å**æŸ¥æ‰¾ï¼ˆç²¾ç¡®åŒ¹é…ï¼‰ã€‚
- `find . -name "*.txt"`ï¼šä½¿ç”¨é€šé…ç¬¦æŸ¥æ‰¾æ‰€æœ‰`.txt`æ–‡ä»¶ã€‚

**2. æŒ‰ç±»å‹æŸ¥æ‰¾**
- `find . -type f`ï¼šåªæŸ¥æ‰¾**æ™®é€šæ–‡ä»¶**ã€‚
- `find . -type d`ï¼šåªæŸ¥æ‰¾**ç›®å½•**ã€‚
- `find . -type l`ï¼šåªæŸ¥æ‰¾**ç¬¦å·é“¾æ¥**ã€‚

**3. æŒ‰æ—¶é—´æŸ¥æ‰¾**
- `find . -mtime -7`ï¼šæŸ¥æ‰¾**7å¤©å†…**ä¿®æ”¹è¿‡çš„æ–‡ä»¶ã€‚
- `find . -mtime +30`ï¼šæŸ¥æ‰¾**30å¤©å‰**ä¿®æ”¹è¿‡çš„æ–‡ä»¶ã€‚
- `find . -amin -60`ï¼šæŸ¥æ‰¾**60åˆ†é’Ÿå†…**è®¿é—®è¿‡çš„æ–‡ä»¶ã€‚
- `find . -newer file.txt`ï¼šæŸ¥æ‰¾æ¯”`file.txt`æ›´æ–°çš„æ–‡ä»¶ã€‚

**4. æŒ‰å¤§å°æŸ¥æ‰¾**
- `find . -size +10M`ï¼šæŸ¥æ‰¾**å¤§äº10MB**çš„æ–‡ä»¶ã€‚
- `find . -size -1G`ï¼šæŸ¥æ‰¾**å°äº1GB**çš„æ–‡ä»¶ã€‚
- `find . -size 0`ï¼šæŸ¥æ‰¾**ç©ºæ–‡ä»¶**ã€‚

**5. ç»„åˆæ¡ä»¶æŸ¥æ‰¾**
- `find . -name "*.log" -type f -mtime +30`ï¼šæŸ¥æ‰¾30å¤©å‰çš„`.log`æ–‡ä»¶ã€‚
- `find . -size +100M -exec ls -lh {} \;`ï¼šæŸ¥æ‰¾å¤§äº100MBçš„æ–‡ä»¶å¹¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ã€‚
- `find . -name "temp*" -delete`ï¼šæŸ¥æ‰¾å¹¶åˆ é™¤ä»¥`temp`å¼€å¤´çš„æ–‡ä»¶ã€‚

**6. æ‰§è¡Œæ“ä½œ**
- `find . -name "*.jpg" -exec cp {} /backup/ \;`ï¼šæŸ¥æ‰¾æ‰€æœ‰jpgæ–‡ä»¶å¹¶å¤åˆ¶åˆ°backupç›®å½•ã€‚
- `find . -type f -empty -exec rm -f {} \;`ï¼šæŸ¥æ‰¾å¹¶åˆ é™¤æ‰€æœ‰ç©ºæ–‡ä»¶ã€‚
- `find . -perm 644`ï¼šæŸ¥æ‰¾æƒé™ä¸º644çš„æ–‡ä»¶ã€‚

**7. å…¶ä»–å¸¸ç”¨é€‰é¡¹**
- `find . -maxdepth 2 -name "*.py"`ï¼šé™åˆ¶æœç´¢æ·±åº¦ä¸º2å±‚ã€‚
- `find . -user username`ï¼šæŒ‰æ–‡ä»¶æ‰€æœ‰è€…æŸ¥æ‰¾ã€‚
- `find . -iname "readme"`ï¼šä¸åŒºåˆ†å¤§å°å†™æŒ‰æ–‡ä»¶åæŸ¥æ‰¾ã€‚

**ç¤ºä¾‹ç»„åˆï¼š**
```bash
# æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹7å¤©å†…ä¿®æ”¹è¿‡çš„å¤§äº1MBçš„Pythonæ–‡ä»¶
find . -name "*.py" -type f -size +1M -mtime -7

# æŸ¥æ‰¾å¹¶å‹ç¼©æ‰€æœ‰æ—¥å¿—æ–‡ä»¶
find /var/log -name "*.log" -exec gzip {} \;
```

---

## äºŒã€æŒ‰æ–‡ä»¶å†…å®¹æœç´¢

### 2. `grep` - æ–‡æœ¬å†…å®¹æœç´¢å·¥å…·
åœ¨æ–‡ä»¶å†…å®¹ä¸­æœç´¢ç‰¹å®šçš„æ–‡æœ¬æ¨¡å¼ã€‚

**åŸºæœ¬è¯­æ³•ï¼š**
```bash
grep [é€‰é¡¹] "æœç´¢æ¨¡å¼" [æ–‡ä»¶]
```

**å¸¸ç”¨ç¤ºä¾‹ï¼š**
```bash
# åœ¨æ–‡ä»¶ä¸­æœç´¢åŒ…å« "error" çš„è¡Œ
grep "error" filename.log

# é€’å½’æœç´¢å½“å‰ç›®å½•åŠå­ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶
grep -r "TODO" .

# ä¸åŒºåˆ†å¤§å°å†™æœç´¢
grep -i "error" file.txt

# æ˜¾ç¤ºåŒ¹é…è¡Œçš„è¡Œå·
grep -n "pattern" file.txt

# åªæ˜¾ç¤ºåŒ¹é…çš„æ–‡ä»¶åï¼ˆä¸æ˜¾ç¤ºå…·ä½“è¡Œï¼‰
grep -l "pattern" *.txt

# åå‘æœç´¢ï¼ˆæ˜¾ç¤ºä¸åŒ…å«æ¨¡å¼çš„è¡Œï¼‰
grep -v "success" file.log

# ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢
grep "^[0-9]" file.txt  # ä»¥æ•°å­—å¼€å¤´çš„è¡Œ
grep "\.html$" file.txt # ä»¥ .html ç»“å°¾çš„è¡Œ

# æœç´¢å¤šä¸ªæ¨¡å¼
grep -e "error" -e "warning" file.log

# ç»“åˆ find ä½¿ç”¨ï¼šåœ¨æ‰€æœ‰ .txt æ–‡ä»¶ä¸­æœç´¢
find . -name "*.txt" -exec grep "pattern" {} \;
```

### 3. `ack` / `rg` (ripgrep) - æ›´å¿«çš„æ›¿ä»£å“
è¿™äº›æ˜¯ `grep` çš„ç°ä»£æ›¿ä»£å“ï¼Œæœç´¢é€Ÿåº¦æ›´å¿«ï¼Œé»˜è®¤å¿½ç•¥ç‰ˆæœ¬æ§åˆ¶ç›®å½•ã€‚

```bash
# å¦‚æœå·²å®‰è£… ack
ack "pattern"

# å¦‚æœå·²å®‰è£… ripgrep
rg "pattern"
```

---

## ä¸‰ã€æŒ‰å‘½ä»¤å†å²æœç´¢

### 4. `history` + `grep` - æœç´¢å‘½ä»¤å†å²
```bash
# æœç´¢æ›¾ç»ä½¿ç”¨è¿‡çš„å‘½ä»¤
history | grep "ssh"

# æˆ–è€…ä½¿ç”¨ Ctrl+R è¿›è¡Œåå‘æœç´¢ï¼ˆåœ¨ç»ˆç«¯ä¸­æŒ‰ Ctrl+R ç„¶åè¾“å…¥å…³é”®è¯ï¼‰
```

---

## å››ã€æŒ‰ç¨‹åºåå’Œæ–‡æ¡£æœç´¢

### 5. `which` - æ˜¾ç¤ºå‘½ä»¤çš„å®Œæ•´è·¯å¾„
```bash
# æŸ¥çœ‹å‘½ä»¤çš„ä½ç½®
which python
which git
```

### 6. `whereis` - æŸ¥æ‰¾äºŒè¿›åˆ¶ç¨‹åºã€æºç å’Œæ‰‹å†Œé¡µ
```bash
# æŸ¥æ‰¾å‘½ä»¤çš„ç›¸å…³æ–‡ä»¶
whereis python
whereis ls
```

### 7. `locate` / `mlocate` - åŸºäºæ•°æ®åº“çš„å¿«é€Ÿæ–‡ä»¶æœç´¢
ä½¿ç”¨é¢„å»ºçš„æ•°æ®åº“è¿›è¡Œå¿«é€Ÿæœç´¢ï¼Œä½†éœ€è¦å®šæœŸæ›´æ–°æ•°æ®åº“ã€‚

```bash
# æ›´æ–°æœç´¢æ•°æ®åº“ï¼ˆéœ€è¦sudoï¼‰
sudo updatedb

# å¿«é€Ÿæœç´¢æ–‡ä»¶
locate filename.txt

# é™åˆ¶æœç´¢ç»“æœæ•°é‡
locate "*.jpg" | head -20

# å¿½ç•¥å¤§å°å†™
locate -i "readme"
```

---

## äº”ã€ç»„åˆä½¿ç”¨ç¤ºä¾‹

### å®é™…åº”ç”¨åœºæ™¯

**åœºæ™¯1ï¼šåœ¨é¡¹ç›®ä¸­æœç´¢æ‰€æœ‰åŒ…å« "TODO" çš„ Python æ–‡ä»¶**
```bash
find . -name "*.py" -exec grep -l "TODO" {} \;
# æˆ–è€…æ›´ç®€å•çš„æ–¹å¼
grep -r "TODO" --include="*.py" .
```

**åœºæ™¯2ï¼šæŸ¥æ‰¾æœ€è¿‘ä¿®æ”¹è¿‡çš„å¤§æ–‡ä»¶**
```bash
find . -type f -size +10M -mtime -30 -exec ls -lh {} \;
```

**åœºæ™¯3ï¼šæœç´¢å¹¶å¤„ç†æ–‡ä»¶**
```bash
# æœç´¢æ‰€æœ‰ .log æ–‡ä»¶å¹¶ç»Ÿè®¡è¡Œæ•°
find /var/log -name "*.log" -exec wc -l {} \;

# æœç´¢æ‰€æœ‰ç©ºç›®å½•
find . -type d -empty
```

**åœºæ™¯4ï¼šå¤æ‚çš„æ¡ä»¶æœç´¢**
```bash
# æœç´¢å¤§äº1MBä¸”æœ€è¿‘30å¤©å†…ä¿®æ”¹è¿‡çš„å›¾ç‰‡æ–‡ä»¶
find . -type f \( -name "*.jpg" -o -name "*.png" \) -size +1M -mtime -30
```

---

## å…­ã€å®ç”¨æŠ€å·§

### 1. ä½¿ç”¨é€šé…ç¬¦
```bash
# æœç´¢å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ .txt æ–‡ä»¶
ls *.txt

# é€’å½’æœç´¢ï¼ˆéœ€è¦å¯ç”¨ globstarï¼‰
shopt -s globstar
ls **/*.txt
```

### 2. ç®¡é“ç»„åˆæœç´¢
```bash
# æœç´¢åŒ…å«ç‰¹å®šå†…å®¹çš„æ–‡ä»¶ï¼Œç„¶åç»Ÿè®¡æ•°é‡
grep -r "error" . | wc -l

# æŸ¥æ‰¾å¤§æ–‡ä»¶å¹¶æ’åº
find . -type f -size +100M -exec ls -lh {} \; | sort -k5 -hr
```

## æ€»ç»“

| å‘½ä»¤ | ä¸»è¦ç”¨é€” | ç‰¹ç‚¹ |
|------|----------|------|
| `find` | æŒ‰æ–‡ä»¶åã€å±æ€§æœç´¢ | åŠŸèƒ½æœ€å¼ºå¤§ï¼Œæ”¯æŒé€’å½’ |
| `grep` | æŒ‰æ–‡ä»¶å†…å®¹æœç´¢ | æ–‡æœ¬æœç´¢ä¸“å®¶ |
| `locate` | å¿«é€Ÿæ–‡ä»¶åæœç´¢ | é€Ÿåº¦å¿«ï¼Œä½†éœ€è¦æ›´æ–°æ•°æ®åº“ |
| `which`/`whereis` | æŸ¥æ‰¾å‘½ä»¤ä½ç½® | å®šä½å¯æ‰§è¡Œæ–‡ä»¶ |

æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„å·¥å…·ï¼š
- **æ‰¾æ–‡ä»¶**ï¼šç”¨ `find` æˆ– `locate`
- **æ‰¾å†…å®¹**ï¼šç”¨ `grep`
- **æ‰¾å‘½ä»¤**ï¼šç”¨ `which` æˆ– `whereis`

---

### 3.3å¸®åŠ©å‘½ä»¤
 `man` - **æŸ¥çœ‹å‘½ä»¤æ‰‹å†Œé¡µ**

**åŸºæœ¬è¯­æ³•ï¼š**
```bash
man [é€‰é¡¹] å‘½ä»¤å
```

**å¸¸ç”¨ç”¨æ³•ï¼š**
- `man ls`ï¼šæŸ¥çœ‹`ls`å‘½ä»¤çš„å®Œæ•´æ‰‹å†Œã€‚
- `man -k "keyword"`ï¼šæœç´¢åŒ…å«å…³é”®è¯çš„æ‰‹å†Œé¡µã€‚
- `man 5 passwd`ï¼šæŸ¥çœ‹ç¬¬5èŠ‚ï¼ˆæ–‡ä»¶æ ¼å¼ï¼‰çš„passwdæ‰‹å†Œï¼ˆè€Œä¸æ˜¯ç¬¬1èŠ‚çš„passwdå‘½ä»¤ï¼‰ã€‚
- `man -a command`ï¼šæ˜¾ç¤ºæ‰€æœ‰åŒ¹é…çš„æ‰‹å†ŒèŠ‚ã€‚

**æ‰‹å†ŒèŠ‚è¯´æ˜ï¼š**
- `1`ï¼šç”¨æˆ·å‘½ä»¤
- `2`ï¼šç³»ç»Ÿè°ƒç”¨
- `3`ï¼šåº“å‡½æ•°
- `4`ï¼šç‰¹æ®Šæ–‡ä»¶
- `5`ï¼šæ–‡ä»¶æ ¼å¼
- `6`ï¼šæ¸¸æˆ
- `7`ï¼šæ‚é¡¹
- `8`ï¼šç³»ç»Ÿç®¡ç†å‘½ä»¤

**åœ¨mané¡µé¢ä¸­çš„æ“ä½œï¼š**
- `ç©ºæ ¼`/`Page Down`ï¼šå‘ä¸‹ç¿»é¡µ
- `b`/`Page Up`ï¼šå‘ä¸Šç¿»é¡µ
- `/keyword`ï¼šæœç´¢å…³é”®è¯
- `n`ï¼šä¸‹ä¸€ä¸ªåŒ¹é…é¡¹
- `q`ï¼šé€€å‡ºmané¡µé¢

---

#### `help` - **è·å–shellå†…ç½®å‘½ä»¤å¸®åŠ©**

**åŸºæœ¬è¯­æ³•ï¼š**
```bash
help [é€‰é¡¹] [å‘½ä»¤å]
```

**å¸¸ç”¨ç”¨æ³•ï¼š**
- `help`ï¼šæ˜¾ç¤ºæ‰€æœ‰shellå†…ç½®å‘½ä»¤åˆ—è¡¨ã€‚
- `help cd`ï¼šæŸ¥çœ‹`cd`å‘½ä»¤çš„å¸®åŠ©ï¼ˆå› ä¸ºcdæ˜¯shellå†…ç½®å‘½ä»¤ï¼‰ã€‚
- `help -d command`ï¼šæ˜¾ç¤ºå‘½ä»¤çš„ç®€çŸ­æè¿°ã€‚
- `help -s command`ï¼šæ˜¾ç¤ºå‘½ä»¤çš„è¯­æ³•æ¦‚è¦ã€‚

**é’ˆå¯¹å¤–éƒ¨å‘½ä»¤çš„å¸®åŠ©ï¼š**
- `ls --help`ï¼šå¤§å¤šæ•°GNUå·¥å…·ä½¿ç”¨`--help`é€‰é¡¹ã€‚
- `command --help`ï¼šé€šç”¨çš„å¸®åŠ©é€‰é¡¹ã€‚

---

#### ä¸¤ç§å‘½ä»¤çš„åŒºåˆ«å’Œä½¿ç”¨åœºæ™¯ï¼š

**`man`å‘½ä»¤ï¼š**
- é€‚ç”¨äº**æ‰€æœ‰å‘½ä»¤**ï¼ˆå†…ç½®å‘½ä»¤å’Œå¤–éƒ¨å‘½ä»¤ï¼‰
- æä¾›**å®Œæ•´çš„å®˜æ–¹æ–‡æ¡£**
- å†…å®¹è¯¦ç»†ï¼Œæ ¼å¼è§„èŒƒ
- **ç¤ºä¾‹ï¼š** `man grep`, `man find`, `man bash`

**`help`å‘½ä»¤ï¼š**
- ä¸»è¦é€‚ç”¨äº**shellå†…ç½®å‘½ä»¤**
- å†…å®¹ç®€æ´ï¼Œå¿«é€Ÿå‚è€ƒ
- **ç¤ºä¾‹ï¼š** `help export`, `help alias`, `help echo`

**å®ç”¨æŠ€å·§ï¼š**
```bash
# åˆ¤æ–­å‘½ä»¤ç±»å‹
type cd          # æ˜¾ç¤ºï¼šcd is a shell builtinï¼ˆä½¿ç”¨helpï¼‰
type ls          # æ˜¾ç¤ºï¼šls is /usr/bin/lsï¼ˆä½¿ç”¨manæˆ–--helpï¼‰

# ç»„åˆä½¿ç”¨
whatis command   # æ˜¾ç¤ºå‘½ä»¤çš„ç®€çŸ­æè¿°
which command    # æ˜¾ç¤ºå‘½ä»¤çš„è·¯å¾„
whereis command  # æ˜¾ç¤ºå‘½ä»¤çš„äºŒè¿›åˆ¶ã€æºç å’Œæ‰‹å†Œé¡µä½ç½®

# å¿«é€Ÿå¸®åŠ©å‚è€ƒ
man -f command   # ç­‰åŒäºwhatis
apropos keyword  # ç­‰åŒäºman -k
```

**æ€»ç»“ï¼š**
- **å†…ç½®å‘½ä»¤** â†’ ä½¿ç”¨ `help`
- **å¤–éƒ¨å‘½ä»¤** â†’ ä½¿ç”¨ `man` æˆ– `å‘½ä»¤ --help`
- **ä¸ç¡®å®šæ—¶** â†’ å…ˆç”¨ `type` åˆ¤æ–­å‘½ä»¤ç±»å‹

---

### 3.4å‹ç¼©è§£å‹ä¸æ‰“åŒ…æŒ‡ä»¤


### ä¸€ã€æ‰“åŒ…ä¸å‹ç¼©çš„åŒºåˆ«

| ç±»å‹                  | å«ä¹‰                     | å¸¸è§å‘½ä»¤                        |
| ------------------- | ---------------------- | --------------------------- |
| **æ‰“åŒ…ï¼ˆPackagingï¼‰**   | å°†å¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•åˆå¹¶æˆä¸€ä¸ªæ–‡ä»¶ï¼ˆä¸å‹ç¼©ä½“ç§¯ï¼‰ | `tar`                       |
| **å‹ç¼©ï¼ˆCompressionï¼‰** | å‡å°‘æ–‡ä»¶ä½“ç§¯ï¼ˆå•æ–‡ä»¶æˆ–åŒ…ï¼‰          | `gzip`ã€`bzip2`ã€`xz`ã€`zip` ç­‰ |

> æ‰“åŒ…å¸¸ä¸å‹ç¼©ç»“åˆä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š
> `tar` + `gzip` â†’ `.tar.gz`
> `tar` + `bzip2` â†’ `.tar.bz2`

---

## ğŸ¯ äºŒã€å¸¸ç”¨æ‰“åŒ…å‘½ä»¤ `tar`

### 1ï¸âƒ£ åŸºæœ¬è¯­æ³•

```bash
tar [é€‰é¡¹] [ç›®æ ‡æ–‡ä»¶] [æºæ–‡ä»¶æˆ–ç›®å½•]
```

### 2ï¸âƒ£ å¸¸ç”¨é€‰é¡¹

| é€‰é¡¹   | å«ä¹‰                      |
| ---- | ----------------------- |
| `-c` | åˆ›å»ºæ–°å½’æ¡£ï¼ˆcreateï¼‰           |
| `-x` | è§£åŒ…ï¼ˆextractï¼‰             |
| `-t` | æŸ¥çœ‹å†…å®¹ï¼ˆlistï¼‰              |
| `-v` | æ˜¾ç¤ºè¿‡ç¨‹ï¼ˆverboseï¼‰           |
| `-f` | æŒ‡å®šæ–‡ä»¶åï¼ˆfileï¼‰             |
| `-z` | ç”¨ gzip å‹ç¼©æˆ–è§£å‹ï¼ˆ.tar.gzï¼‰   |
| `-j` | ç”¨ bzip2 å‹ç¼©æˆ–è§£å‹ï¼ˆ.tar.bz2ï¼‰ |
| `-J` | ç”¨ xz å‹ç¼©æˆ–è§£å‹ï¼ˆ.tar.xzï¼‰     |
| `-C` | æŒ‡å®šè§£å‹ç›®å½•                  |

---

### 3ï¸âƒ£ æ‰“åŒ…ä¸è§£åŒ…ç¤ºä¾‹

#### ğŸ§± ä»…æ‰“åŒ…ï¼ˆä¸å‹ç¼©ï¼‰

```bash
# æ‰“åŒ…
tar -cvf backup.tar /home/user/
# è§£åŒ…
tar -xvf backup.tar
```

#### ğŸŒ€ æ‰“åŒ… + gzip å‹ç¼©ï¼ˆ.tar.gzï¼‰

```bash
# æ‰“åŒ…å‹ç¼©
tar -zcvf backup.tar.gz /home/user/
# è§£å‹ç¼©
tar -zxvf backup.tar.gz
# è§£å‹åˆ°æŒ‡å®šç›®å½•
tar -zxvf backup.tar.gz -C /opt/data/
```

#### ğŸ§© æ‰“åŒ… + bzip2 å‹ç¼©ï¼ˆ.tar.bz2ï¼‰

```bash
# æ‰“åŒ…å‹ç¼©
tar -jcvf backup.tar.bz2 /home/user/
# è§£å‹ç¼©
tar -jxvf backup.tar.bz2
```

#### ğŸ§® æ‰“åŒ… + xz å‹ç¼©ï¼ˆ.tar.xzï¼‰

```bash
# æ‰“åŒ…å‹ç¼©
tar -Jcvf backup.tar.xz /home/user/
# è§£å‹ç¼©
tar -Jxvf backup.tar.xz
```

#### ğŸ” æŸ¥çœ‹å‹ç¼©åŒ…å†…å®¹

```bash
tar -tvf backup.tar.gz
```

---

## ğŸ“¦ ä¸‰ã€å•ç‹¬å‹ç¼©å‘½ä»¤ï¼ˆå«è§£å‹ï¼‰

### 1ï¸âƒ£ gzip / gunzip

```bash
# å‹ç¼©
gzip file.txt          # â†’ file.txt.gz
gzip -r dir/           # é€’å½’å‹ç¼©ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶
gzip -k file.txt       # å‹ç¼©åä¿ç•™åŸæ–‡ä»¶

# è§£å‹
gunzip file.txt.gz
gzip -d file.txt.gz    # ä¸ gunzip ç­‰ä»·
```

---

### 2ï¸âƒ£ bzip2 / bunzip2

```bash
# å‹ç¼©
bzip2 file.txt         # â†’ file.txt.bz2
bzip2 -k file.txt      # ä¿ç•™åŸæ–‡ä»¶

# è§£å‹
bunzip2 file.txt.bz2
bzip2 -d file.txt.bz2  # ä¸ bunzip2 ç­‰ä»·
```

---

### 3ï¸âƒ£ xz / unxz

```bash
# å‹ç¼©
xz file.txt            # â†’ file.txt.xz
xz -k file.txt         # ä¿ç•™åŸæ–‡ä»¶

# è§£å‹
unxz file.txt.xz
xz -d file.txt.xz      # ä¸ unxz ç­‰ä»·
```

---

### 4ï¸âƒ£ zip / unzip

```bash
# å‹ç¼©
zip archive.zip file1 file2 dir/     # å‹ç¼©å¤šä¸ªæ–‡ä»¶æˆ–ç›®å½•
zip -r archive.zip dir/              # é€’å½’å‹ç¼©ç›®å½•

# è§£å‹
unzip archive.zip                    # è§£å‹åˆ°å½“å‰ç›®å½•
unzip -d /target/ archive.zip        # è§£å‹åˆ°æŒ‡å®šç›®å½•
unzip -l archive.zip                 # æŸ¥çœ‹å‹ç¼©åŒ…å†…å®¹
```

---

### 5ï¸âƒ£ 7zï¼ˆéœ€å®‰è£… p7zipï¼‰

```bash
# å‹ç¼©
7z a archive.7z dir/

# è§£å‹
7z x archive.7z
```

---

## å››ã€å¸¸è§æ ¼å¼ä¸å¯¹åº”è§£å‹å‘½ä»¤å¯¹ç…§è¡¨

| æ–‡ä»¶åç¼€       | å‹ç¼©æ–¹å¼  | å‹ç¼©å‘½ä»¤                          | è§£å‹å‘½ä»¤                     |
| ---------- | ----- | ----------------------------- | ------------------------ |
| `.tar`     | æ‰“åŒ…    | `tar -cvf file.tar dir/`      | `tar -xvf file.tar`      |
| `.tar.gz`  | gzip  | `tar -zcvf file.tar.gz dir/`  | `tar -zxvf file.tar.gz`  |
| `.tar.bz2` | bzip2 | `tar -jcvf file.tar.bz2 dir/` | `tar -jxvf file.tar.bz2` |
| `.tar.xz`  | xz    | `tar -Jcvf file.tar.xz dir/`  | `tar -Jxvf file.tar.xz`  |
| `.gz`      | gzip  | `gzip file`                   | `gunzip file.gz`         |
| `.bz2`     | bzip2 | `bzip2 file`                  | `bunzip2 file.bz2`       |
| `.xz`      | xz    | `xz file`                     | `unxz file.xz`           |
| `.zip`     | zip   | `zip archive.zip dir/`        | `unzip archive.zip`      |
| `.7z`      | 7zip  | `7z a archive.7z dir/`        | `7z x archive.7z`        |

---

## äº”ã€å®ç”¨æŠ€å·§

| åœºæ™¯             | å‘½ä»¤ç¤ºä¾‹                                                 |
| -------------- | ---------------------------------------------------- |
| **å‹ç¼©æ—¶æ’é™¤æŸäº›æ–‡ä»¶**  | `tar -zcvf backup.tar.gz /home --exclude=/home/temp` |
| **ä»…æŸ¥çœ‹å‹ç¼©åŒ…å†…å®¹**   | `tar -tvf file.tar.gz`                               |
| **è§£å‹åˆ°æŒ‡å®šè·¯å¾„**    | `tar -zxvf file.tar.gz -C /usr/local`                |
| **æœ€å¤§å‹ç¼©æ¯”ï¼ˆXZï¼‰**  | `tar -Jcvf backup.tar.xz /data`                      |
| **åˆ†å·å‹ç¼©ï¼ˆZIPï¼‰**  | `zip -r -s 100m backup.zip /data`ï¼ˆæ¯å·100MBï¼‰           |
| **åœ¨è§£å‹æ—¶è‡ªåŠ¨åˆ›å»ºç›®å½•** | `mkdir -p /data && tar -zxvf backup.tar.gz -C /data` |

---

## å…­ã€å‘½ä»¤é€ŸæŸ¥è¡¨ï¼ˆæ‰“åŒ… + å‹ç¼© + è§£å‹ï¼‰

| æ“ä½œ            | å‘½ä»¤                            |
| ------------- | ----------------------------- |
| æ‰“åŒ…            | `tar -cvf file.tar dir/`      |
| è§£åŒ…            | `tar -xvf file.tar`           |
| æ‰“åŒ…å¹¶å‹ç¼© (gzip)  | `tar -zcvf file.tar.gz dir/`  |
| è§£å‹ `.tar.gz`  | `tar -zxvf file.tar.gz`       |
| æ‰“åŒ…å¹¶å‹ç¼© (bzip2) | `tar -jcvf file.tar.bz2 dir/` |
| è§£å‹ `.tar.bz2` | `tar -jxvf file.tar.bz2`      |
| æ‰“åŒ…å¹¶å‹ç¼© (xz)    | `tar -Jcvf file.tar.xz dir/`  |
| è§£å‹ `.tar.xz`  | `tar -Jxvf file.tar.xz`       |
| å‹ç¼©å•æ–‡ä»¶ (gzip)  | `gzip file.txt`               |
| è§£å‹ `.gz`      | `gunzip file.gz`              |
| å‹ç¼©ä¸º zip       | `zip -r file.zip dir/`        |
| è§£å‹ `.zip`     | `unzip file.zip`              |

---

## 3.5 å…³æœºä¸é‡å¯

ä¸‹é¢æ˜¯æ•´ç†å¥½çš„ **Linuxå…³æœºä¸é‡å¯å‘½ä»¤ç¬”è®°æ€»ç»“**ï¼ŒåŒ…æ‹¬å¸¸ç”¨å‘½ä»¤ã€å‚æ•°åŒºåˆ«ã€è¿è¡Œçº§åˆ«ã€å®šæ—¶ä¸ç«‹å³å…³æœºã€ä»¥åŠå›¾å½¢/è¿œç¨‹ç¯å¢ƒä¸‹çš„ä½¿ç”¨æŠ€å·§ã€‚å†…å®¹ç³»ç»Ÿã€ç®€æ˜ï¼Œéå¸¸é€‚åˆä½œä¸ºå­¦ä¹ æˆ–å¤ä¹ ç¬”è®°ã€‚

---

## 2. å…³æœºä¸é‡å¯å‘½ä»¤ç¬”è®°æ€»ç»“

---

### 2.1 å…³æœºä¸é‡å¯çš„æœ¬è´¨

åœ¨ Linux ä¸­ï¼Œâ€œå…³æœºï¼ˆshutdownï¼‰â€å’Œâ€œé‡å¯ï¼ˆrebootï¼‰â€éƒ½å±äº **ç³»ç»Ÿè¿è¡Œçº§åˆ«ï¼ˆrunlevelï¼‰** çš„åˆ‡æ¢ã€‚

* è¿è¡Œçº§åˆ« 0ï¼š**å…³æœº**
* è¿è¡Œçº§åˆ« 6ï¼š**é‡å¯**
* è¿è¡Œçº§åˆ« 3ï¼šå¤šç”¨æˆ·å‘½ä»¤è¡Œæ¨¡å¼
* è¿è¡Œçº§åˆ« 5ï¼šå›¾å½¢ç•Œé¢æ¨¡å¼

å› æ­¤ï¼Œæ‰§è¡Œå…³æœºæˆ–é‡å¯å‘½ä»¤å®è´¨æ˜¯è®©ç³»ç»Ÿè¿›å…¥ç›¸åº”çš„è¿è¡Œçº§åˆ«ã€‚

---

### 2.2 å¸¸ç”¨å…³æœºå‘½ä»¤æ±‡æ€»

#### 1ï¸âƒ£ `shutdown` â€”â€” æœ€å¸¸ç”¨ã€å®‰å…¨çš„å…³æœºæ–¹å¼

```bash
shutdown [é€‰é¡¹] [æ—¶é—´] [è­¦å‘Šä¿¡æ¯]
```

#### âœ… å¸¸è§ç”¨æ³•

| æ“ä½œ         | å‘½ä»¤ç¤ºä¾‹                                 | è¯´æ˜                 |
| ---------- | ------------------------------------ | ------------------ |
| ç«‹å³å…³æœº       | `shutdown -h now`                    | `-h` è¡¨ç¤º haltï¼ˆåœæ­¢ç³»ç»Ÿï¼‰ |
| å®šæ—¶å…³æœºï¼ˆ1åˆ†é’Ÿåï¼‰ | `shutdown -h +1`                     | â€œ+1â€è¡¨ç¤º1åˆ†é’Ÿåæ‰§è¡Œ       |
| æŒ‡å®šæ—¶é—´å…³æœº     | `shutdown -h 22:00`                  | æ¯å¤©æ™šä¸Š10ç‚¹è‡ªåŠ¨å…³æœº        |
| ç«‹å³é‡å¯       | `shutdown -r now`                    | `-r` è¡¨ç¤º rebootï¼ˆé‡å¯ï¼‰ |
| å®šæ—¶é‡å¯       | `shutdown -r +5`                     | 5åˆ†é’Ÿåé‡å¯             |
| å–æ¶ˆè®¡åˆ’çš„å…³æœºä»»åŠ¡  | `shutdown -c`                        | å–æ¶ˆæ­£åœ¨ç­‰å¾…çš„å…³æœºä»»åŠ¡        |
| å¹¿æ’­å…³æœºè­¦å‘Š     | `shutdown -h +3 "ç³»ç»Ÿå°†åœ¨3åˆ†é’Ÿåå…³æœºï¼Œè¯·ä¿å­˜å·¥ä½œï¼"` | é€šçŸ¥æ‰€æœ‰ç™»å½•ç”¨æˆ·           |

> ğŸ’¡ `shutdown` ä¼šå…ˆå‘æ‰€æœ‰ç™»å½•ç”¨æˆ·å‘é€è­¦å‘Šæ¶ˆæ¯ï¼Œå†é€æ­¥ç»ˆæ­¢è¿›ç¨‹ã€å¸è½½æ–‡ä»¶ç³»ç»Ÿï¼Œ**æ˜¯æœ€å®‰å…¨çš„å…³æœºå‘½ä»¤**ã€‚

---

#### 2ï¸âƒ£ `poweroff` â€”â€” ç›´æ¥å…³é—­ç”µæº

```bash
poweroff
```

* æ•ˆæœç­‰ä»·äº `shutdown -h now`
* ç«‹å³å…³æœºå¹¶åˆ‡æ–­ç”µæº
* é€šå¸¸ç”¨äºåµŒå…¥å¼è®¾å¤‡ã€æœåŠ¡å™¨è„šæœ¬ä¸­

---

#### 3ï¸âƒ£ `halt` â€”â€” åœæ­¢ç³»ç»Ÿ

```bash
halt
```

* åœæ­¢æ‰€æœ‰ CPU åŠŸèƒ½ï¼Œç³»ç»ŸæŒ‚èµ·
* ä¸ä¸€å®šæ–­ç”µï¼ˆå–å†³äº BIOS/ç”µæºç®¡ç†è®¾ç½®ï¼‰
* ç›¸å½“äº `shutdown -H now`

---

#### 4ï¸âƒ£ `init` â€”â€” åˆ‡æ¢è¿è¡Œçº§åˆ«

```bash
init 0   # è¿›å…¥è¿è¡Œçº§åˆ«0 â†’ å…³æœº
init 6   # è¿›å…¥è¿è¡Œçº§åˆ«6 â†’ é‡å¯
```

> âš ï¸ `init` æ˜¯åº•å±‚å‘½ä»¤ï¼Œé€‚åˆè„šæœ¬æˆ–è€ç³»ç»Ÿï¼ˆSysVinitï¼‰ã€‚åœ¨ systemd ç³»ç»Ÿä¸­å»ºè®®ä½¿ç”¨ `systemctl`ã€‚

---

#### 5ï¸âƒ£ `systemctl` â€”â€” ç°ä»£ç³»ç»Ÿï¼ˆsystemdï¼‰æ¨èæ–¹å¼

```bash
systemctl poweroff     # å…³æœº
systemctl halt         # åœæ­¢ç³»ç»Ÿ
systemctl reboot       # é‡å¯
systemctl suspend      # æŒ‚èµ·ï¼ˆä¼‘çœ åˆ°å†…å­˜ï¼‰
systemctl hibernate    # ä¼‘çœ åˆ°ç¡¬ç›˜
systemctl hybrid-sleep # æ··åˆä¼‘çœ 
```

> âœ… é€‚ç”¨äºå¤§å¤šæ•°ç°ä»£ Linux å‘è¡Œç‰ˆï¼ˆå¦‚ Ubuntuã€CentOS 7+ã€Fedoraã€Debian 8+ ç­‰ï¼‰ã€‚

---

### 2.3 é‡å¯å‘½ä»¤æ±‡æ€»

| å‘½ä»¤                 | åŠŸèƒ½è¯´æ˜                          | æ˜¯å¦å®‰å…¨       |
| ------------------ | ----------------------------- | ---------- |
| `reboot`           | ç«‹å³é‡å¯ç³»ç»Ÿï¼ˆç­‰ä»·äº `shutdown -r now`ï¼‰ | âœ…          |
| `shutdown -r now`  | å®‰å…¨é‡å¯ï¼Œå…ˆé€šçŸ¥ç”¨æˆ·ã€å†é‡å¯                | âœ…          |
| `systemctl reboot` | ä½¿ç”¨ systemd ç®¡ç†é‡å¯               | âœ…          |
| `init 6`           | åˆ‡æ¢åˆ°è¿è¡Œçº§åˆ« 6ï¼ˆé‡å¯ï¼‰                 | âš ï¸ï¼ˆæ—§ç³»ç»Ÿï¼‰    |
| `ctrl + alt + del` | å›¾å½¢ç•Œé¢/ç»ˆç«¯å¿«æ·é”®é‡å¯ï¼ˆéœ€é…ç½®ï¼‰             | âš ï¸ï¼ˆæœ‰æ—¶ä¼šè¢«ç¦ç”¨ï¼‰ |

---

### 2.4 å®šæ—¶ä¸å»¶è¿Ÿå…³æœº/é‡å¯

| ä»»åŠ¡      | ç¤ºä¾‹                  | è¯´æ˜         |
| ------- | ------------------- | ---------- |
| 10åˆ†é’Ÿåå…³æœº | `shutdown -h +10`   | +10 è¡¨ç¤º10åˆ†é’Ÿ |
| æŒ‡å®šæ—¶é—´å…³æœº  | `shutdown -h 23:30` | 23:30 æ‰§è¡Œå…³æœº |
| 5åˆ†é’Ÿåé‡å¯  | `shutdown -r +5`    | 5åˆ†é’Ÿåè‡ªåŠ¨é‡å¯   |
| å–æ¶ˆè®¡åˆ’ä»»åŠ¡  | `shutdown -c`       | å–æ¶ˆç­‰å¾…ä¸­çš„å…³æœº   |

> â° ä¹Ÿå¯ç”¨ `at` å‘½ä»¤å®ç°æ›´çµæ´»çš„å®šæ—¶ä»»åŠ¡ï¼š

```bash
echo "shutdown -h now" | at 23:00
```

---

### 2.5 æƒé™ä¸è¿œç¨‹æ§åˆ¶

#### 1ï¸âƒ£ æ™®é€šç”¨æˆ·æ‰§è¡Œå…³æœº/é‡å¯

* é»˜è®¤éœ€è¦ **root æƒé™**
* æ™®é€šç”¨æˆ·å¯é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰§è¡Œï¼š

  ```bash
  sudo shutdown -h now
  sudo reboot
  ```

#### 2ï¸âƒ£ è¿œç¨‹å…³æœºï¼ˆSSHï¼‰

* ä½¿ç”¨è¿œç¨‹ç™»å½•åç›´æ¥æ‰§è¡Œå‘½ä»¤ï¼š

  ```bash
  ssh user@server 'sudo shutdown -r now'
  ```
* æˆ–è€…é€šè¿‡ Ansibleã€æ‰¹é‡è„šæœ¬å®ç°å¤šæœºæ§åˆ¶ã€‚

---

### 2.6 å¸¸è§åŒºåˆ«ä¸æ³¨æ„äº‹é¡¹

| å‘½ä»¤                   | ç‰¹ç‚¹      | æ˜¯å¦æ–­ç”µ    | æ˜¯å¦æ¨è   |
| -------------------- | ------- | ------- | ------ |
| `halt`               | åœæ­¢CPUè¿è¡Œ | âŒ ä¸ä¸€å®šæ–­ç”µ | âš ï¸ è€å‘½ä»¤ |
| `poweroff`           | åœæ­¢å¹¶æ–­ç”µ   | âœ…       | âœ…      |
| `shutdown -h now`    | æœ‰åºå®‰å…¨å…³æœº  | âœ…       | âœ…      |
| `reboot`             | å¿«é€Ÿé‡å¯ç³»ç»Ÿ  | âœ…       | âœ…      |
| `systemctl poweroff` | ç°ä»£æ¨èæ–¹å¼  | âœ…       | âœ…      |
| `init 0` / `init 6`  | æ—§å¼æ–¹å¼    | âœ…       | âš ï¸ ä¸æ¨è |

---

### 2.7 å‘½ä»¤é€ŸæŸ¥è¡¨

| æ“ä½œ          | å‘½ä»¤                                          |
| ----------- | ------------------------------------------- |
| ç«‹å³å…³æœº        | `shutdown -h now`                           |
| å®šæ—¶å…³æœºï¼ˆ10åˆ†é’Ÿåï¼‰ | `shutdown -h +10`                           |
| æŒ‡å®šæ—¶é—´å…³æœº      | `shutdown -h 22:00`                         |
| ç«‹å³é‡å¯        | `shutdown -r now`                           |
| å®šæ—¶é‡å¯        | `shutdown -r +5`                            |
| å–æ¶ˆè®¡åˆ’ä»»åŠ¡      | `shutdown -c`                               |
| å¿«é€Ÿå…³æœº        | `poweroff`                                  |
| å¿«é€Ÿé‡å¯        | `reboot`                                    |
| åˆ‡æ¢åˆ°å…³æœºçº§åˆ«     | `init 0`                                    |
| åˆ‡æ¢åˆ°é‡å¯çº§åˆ«     | `init 6`                                    |
| systemdå…³æœº   | `systemctl poweroff`                        |
| systemdé‡å¯   | `systemctl reboot`                          |
| æŒ‚èµ·ä¼‘çœ         | `systemctl suspend` / `systemctl hibernate` |

---

### 2.8 ç¤ºä¾‹æ±‡æ€»

```bash
# å®‰å…¨å…³æœº
sudo shutdown -h now

# å®‰å…¨é‡å¯
sudo shutdown -r now

# å»¶è¿Ÿ5åˆ†é’Ÿé‡å¯å¹¶å¹¿æ’­ä¿¡æ¯
sudo shutdown -r +5 "ç³»ç»Ÿå°†åœ¨5åˆ†é’Ÿåé‡å¯ï¼Œè¯·ä¿å­˜æ•°æ®ï¼"

# å–æ¶ˆå®šæ—¶ä»»åŠ¡
sudo shutdown -c

# ç°ä»£ç³»ç»Ÿç›´æ¥å…³æœº
sudo systemctl poweroff

# ä»å‘½ä»¤è¡Œå¿«é€Ÿé‡å¯
sudo reboot
```

---

## 3. Linux ç³»ç»Ÿä¿¡æ¯ä¸çŠ¶æ€æŸ¥çœ‹å‘½ä»¤é€ŸæŸ¥ç¬”è®°

### 3.1 æŸ¥çœ‹ç”¨æˆ·ç™»å½•ä¿¡æ¯

#### 1ï¸âƒ£ `who` â€” æŸ¥çœ‹å½“å‰ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯

**åŠŸèƒ½è¯´æ˜ï¼š**
æ˜¾ç¤ºå½“å‰ç³»ç»Ÿä¸Šå·²ç™»å½•çš„ç”¨æˆ·ã€ç»ˆç«¯ã€ç™»å½•æ—¶é—´ã€æ¥æºIPç­‰ã€‚

**å¸¸è§å‚æ•°ï¼š**

| å‚æ•°   | è¯´æ˜                     |
| ---- | ---------------------- |
| æ—     | æ˜¾ç¤ºåŸºæœ¬ç™»å½•ä¿¡æ¯               |
| `-a` | æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨ä¿¡æ¯ï¼ˆåŒ…æ‹¬è¿è¡Œçº§åˆ«ã€å¯åŠ¨æ—¶é—´ç­‰ï¼‰ |

**ç¤ºä¾‹ï¼š**

```bash
$ who
lxlei   tty2         2025-10-16 10:15
root    pts/0        2025-10-16 10:17 (192.168.1.100)
```

---

#### 2ï¸âƒ£ `w` â€” æŸ¥çœ‹ç™»å½•ç”¨æˆ·åŠå…¶æ´»åŠ¨ä¿¡æ¯

**åŠŸèƒ½è¯´æ˜ï¼š**
`w` æ˜¯ `who` çš„å¢å¼ºç‰ˆï¼Œä¼šæ˜¾ç¤ºæ¯ä¸ªç”¨æˆ·çš„è¿è¡ŒçŠ¶æ€ã€CPUå ç”¨ã€å½“å‰å‘½ä»¤ç­‰ã€‚

**è¾“å‡ºç¤ºä¾‹ï¼š**

```bash
$ w
 15:30:20 up  2:10,  3 users,  load average: 0.15, 0.05, 0.01
USER     TTY      FROM             IDLE   JCPU   PCPU WHAT
root     pts/0    192.168.1.100    00:01  0.10s  0.05s top
lxlei    tty2                      01:15  0.02s  0.02s bash
```

ğŸ’¡ **æŠ€å·§ï¼š** æƒ³å¿«é€Ÿçœ‹è°åœ¨ç™»å½•ã€å¹²ä»€ä¹ˆï¼Œç”¨ `w` æ¯” `who` æ›´å…¨é¢ã€‚

---

#### 3ï¸âƒ£ `lastlog` â€” æŸ¥çœ‹æ¯ä¸ªç”¨æˆ·æœ€åä¸€æ¬¡ç™»å½•æ—¶é—´

**åŠŸèƒ½è¯´æ˜ï¼š**
ä» `/var/log/lastlog` æ–‡ä»¶ä¸­è¯»å–æ‰€æœ‰ç”¨æˆ·çš„æœ€åç™»å½•è®°å½•ã€‚

**ç¤ºä¾‹ï¼š**

```bash
$ lastlog
Username  Port  From             Latest
root      pts/0 192.168.1.100    Thu Oct 16 10:17:02 +0800 2025
lxlei     tty2                   Thu Oct 16 10:15:40 +0800 2025
```

ğŸ’¡ **æŠ€å·§ï¼š** å¦‚æœæŸç”¨æˆ·ä»æœªç™»å½•è¿‡ï¼Œä¼šæ˜¾ç¤º â€œ**Never logged in**â€ã€‚

---

### 3.2 ç³»ç»Ÿèµ„æºä¸ä»»åŠ¡çŠ¶æ€

#### 4ï¸âƒ£ `df` â€” æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ

**åŠŸèƒ½è¯´æ˜ï¼š**
æ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿç£ç›˜ç©ºé—´çš„ä½¿ç”¨æƒ…å†µã€‚

**å¸¸è§å‚æ•°ï¼š**

| å‚æ•°   | è¯´æ˜                         |
| ---- | -------------------------- |
| `-h` | ä»¥äººç±»å¯è¯»çš„æ–¹å¼æ˜¾ç¤ºï¼ˆè‡ªåŠ¨æ¢ç®—ä¸º KB/MB/GBï¼‰ |
| `-T` | æ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿç±»å‹                   |
| `-i` | æŸ¥çœ‹ inode ä½¿ç”¨æƒ…å†µ              |

**ç¤ºä¾‹ï¼š**

```bash
$ df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda2        50G   20G   28G  42% /
tmpfs           3.9G  2.0M  3.9G   1% /run
```

ğŸ’¡ **æŠ€å·§ï¼š** æ£€æŸ¥ç£ç›˜ç©ºé—´ä¸è¶³é—®é¢˜é¦–é€‰å‘½ä»¤ã€‚

---

#### 5ï¸âƒ£ `top` â€” å®æ—¶æŸ¥çœ‹ç³»ç»Ÿä»»åŠ¡

**åŠŸèƒ½è¯´æ˜ï¼š**
åŠ¨æ€æ˜¾ç¤ºç³»ç»Ÿä¸­å„è¿›ç¨‹èµ„æºå ç”¨æƒ…å†µï¼ˆCPUã€å†…å­˜ã€è¿è¡Œæ—¶é—´ç­‰ï¼‰ã€‚

**å¸¸ç”¨å¿«æ·é”®ï¼š**

| å¿«æ·é”® | ä½œç”¨             |
| --- | -------------- |
| `q` | é€€å‡º top         |
| `P` | æŒ‰ CPU ä½¿ç”¨ç‡æ’åº    |
| `M` | æŒ‰å†…å­˜ä½¿ç”¨ç‡æ’åº       |
| `k` | ç»“æŸæŒ‡å®šè¿›ç¨‹ï¼ˆè¾“å…¥ PIDï¼‰ |

**ç¤ºä¾‹ï¼š**

```
top - 15:34:10 up  2:14,  3 users,  load average: 0.12, 0.03, 0.00
PID USER  PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND
1650 root  20  0 162M 12M  8M S  0.5  0.3  0:05.03 sshd
1801 lxlei 20  0 320M 55M 21M S  0.2  1.4  0:10.21 bash
```

ğŸ’¡ **æŠ€å·§ï¼š** æƒ³çœ‹æ•´ä½“CPU/å†…å­˜çŠ¶æ€æ›´ç›´è§‚å¯ç”¨ `htop`ï¼ˆéœ€å®‰è£…ï¼‰ã€‚

---

#### 6ï¸âƒ£ `free` â€” æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ

**åŠŸèƒ½è¯´æ˜ï¼š**
æ˜¾ç¤ºç‰©ç†å†…å­˜ä¸äº¤æ¢åˆ†åŒºï¼ˆswapï¼‰çš„ä½¿ç”¨æƒ…å†µã€‚

**å¸¸è§å‚æ•°ï¼š**

| å‚æ•°     | è¯´æ˜          |
| ------ | ----------- |
| `-h`   | äººç±»å¯è¯»æ ¼å¼æ˜¾ç¤º    |
| `-s 2` | æ¯2ç§’è‡ªåŠ¨åˆ·æ–°æ˜¾ç¤ºä¸€æ¬¡ |

**ç¤ºä¾‹ï¼š**

```bash
$ free -h
              total        used        free      shared  buff/cache   available
Mem:           7.7G        2.3G        4.2G        200M        1.2G        5.0G
Swap:          2.0G          0B        2.0G
```

ğŸ’¡ **æŠ€å·§ï¼š** â€œavailableâ€ æ¯” â€œfreeâ€ æ›´å‡†ç¡®åæ˜ å¯ç”¨å†…å­˜ã€‚

---

### 3.3 æ“ä½œå†å²ä¸è¾“å‡ºæ˜¾ç¤º

#### 7ï¸âƒ£ `history` â€” æŸ¥çœ‹å‘½ä»¤å†å²è®°å½•

**åŠŸèƒ½è¯´æ˜ï¼š**
æ˜¾ç¤ºå½“å‰ç”¨æˆ·æ‰§è¡Œè¿‡çš„å‘½ä»¤å†å²ã€‚

**å¸¸è§å‚æ•°ï¼š**

| å‚æ•°          | è¯´æ˜                 |
| ----------- | ------------------ |
| `history n` | æ˜¾ç¤ºæœ€è¿‘ n æ¡å‘½ä»¤         |
| `!n`        | æ‰§è¡Œå†å²ç¼–å·ä¸º n çš„å‘½ä»¤      |
| `!string`   | æ‰§è¡Œæœ€è¿‘ä»¥ string å¼€å¤´çš„å‘½ä»¤ |

**ç¤ºä¾‹ï¼š**

```bash
$ history 5
  58  df -h
  59  free -h
  60  history 10
  61  top
  62  who
```

ğŸ’¡ **æŠ€å·§ï¼š** å†å²è®°å½•æ–‡ä»¶ä½äº `~/.bash_history`ã€‚

---

#### 8ï¸âƒ£ `echo` â€” æ˜¾ç¤ºå†…å®¹æˆ–å˜é‡

**åŠŸèƒ½è¯´æ˜ï¼š**
ç”¨äºè¾“å‡ºå­—ç¬¦ä¸²ã€å˜é‡å†…å®¹ï¼Œæˆ–å†™å…¥æ–‡ä»¶ã€‚

**ç¤ºä¾‹ï¼š**

```bash
$ echo "Hello Linux!"
Hello Linux!

$ echo $HOME
/home/lxlei
```

ğŸ’¡ **æŠ€å·§ï¼š** å¯é…åˆé‡å®šå‘ç¬¦ `>` è¾“å‡ºåˆ°æ–‡ä»¶ï¼š

```bash
echo "Backup Done" > result.log
```

---

### 3.4 æ–‡ä»¶å†…å®¹æŸ¥çœ‹å‘½ä»¤

#### 9ï¸âƒ£ `cat` â€” æ˜¾ç¤ºæ–‡ä»¶å†…å®¹

**åŠŸèƒ½è¯´æ˜ï¼š**
ä¸€æ¬¡æ€§è¾“å‡ºæ•´ä¸ªæ–‡ä»¶å†…å®¹ã€‚

**å¸¸è§å‚æ•°ï¼š**

| å‚æ•°   | è¯´æ˜                |
| ---- | ----------------- |
| `-n` | æ˜¾ç¤ºè¡Œå·              |
| `-b` | å¯¹éç©ºè¡Œæ˜¾ç¤ºè¡Œå·          |
| `-A` | æ˜¾ç¤ºä¸å¯è§å­—ç¬¦ï¼ˆå¦‚åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ï¼‰ |

**ç¤ºä¾‹ï¼š**

```bash
$ cat -n /etc/hosts
     1  127.0.0.1   localhost
     2  192.168.1.10 server.local
```

---

#### ğŸ”Ÿ `tail` â€” æŸ¥çœ‹æ–‡ä»¶æœ«å°¾å†…å®¹

**åŠŸèƒ½è¯´æ˜ï¼š**
æ˜¾ç¤ºæ–‡ä»¶æœ€åå‡ è¡Œå†…å®¹ï¼Œå¸¸ç”¨äºæ—¥å¿—ç›‘æ§ã€‚

**å¸¸è§å‚æ•°ï¼š**

| å‚æ•°     | è¯´æ˜               |
| ------ | ---------------- |
| `-n N` | æ˜¾ç¤ºæœ€å N è¡Œ         |
| `-f`   | å®æ—¶è·Ÿè¸ªæ–‡ä»¶æ›´æ–°ï¼ˆç›‘æ§æ—¥å¿—å¿…å¤‡ï¼‰ |

**ç¤ºä¾‹ï¼š**

```bash
$ tail -n 5 /var/log/messages
$ tail -f /var/log/syslog
```

ğŸ’¡ **æŠ€å·§ï¼š** æŒ‰ `Ctrl + C` é€€å‡º `tail -f`ã€‚

---

## 4. viç¼–è¾‘å™¨

### 4.1 vi ç¼–è¾‘å™¨ç®€ä»‹

**vi (Visual Editor)** æ˜¯ Linux/Unix ç³»ç»Ÿä¸­æœ€å¸¸ç”¨çš„æ–‡æœ¬ç¼–è¾‘å™¨ä¹‹ä¸€ï¼Œè½»é‡ã€å¼ºå¤§ï¼Œå‡ ä¹æ‰€æœ‰ç³»ç»Ÿéƒ½å†…ç½®ã€‚
è™½ç„¶ä½¿ç”¨ä¸Šç•¥æœ‰é—¨æ§›ï¼Œä½†ç†Ÿç»ƒåéå¸¸é«˜æ•ˆã€‚

**ä¸‰ç§å·¥ä½œæ¨¡å¼ï¼š**

| æ¨¡å¼åç§°                     | åŠŸèƒ½               | è¿›å…¥æ–¹å¼                  | é€€å‡ºæ–¹å¼                  |
| ------------------------ | ---------------- | --------------------- | --------------------- |
| **å‘½ä»¤æ¨¡å¼ï¼ˆCommand Modeï¼‰**   | æ§åˆ¶å…‰æ ‡ç§»åŠ¨ã€åˆ é™¤ã€å¤åˆ¶ã€ç²˜è´´ç­‰ | æ‰“å¼€æ–‡ä»¶é»˜è®¤å³è¿›å…¥             | æŒ‰ `i`ã€`a`ã€`o` ç­‰è¿›å…¥ç¼–è¾‘æ¨¡å¼ |
| **æ’å…¥æ¨¡å¼ï¼ˆInsert Modeï¼‰**    | è¾“å…¥æ–‡æœ¬å†…å®¹           | åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ `i`ã€`a`ã€`o` ç­‰ | æŒ‰ `Esc` è¿”å›å‘½ä»¤æ¨¡å¼        |
| **åº•è¡Œæ¨¡å¼ï¼ˆLast Line Modeï¼‰** | ä¿å­˜ã€é€€å‡ºã€æœç´¢ã€æ›¿æ¢ç­‰     | å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥ `:`           | æŒ‰ `Enter` æ‰§è¡Œå‘½ä»¤åè¿”å›å‘½ä»¤æ¨¡å¼ |

---

### 4.2 åŸºæœ¬æ–‡ä»¶æ“ä½œå‘½ä»¤

| æ“ä½œ       | å‘½ä»¤            | è¯´æ˜            |
| -------- | ------------- | ------------- |
| æ‰“å¼€æ–‡ä»¶     | `vi filename` | æ‰“å¼€æˆ–æ–°å»ºæ–‡ä»¶       |
| ä¿å­˜æ–‡ä»¶     | `:w`          | ä¿å­˜ä¿®æ”¹          |
| ä¿å­˜å¹¶é€€å‡º    | `:wq` æˆ– `ZZ`  | å†™å…¥æ–‡ä»¶å¹¶é€€å‡º       |
| ä¸ä¿å­˜é€€å‡º    | `:q!`         | æ”¾å¼ƒä¿®æ”¹ç›´æ¥é€€å‡º      |
| åªé€€å‡ºï¼ˆæ— ä¿®æ”¹ï¼‰ | `:q`          | è‹¥æœ‰ä¿®æ”¹æœªä¿å­˜åˆ™ä¼šæç¤ºé”™è¯¯ |
| å¦å­˜ä¸º      | `:w newfile`  | å°†å½“å‰å†…å®¹ä¿å­˜ä¸ºæ–°æ–‡ä»¶   |

---

### 4.3 å…‰æ ‡ç§»åŠ¨å‘½ä»¤ï¼ˆå‘½ä»¤æ¨¡å¼ä¸‹ï¼‰

| å‘½ä»¤         | åŠŸèƒ½             |
| ---------- | -------------- |
| `h`        | å‘å·¦ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦       |
| `l`        | å‘å³ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦       |
| `j`        | å‘ä¸‹ç§»åŠ¨ä¸€è¡Œ         |
| `k`        | å‘ä¸Šç§»åŠ¨ä¸€è¡Œ         |
| `0`ï¼ˆæ•°å­—é›¶ï¼‰   | ç§»åŠ¨åˆ°è¡Œé¦–          |
| `$`        | ç§»åŠ¨åˆ°è¡Œå°¾          |
| `gg`       | è·³è½¬åˆ°æ–‡ä»¶å¼€å¤´        |
| `G`        | è·³è½¬åˆ°æ–‡ä»¶æœ«å°¾        |
| `:n`       | è·³è½¬åˆ°ç¬¬ n è¡Œ       |
| `Ctrl + f` | å‘ä¸‹ç¿»é¡µï¼ˆforwardï¼‰  |
| `Ctrl + b` | å‘ä¸Šç¿»é¡µï¼ˆbackwardï¼‰ |

ğŸ’¡ **æŠ€å·§ï¼š** ç»„åˆæ•°å­—å¯ç§»åŠ¨å¤šæ¬¡ï¼Œå¦‚ `5j` è¡¨ç¤ºå‘ä¸‹ç§»åŠ¨ 5 è¡Œã€‚

---

### 4.4 æ–‡æœ¬ç¼–è¾‘å‘½ä»¤ï¼ˆå‘½ä»¤æ¨¡å¼ï¼‰

| æ“ä½œ     | å‘½ä»¤         | è¯´æ˜              |
| ------ | ---------- | --------------- |
| æ’å…¥æ¨¡å¼   | `i`        | åœ¨å…‰æ ‡å‰æ’å…¥          |
| è¿½åŠ æ¨¡å¼   | `a`        | åœ¨å…‰æ ‡åæ’å…¥          |
| æ–°èµ·ä¸€è¡Œ   | `o`        | åœ¨å½“å‰è¡Œä¸‹æ–¹æ–°å»ºä¸€è¡Œå¹¶è¿›å…¥ç¼–è¾‘ |
| åˆ é™¤å­—ç¬¦   | `x`        | åˆ é™¤å…‰æ ‡æ‰€åœ¨å­—ç¬¦        |
| åˆ é™¤æ•´è¡Œ   | `dd`       | åˆ é™¤å½“å‰è¡Œ           |
| åˆ é™¤å¤šè¡Œ   | `ndd`      | åˆ é™¤ n è¡Œï¼ˆå¦‚ `3dd`ï¼‰ |
| å¤åˆ¶å½“å‰è¡Œ  | `yy`       | å¤åˆ¶å½“å‰è¡Œ           |
| å¤åˆ¶å¤šè¡Œ   | `nyy`      | å¤åˆ¶ n è¡Œï¼ˆå¦‚ `5yy`ï¼‰ |
| ç²˜è´´     | `p`        | åœ¨å…‰æ ‡åç²˜è´´          |
| æ›¿æ¢å•ä¸ªå­—ç¬¦ | `r`        | æ›¿æ¢å½“å‰å…‰æ ‡ä¸‹çš„å­—ç¬¦      |
| æ’¤é”€ä¸Šä¸€æ­¥  | `u`        | æ’¤é”€æ“ä½œ            |
| é‡åšä¸Šä¸€æ­¥  | `Ctrl + r` | æ’¤é”€çš„æ¢å¤           |
| åˆå¹¶ä¸¤è¡Œ   | `J`        | å°†ä¸‹ä¸€è¡Œå¹¶å…¥å½“å‰è¡Œ       |

---

### 4.5 æŸ¥æ‰¾ä¸æ›¿æ¢

#### ğŸ” æŸ¥æ‰¾

| å‘½ä»¤         | åŠŸèƒ½            |
| ---------- | ------------- |
| `/keyword` | å‘ä¸‹æœç´¢â€œkeywordâ€ |
| `?keyword` | å‘ä¸Šæœç´¢â€œkeywordâ€ |
| `n`        | é‡å¤ä¸Šä¸€æ¬¡æœç´¢ï¼ˆåŒæ–¹å‘ï¼‰  |
| `N`        | åå‘é‡å¤ä¸Šä¸€æ¬¡æœç´¢     |

ğŸ’¡ æœç´¢æ—¶å¤§å°å†™æ•æ„Ÿï¼Œè‹¥å¸Œæœ›ä¸åŒºåˆ†å¤§å°å†™å¯è¾“å…¥ `:set ic`ã€‚

#### ğŸ” æ›¿æ¢

| å‘½ä»¤               | åŠŸèƒ½          |
| ---------------- | ----------- |
| `:s/old/new/`    | æ›¿æ¢å½“å‰è¡Œç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ |
| `:s/old/new/g`   | æ›¿æ¢å½“å‰è¡Œæ‰€æœ‰åŒ¹é…é¡¹  |
| `:%s/old/new/g`  | æ›¿æ¢æ•´ä¸ªæ–‡ä»¶æ‰€æœ‰åŒ¹é…é¡¹ |
| `:%s/old/new/gc` | å…¨å±€æ›¿æ¢å¹¶é€ä¸€ç¡®è®¤   |

---

### 4.6 æ–‡ä»¶æµè§ˆä¸å¤šæ–‡ä»¶æ“ä½œ

| å‘½ä»¤               | åŠŸèƒ½                 |
| ---------------- | ------------------ |
| `:e filename`    | æ‰“å¼€å¦ä¸€ä¸ªæ–‡ä»¶            |
| `:n`             | æ‰“å¼€ä¸‹ä¸€ä¸ªæ–‡ä»¶ï¼ˆè‹¥å¤šä¸ªæ–‡ä»¶ä¸€èµ·æ‰“å¼€ï¼‰ |
| `:prev`          | æ‰“å¼€ä¸Šä¸€ä¸ªæ–‡ä»¶            |
| `:r filename`    | åœ¨å…‰æ ‡å¤„æ’å…¥å…¶ä»–æ–‡ä»¶å†…å®¹       |
| `:sp filename`   | åˆ†å±æ‰“å¼€æ–‡ä»¶ï¼ˆæ°´å¹³ï¼‰         |
| `:vsp filename`  | åˆ†å±æ‰“å¼€æ–‡ä»¶ï¼ˆå‚ç›´ï¼‰         |
| `Ctrl + w` + `w` | åœ¨åˆ†å±é—´åˆ‡æ¢å…‰æ ‡           |

---

### 4.7 æ˜¾ç¤ºä¸è®¾ç½®

| å‘½ä»¤            | åŠŸèƒ½             |
| ------------- | -------------- |
| `:set nu`     | æ˜¾ç¤ºè¡Œå·           |
| `:set nonu`   | å–æ¶ˆè¡Œå·           |
| `:set ic`     | æœç´¢æ—¶å¿½ç•¥å¤§å°å†™       |
| `:set noic`   | æœç´¢æ—¶åŒºåˆ†å¤§å°å†™       |
| `:set paste`  | è¿›å…¥ç²˜è´´æ¨¡å¼ï¼ˆé˜²æ­¢ç¼©è¿›é”™ä¹±ï¼‰ |
| `:syntax on`  | å¯ç”¨è¯­æ³•é«˜äº®         |
| `:syntax off` | å…³é—­è¯­æ³•é«˜äº®         |

---

### 4.8 ç»„åˆæ“ä½œç¤ºä¾‹

| æ“ä½œç›®æ ‡                  | å‘½ä»¤ç¤ºä¾‹               | è¯´æ˜            |
| --------------------- | ------------------ | ------------- |
| åˆ é™¤ç¬¬10è¡Œ                | `:10d`             | åˆ é™¤ç¬¬10è¡Œå†…å®¹      |
| å¤åˆ¶ç¬¬20è¡Œåˆ°ç¬¬25è¡Œ           | `:20,25y`          | å¤åˆ¶æŒ‡å®šè¡ŒèŒƒå›´       |
| æ›¿æ¢ç¬¬3åˆ°10è¡Œä¸­çš„â€œabcâ€ä¸ºâ€œxyzâ€ | `:3,10s/abc/xyz/g` | åŒºé—´æ›¿æ¢          |
| ä»å½“å‰è¡Œåˆ°æ–‡ä»¶æœ«å°¾åˆ é™¤           | `:.,$d`            | åˆ é™¤è‡³æ–‡ä»¶ç»“å°¾       |
| å…¨é€‰å¹¶å¤åˆ¶                 | `ggVGy`            | å¿«æ·æ“ä½œï¼šä»å¤´åˆ°å°¾é€‰ä¸­å¤åˆ¶ |

---

### 4.9 é€€å‡ºæŠ€å·§æ€»ç»“

| æ“ä½œ        | å‘½ä»¤               |
| --------- | ---------------- |
| ä¿å­˜å¹¶é€€å‡º     | `:wq` æˆ– `ZZ`     |
| å¼ºåˆ¶é€€å‡ºï¼ˆä¸ä¿å­˜ï¼‰ | `:q!`            |
| ä¿å­˜ä½†ä¸é€€å‡º    | `:w`             |
| å¦å­˜ä¸ºæ–°æ–‡ä»¶    | `:w newfile.txt` |

---

### ğŸ”§ å°ç»“æŠ€å·§

* æƒ³å¿«é€Ÿè¿›å…¥ç¼–è¾‘ï¼š`i` æˆ– `o`
* æƒ³ä¿å­˜é€€å‡ºï¼š`:wq`
* æƒ³æ”¾å¼ƒä¿®æ”¹ï¼š`:q!`
* æƒ³æ’¤é”€æ“ä½œï¼š`u`
* æƒ³å¤åˆ¶ç²˜è´´ï¼š`yy` â†’ `p`
* æƒ³æœç´¢å…³é”®è¯ï¼š`/word`
* æƒ³å…¨å±€æ›¿æ¢ï¼š`:%s/old/new/g`

---

## 5. ç³»ç»ŸæœåŠ¡ç®¡ç†

### 5.1 systemctl ç®€ä»‹

**`systemctl`** æ˜¯ Linux ç³»ç»Ÿä¸­åŸºäº **systemd** çš„æ ¸å¿ƒç®¡ç†å·¥å…·ï¼Œç”¨äºï¼š

* å¯åŠ¨ã€åœæ­¢ã€é‡å¯ã€å¯ç”¨æˆ–ç¦ç”¨ç³»ç»ŸæœåŠ¡ï¼›
* ç®¡ç†ç³»ç»Ÿè¿è¡Œçº§åˆ«ï¼ˆtargetï¼‰ï¼›
* æŸ¥çœ‹æœåŠ¡çŠ¶æ€ä¸æ—¥å¿—ï¼›
* æ§åˆ¶ç³»ç»Ÿå…³æœºã€é‡å¯ç­‰æ“ä½œã€‚

> ğŸ”¹ systemctl ç›¸å½“äºæ—§ç³»ç»Ÿä¸­ `service` ä¸ `chkconfig` å‘½ä»¤çš„æ•´åˆä¸å‡çº§ç‰ˆæœ¬ã€‚

---

### 5.2 åŸºæœ¬è¯­æ³•

```bash
systemctl [command] [unit]
```

**ç¤ºä¾‹ï¼š**

```bash
systemctl start nginx
systemctl status sshd
systemctl enable firewalld
```

---

### 5.3 å¸¸è§â€œæœåŠ¡æ§åˆ¶â€å­å‘½ä»¤

| æ“ä½œ           | å‘½ä»¤æ ¼å¼                                       | è¯´æ˜            |
| ------------ | ------------------------------------------ | ------------- |
| å¯åŠ¨æœåŠ¡         | `systemctl start æœåŠ¡å`                      | ç«‹å³å¯åŠ¨æœåŠ¡        |
| åœæ­¢æœåŠ¡         | `systemctl stop æœåŠ¡å`                       | åœæ­¢è¿è¡Œçš„æœåŠ¡       |
| é‡å¯æœåŠ¡         | `systemctl restart æœåŠ¡å`                    | å…ˆåœæ­¢å†å¯åŠ¨        |
| é‡æ–°åŠ è½½é…ç½®       | `systemctl reload æœåŠ¡å`                     | ä¸ä¸­æ–­æœåŠ¡ï¼Œä»…é‡è½½é…ç½®   |
| æŸ¥çœ‹çŠ¶æ€         | `systemctl status æœåŠ¡å`                     | æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ã€PIDã€æ—¥å¿— |
| æŸ¥çœ‹æ‰€æœ‰æœåŠ¡       | `systemctl list-units --type=service`      | åˆ—å‡ºå½“å‰æ´»åŠ¨æœåŠ¡      |
| æŸ¥çœ‹æ‰€æœ‰ï¼ˆå«æœªæ¿€æ´»ï¼‰æœåŠ¡ | `systemctl list-unit-files --type=service` | æŸ¥çœ‹å…¨éƒ¨æœåŠ¡å¯åŠ¨é…ç½®    |

**ç¤ºä¾‹ï¼š**

```bash
systemctl status sshd
systemctl restart network
```

---

### 5.4 å¼€æœºå¯åŠ¨é¡¹ç®¡ç†

| æ“ä½œ       | å‘½ä»¤                            | è¯´æ˜         |
| -------- | ----------------------------- | ---------- |
| å¯ç”¨å¼€æœºè‡ªå¯   | `systemctl enable æœåŠ¡å`        | è®¾ç½®æœåŠ¡å¼€æœºè‡ªåŠ¨å¯åŠ¨ |
| ç¦ç”¨å¼€æœºè‡ªå¯   | `systemctl disable æœåŠ¡å`       | å–æ¶ˆè‡ªåŠ¨å¯åŠ¨     |
| æ£€æŸ¥å¼€æœºå¯åŠ¨çŠ¶æ€ | `systemctl is-enabled æœåŠ¡å`    | æ˜¾ç¤ºæ˜¯å¦å¯ç”¨     |
| ç«‹å³å¯ç”¨å¹¶å¯åŠ¨  | `systemctl enable --now æœåŠ¡å`  | åŒæ—¶ç”Ÿæ•ˆå¹¶å¯åŠ¨    |
| ç«‹å³ç¦ç”¨å¹¶åœæ­¢  | `systemctl disable --now æœåŠ¡å` | åŒæ—¶å…³é—­å¹¶ç¦ç”¨    |

**ç¤ºä¾‹ï¼š**

```bash
systemctl enable firewalld
systemctl disable httpd
```

---

### 5.5 ç³»ç»Ÿçº§æ§åˆ¶å‘½ä»¤ï¼ˆæ›¿ä»£ä¼ ç»Ÿ init å‘½ä»¤ï¼‰

| æ“ä½œ         | å‘½ä»¤                                       | è¯´æ˜                    |
| ---------- | ---------------------------------------- | --------------------- |
| é‡å¯ç³»ç»Ÿ       | `systemctl reboot`                       | ç­‰åŒäº `reboot`          |
| å…³æœº         | `systemctl poweroff`                     | ç­‰åŒäº `shutdown -h now` |
| æŒ‚èµ·ç³»ç»Ÿ       | `systemctl suspend`                      | è¿›å…¥å†…å­˜æŒ‚èµ·                |
| ä¼‘çœ ç³»ç»Ÿ       | `systemctl hibernate`                    | å°†å†…å­˜å†™å…¥ç¡¬ç›˜å†ä¼‘çœ             |
| åˆ‡æ¢è¿è¡Œçº§åˆ«ï¼ˆç›®æ ‡ï¼‰ | `systemctl isolate multi-user.target`    | åˆ‡æ¢åˆ°å¤šç”¨æˆ·æ¨¡å¼              |
| åˆ‡æ¢åˆ°å›¾å½¢ç•Œé¢    | `systemctl isolate graphical.target`     | å¯åŠ¨å›¾å½¢ç•Œé¢                |
| æŸ¥çœ‹å½“å‰è¿è¡Œç›®æ ‡   | `systemctl get-default`                  | æŸ¥çœ‹é»˜è®¤å¯åŠ¨æ¨¡å¼              |
| è®¾ç½®é»˜è®¤ç›®æ ‡     | `systemctl set-default graphical.target` | è®¾ç½®ç³»ç»Ÿé»˜è®¤è¿è¡Œçº§åˆ«            |

ğŸ’¡ è¿è¡Œç›®æ ‡ï¼ˆtargetï¼‰æ˜¯ systemd å–ä»£æ—§æœ‰è¿è¡Œçº§åˆ«ï¼ˆrunlevelï¼‰çš„æ¦‚å¿µï¼š

| ä¼ ç»Ÿ runlevel | å¯¹åº” target         | å«ä¹‰       |
| ----------- | ----------------- | -------- |
| 0           | poweroff.target   | å…³æœº       |
| 1           | rescue.target     | å•ç”¨æˆ·æ¨¡å¼    |
| 3           | multi-user.target | å‘½ä»¤è¡Œå¤šç”¨æˆ·æ¨¡å¼ |
| 5           | graphical.target  | å›¾å½¢ç•Œé¢æ¨¡å¼   |
| 6           | reboot.target     | é‡å¯       |

---

### 5.6 æœåŠ¡æ–‡ä»¶ï¼ˆUnitï¼‰ç®¡ç†

systemctl ç®¡ç†çš„å¯¹è±¡ç§°ä¸º **â€œUnitâ€ å•å…ƒ**ï¼Œå¯åŒ…å«æœåŠ¡ã€æŒ‚è½½ç‚¹ã€å¥—æ¥å­—ã€ç›®æ ‡ç­‰ç±»å‹ã€‚

| ç±»å‹     | åç¼€         | è¯´æ˜            |
| ------ | ---------- | ------------- |
| æœåŠ¡å•å…ƒ   | `.service` | ç³»ç»ŸæœåŠ¡ï¼ˆæœ€å¸¸ç”¨ï¼‰     |
| ç›®æ ‡å•å…ƒ   | `.target`  | è¿è¡Œçº§åˆ«æ§åˆ¶        |
| æŒ‚è½½å•å…ƒ   | `.mount`   | æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ç‚¹       |
| å¥—æ¥å­—å•å…ƒ  | `.socket`  | ç½‘ç»œç›‘å¬å¥—æ¥å­—       |
| å®šæ—¶ä»»åŠ¡å•å…ƒ | `.timer`   | å®šæ—¶ä»»åŠ¡ï¼ˆæ›¿ä»£ cronï¼‰ |

**ç¤ºä¾‹ï¼š**

```bash
systemctl status sshd.service
systemctl restart nginx.service
```

ğŸ’¡ åç¼€ `.service` å¯çœç•¥ï¼ˆsystemctl ä¼šè‡ªåŠ¨è¯†åˆ«ï¼‰ã€‚

---

### 5.7 æ—¥å¿—ä¸è°ƒè¯•å‘½ä»¤

| æ“ä½œ        | å‘½ä»¤                        | è¯´æ˜           |
| --------- | ------------------------- | ------------ |
| æŸ¥çœ‹æœåŠ¡æ—¥å¿—    | `journalctl -u æœåŠ¡å`       | æŸ¥çœ‹æŒ‡å®šæœåŠ¡æ—¥å¿—     |
| æŸ¥çœ‹æœ€è¿‘çš„ç³»ç»Ÿæ—¥å¿— | `journalctl -xe`          | æŸ¥çœ‹ç³»ç»Ÿé”™è¯¯ä¿¡æ¯     |
| å®æ—¶ç›‘æ§æ—¥å¿—    | `journalctl -f -u æœåŠ¡å`    | ç±»ä¼¼ `tail -f` |
| é™åˆ¶æ—¥å¿—æ¡æ•°    | `journalctl -n 50 -u æœåŠ¡å` | æ˜¾ç¤ºæœ€è¿‘50æ¡æ—¥å¿—    |
| æŸ¥çœ‹æ‰€æœ‰å¯åŠ¨æ—¥å¿—  | `journalctl -b`           | å½“å‰å¯åŠ¨çš„å…¨éƒ¨æ—¥å¿—    |

**ç¤ºä¾‹ï¼š**

```bash
journalctl -u nginx -n 20
journalctl -xe
```

---

### 5.8 å¸¸ç”¨è¯Šæ–­ä¸è¾…åŠ©å‘½ä»¤

| æ“ä½œ              | å‘½ä»¤                        | è¯´æ˜                       |
| --------------- | ------------------------- | ------------------------ |
| æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œ        | `systemctl is-active æœåŠ¡å` | è¿”å› `active` æˆ– `inactive` |
| æ£€æŸ¥æ˜¯å¦å¤±è´¥          | `systemctl is-failed æœåŠ¡å` | è¿”å› `failed` è¡¨ç¤ºå¼‚å¸¸         |
| åˆ—å‡ºå¤±è´¥çš„æœåŠ¡         | `systemctl --failed`      | å¿«é€Ÿå®šä½å‡ºé”™æœåŠ¡                 |
| é‡æ–°åŠ è½½ systemd é…ç½® | `systemctl daemon-reload` | ä¿®æ”¹ unit æ–‡ä»¶åå¿…é¡»æ‰§è¡Œ          |
| å±è”½æœåŠ¡ï¼ˆç¦æ­¢æ‰‹åŠ¨æˆ–è‡ªåŠ¨å¯åŠ¨ï¼‰ | `systemctl mask æœåŠ¡å`      | é˜»æ­¢æœåŠ¡è¢«å¯åŠ¨                  |
| å–æ¶ˆå±è”½            | `systemctl unmask æœåŠ¡å`    | æ¢å¤æœåŠ¡å¯åŠ¨åŠŸèƒ½                 |

---

### 5.9 å®ç”¨ç¤ºä¾‹æ±‡æ€»

| ç›®æ ‡                   | å‘½ä»¤                                 | è¯´æ˜     |
| -------------------- | ---------------------------------- | ------ |
| å¯åŠ¨é˜²ç«å¢™æœåŠ¡              | `systemctl start firewalld`        | ç«‹å³å¯åŠ¨   |
| è®¾ç½®é˜²ç«å¢™å¼€æœºå¯åŠ¨            | `systemctl enable firewalld`       | æ°¸ä¹…å¯ç”¨   |
| ç¦æ­¢ NetworkManager æœåŠ¡ | `systemctl disable NetworkManager` | å…³é—­è‡ªå¯   |
| æŸ¥çœ‹ ssh æœåŠ¡è¿è¡ŒçŠ¶æ€        | `systemctl status sshd`            | æŸ¥çœ‹è¯¦ç»†çŠ¶æ€ |
| å®æ—¶æŸ¥çœ‹ nginx æ—¥å¿—        | `journalctl -f -u nginx`           | åŠ¨æ€è¾“å‡ºæ—¥å¿— |
| é‡è½½ nginx é…ç½®          | `systemctl reload nginx`           | æ— éœ€ä¸­æ–­æœåŠ¡ |
| å±è”½ httpd æœåŠ¡          | `systemctl mask httpd`             | é˜²æ­¢è¯¯å¯åŠ¨  |

---

### 5.10 å‘½ä»¤é€»è¾‘æ€»ç»“ï¼ˆæ€ç»´å¯¼å›¾å¼è®°å¿†ï¼‰

```
systemctl
â”œâ”€â”€ æœåŠ¡æ§åˆ¶ï¼šstart | stop | restart | reload | status
â”œâ”€â”€ å¼€æœºè‡ªå¯ï¼šenable | disable | is-enabled
â”œâ”€â”€ ç³»ç»Ÿæ§åˆ¶ï¼šreboot | poweroff | suspend | hibernate
â”œâ”€â”€ çŠ¶æ€æŸ¥çœ‹ï¼šlist-units | list-unit-files
â”œâ”€â”€ è¿è¡Œçº§åˆ«ï¼šget-default | set-default | isolate
â”œâ”€â”€ æ—¥å¿—ç®¡ç†ï¼šjournalctl -u
â””â”€â”€ é…ç½®ç»´æŠ¤ï¼šdaemon-reload | mask | unmask
```

---

### 5.11 å¸¸è§é—®é¢˜ä¸æŠ€å·§

* **ä¿®æ”¹äº†é…ç½®æ–‡ä»¶ä½†ä¸ç”Ÿæ•ˆï¼Ÿ**
  â†’ æ‰§è¡Œ `systemctl daemon-reload` è®© systemd é‡æ–°è¯»å–é…ç½®ã€‚

* **æœåŠ¡å´©æºƒäº†å¦‚ä½•æ¢å¤ï¼Ÿ**
  â†’ å¯æ‰§è¡Œ `systemctl restart æœåŠ¡å` æˆ–æ£€æŸ¥æ—¥å¿— `journalctl -u æœåŠ¡å`ã€‚

* **å¦‚ä½•ç¡®è®¤ systemd æ­£åœ¨ä½¿ç”¨ï¼Ÿ**

  ```bash
  ps -p 1 -o comm=
  ```

  è¾“å‡ºç»“æœè‹¥ä¸º `systemd`ï¼Œè¯´æ˜ç³»ç»Ÿæ­£åœ¨ä½¿ç”¨ systemd ç®¡ç†ã€‚

---

## 6ã€è¿›ç¨‹ç®¡ç†

### 6.1 è¿›ç¨‹åŸºç¡€çŸ¥è¯†

**1ï¸âƒ£ ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼ˆProcessï¼‰ï¼Ÿ**

> è¿›ç¨‹æ˜¯ç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ç¨‹åºï¼Œæ˜¯ CPU èµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚
> æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ **PIDï¼ˆProcess IDï¼‰**ã€‚

**2ï¸âƒ£ è¿›ç¨‹çš„çŠ¶æ€ï¼ˆSTATåˆ—å«ä¹‰ï¼‰ï¼š**

| çŠ¶æ€å­—æ¯ | å«ä¹‰                      |
| ---- | ----------------------- |
| R    | è¿è¡Œä¸­ï¼ˆRunningï¼‰            |
| S    | å¯ä¸­æ–­ç¡çœ ï¼ˆSleepingï¼‰         |
| D    | ä¸å¯ä¸­æ–­ç¡çœ ï¼ˆI/Oç­‰å¾…ï¼‰           |
| T    | åœæ­¢ï¼ˆStoppedï¼‰             |
| Z    | åƒµå°¸è¿›ç¨‹ï¼ˆZombieï¼‰            |
| <    | é«˜ä¼˜å…ˆçº§è¿›ç¨‹                  |
| N    | ä½ä¼˜å…ˆçº§è¿›ç¨‹                  |
| s    | è¿›ç¨‹ä¼šè¯é¢†å¯¼è€…ï¼ˆSession leaderï¼‰ |

---

### 6.2 æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯çš„å‘½ä»¤

---

#### 1ï¸âƒ£ `ps` â€”â€” æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„è¿›ç¨‹å¿«ç…§

**åŸºæœ¬è¯­æ³•ï¼š**

```bash
ps [é€‰é¡¹]
```

**å¸¸ç”¨é€‰é¡¹ç»„åˆï¼š**

| å‘½ä»¤       | å«ä¹‰                 |
| -------- | ------------------ |
| `ps`     | æŸ¥çœ‹å½“å‰ç»ˆç«¯ä¸‹çš„è¿›ç¨‹         |
| `ps -a`  | æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·çš„ç»ˆç«¯è¿›ç¨‹        |
| `ps -u`  | ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯       |
| `ps -x`  | æ˜¾ç¤ºæ— æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹ï¼ˆåå°ï¼‰     |
| `ps aux` | æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯ï¼ˆå¸¸ç”¨ï¼‰    |
| `ps -ef` | ä»¥å…¨æ ¼å¼æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ï¼ˆå¦ä¸€å¸¸ç”¨æ ¼å¼ï¼‰ |

**å¸¸è§è¾“å‡ºåˆ—è¯´æ˜ï¼š**

| åˆ—å      | å«ä¹‰     |
| ------- | ------ |
| USER    | æ‰€å±ç”¨æˆ·   |
| PID     | è¿›ç¨‹å·    |
| %CPU    | CPUå ç”¨ç‡ |
| %MEM    | å†…å­˜å ç”¨ç‡  |
| VSZ     | è™šæ‹Ÿå†…å­˜å¤§å° |
| RSS     | å®é™…å ç”¨å†…å­˜ |
| STAT    | è¿›ç¨‹çŠ¶æ€   |
| START   | å¯åŠ¨æ—¶é—´   |
| COMMAND | å¯åŠ¨å‘½ä»¤   |

**ç¤ºä¾‹ï¼š**

```bash
$ ps aux | grep ssh
root     1025  0.0  0.1  14568  1234 ?  Ss   10:00   0:00 /usr/sbin/sshd
```

ğŸ’¡ **æŠ€å·§ï¼š** `ps aux --sort=-%mem` å¯ä»¥æŒ‰å†…å­˜ä½¿ç”¨æ’åºã€‚

---

#### 2ï¸âƒ£ `top` â€”â€” å®æ—¶åŠ¨æ€æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹çŠ¶æ€

**åŠŸèƒ½ï¼š**
æ˜¾ç¤ºç³»ç»Ÿè¿è¡ŒçŠ¶æ€ã€CPU/å†…å­˜ä½¿ç”¨ç‡ã€å„è¿›ç¨‹èµ„æºå ç”¨æƒ…å†µã€‚

**å¸¸ç”¨å¿«æ·é”®ï¼š**

| æŒ‰é”®  | åŠŸèƒ½             |
| --- | -------------- |
| `q` | é€€å‡º             |
| `P` | æŒ‰ CPU å ç”¨ç‡æ’åº    |
| `M` | æŒ‰å†…å­˜å ç”¨ç‡æ’åº       |
| `T` | æŒ‰è¿è¡Œæ—¶é—´æ’åº        |
| `k` | æ€æ­»è¿›ç¨‹ï¼ˆè¾“å…¥ PIDï¼‰   |
| `1` | å±•ç¤ºæ¯ä¸ª CPU çš„ä½¿ç”¨æƒ…å†µ |
| `h` | å¸®åŠ©è¯´æ˜           |

**ç¤ºä¾‹ï¼š**

```bash
$ top
top - 14:23:41 up 2 days,  3:10,  3 users,  load average: 0.23, 0.35, 0.31
```

ğŸ’¡ **è¿›é˜¶ç‰ˆï¼š** å®‰è£… `htop` æä¾›æ›´ç›´è§‚çš„å½©è‰²ç•Œé¢ï¼ˆéœ€æ‰‹åŠ¨å®‰è£…ï¼‰ã€‚

---

#### 3ï¸âƒ£ `pstree` â€”â€” ä»¥æ ‘çŠ¶ç»“æ„æ˜¾ç¤ºè¿›ç¨‹å…³ç³»

**è¯­æ³•ï¼š**

```bash
pstree [é€‰é¡¹]
```

**å¸¸ç”¨é€‰é¡¹ï¼š**

| å‚æ•°   | å«ä¹‰      |
| ---- | ------- |
| `-p` | æ˜¾ç¤º PID  |
| `-u` | æ˜¾ç¤ºç”¨æˆ·    |
| `-a` | æ˜¾ç¤ºå®Œæ•´å‘½ä»¤è¡Œ |

**ç¤ºä¾‹ï¼š**

```bash
pstree -p
systemd(1)â”€â”¬â”€NetworkManager(720)â”€â”¬â”€dhclient(900)
            â”œâ”€sshd(1025)â”€â”¬â”€bash(1200)â”€â”€â”€top(1320)
```

ğŸ’¡ **ç”¨é€”ï¼š** å¯å¿«é€ŸæŸ¥çœ‹çˆ¶å­è¿›ç¨‹å…³ç³»ï¼Œåˆ¤æ–­æœåŠ¡å±‚çº§ç»“æ„ã€‚

---

#### 4ï¸âƒ£ `pidof` â€”â€” è·å–è¿›ç¨‹ PID

**ç¤ºä¾‹ï¼š**

```bash
pidof sshd
```

è¾“å‡ºï¼š

```
1025
```

---

#### 5ï¸âƒ£ `pgrep` â€”â€” æŒ‰åç§°æŸ¥æ‰¾è¿›ç¨‹ PID

**è¯­æ³•ï¼š**

```bash
pgrep è¿›ç¨‹å
```

**ç¤ºä¾‹ï¼š**

```bash
pgrep nginx
```

å¯é…åˆ `pkill` æ‰¹é‡ç»ˆæ­¢ã€‚

---

### 6.3 è¿›ç¨‹æ§åˆ¶å‘½ä»¤

---

#### 1ï¸âƒ£ `kill` â€”â€” æ ¹æ® PID ç»ˆæ­¢è¿›ç¨‹

**è¯­æ³•ï¼š**

```bash
kill [-ä¿¡å·] PID
```

**å¸¸ç”¨ä¿¡å·ï¼š**

| ä¿¡å·ç¼–å· | åç§°      | è¯´æ˜             |
| ---- | ------- | -------------- |
| 1    | SIGHUP  | é‡æ–°åŠ è½½é…ç½®         |
| 9    | SIGKILL | å¼ºåˆ¶ç»ˆæ­¢è¿›ç¨‹ï¼ˆæ— æ³•è¢«æ•è·ï¼‰  |
| 15   | SIGTERM | é»˜è®¤ç»ˆæ­¢ä¿¡å·ï¼ˆå¯è¢«ç¨‹åºå¤„ç†ï¼‰ |

**ç¤ºä¾‹ï¼š**

```bash
kill 1234        # å‘é€é»˜è®¤ç»ˆæ­¢ä¿¡å·
kill -9 1234     # å¼ºåˆ¶æ€æ­»è¿›ç¨‹
```

ğŸ’¡ **æŠ€å·§ï¼š** è‹¥ PID ä¸ç¡®å®šï¼Œå¯é…åˆ `ps` æˆ– `pgrep` ä½¿ç”¨ã€‚

---

#### 2ï¸âƒ£ `pkill` â€”â€” æŒ‰è¿›ç¨‹åæ€æ­»

```bash
pkill nginx
```

ç­‰ä»·äºï¼š

```bash
kill $(pidof nginx)
```

---

#### 3ï¸âƒ£ `killall` â€”â€” æŒ‰å‘½ä»¤åç»“æŸæ‰€æœ‰åŒåè¿›ç¨‹

```bash
killall httpd
```

ğŸ’¡ ä¸ `pkill` ç±»ä¼¼ï¼Œä½† `killall` åŒ¹é…å‘½ä»¤åè€Œéæ¨¡å¼ã€‚

---

### 6.4 åå°ä¸ä½œä¸šæ§åˆ¶


#### 1ï¸âƒ£ åå°è¿è¡Œä¸æŒ‚èµ·

| æ“ä½œ       | å‘½ä»¤          | è¯´æ˜           |
| -------- | ----------- | ------------ |
| åå°è¿è¡Œå‘½ä»¤   | `command &` | åœ¨åå°è¿è¡Œï¼Œä¸å ç”¨ç»ˆç«¯  |
| æŸ¥çœ‹åå°ä»»åŠ¡   | `jobs`      | æ˜¾ç¤ºå½“å‰ä¼šè¯çš„åå°ä»»åŠ¡  |
| é‡æ–°åˆ‡å›å‰å°   | `fg %n`     | å°†ç¬¬ n ä¸ªä»»åŠ¡æ”¾å›å‰å° |
| æŒ‚èµ·ä»»åŠ¡     | `Ctrl + Z`  | æš‚åœä»»åŠ¡å¹¶æŒ‚èµ·åå°    |
| æ¢å¤è¿è¡Œï¼ˆåå°ï¼‰ | `bg %n`     | åœ¨åå°æ¢å¤ä»»åŠ¡è¿è¡Œ    |

**ç¤ºä¾‹ï¼š**

```bash
sleep 100 &
jobs
fg %1
```

---

#### 2ï¸âƒ£ æ°¸ä¹…åå°è¿è¡Œ

| å‘½ä»¤                | è¯´æ˜                   |
| ----------------- | -------------------- |
| `nohup command &` | å¿½ç•¥æŒ‚èµ·ä¿¡å·ï¼Œå³ä½¿æ³¨é”€ä»ç»§ç»­è¿è¡Œ     |
| `disown`          | å°†ä»»åŠ¡ä»å½“å‰ shell ä½œä¸šåˆ—è¡¨ä¸­ç§»é™¤ |

**ç¤ºä¾‹ï¼š**

```bash
nohup python3 server.py &
disown %1
```

---

### 6.5 è¿›ç¨‹ä¼˜å…ˆçº§æ§åˆ¶

---

#### 1ï¸âƒ£ `nice` â€”â€” å¯åŠ¨è¿›ç¨‹æ—¶æŒ‡å®šä¼˜å…ˆçº§

**è¯­æ³•ï¼š**

```bash
nice -n <ä¼˜å…ˆçº§> command
```

**è¯´æ˜ï¼š**

* ä¼˜å…ˆçº§èŒƒå›´ï¼š`-20`ï¼ˆæœ€é«˜ï¼‰ï½ `19`ï¼ˆæœ€ä½ï¼‰
* æ™®é€šç”¨æˆ·ä»…èƒ½è°ƒé«˜æ•°å€¼ï¼ˆé™ä½ä¼˜å…ˆçº§ï¼‰

**ç¤ºä¾‹ï¼š**

```bash
nice -n 10 python3 run_task.py
```

---

#### 2ï¸âƒ£ `renice` â€”â€” ä¿®æ”¹å·²è¿è¡Œè¿›ç¨‹çš„ä¼˜å…ˆçº§

**è¯­æ³•ï¼š**

```bash
renice <ä¼˜å…ˆçº§> -p <PID>
```

**ç¤ºä¾‹ï¼š**

```bash
renice -5 -p 1320
```

ğŸ’¡ ä¼˜å…ˆçº§è¶Šä½ï¼Œè¿›ç¨‹è·å¾— CPU è°ƒåº¦çš„æœºä¼šè¶Šå¤šã€‚

---

### 6.6 è¿›ç¨‹ç›‘æ§ä¸ç»Ÿè®¡

---

#### 1ï¸âƒ£ `pidstat` â€”â€” æŒ‰è¿›ç¨‹ç»Ÿè®¡ CPU/å†…å­˜ä½¿ç”¨ï¼ˆéœ€å®‰è£… `sysstat`ï¼‰

```bash
pidstat -u 2
```

â†’ æ¯2ç§’åˆ·æ–°ä¸€æ¬¡CPUä½¿ç”¨æƒ…å†µã€‚

---

#### 2ï¸âƒ£ `vmstat` â€”â€” ç³»ç»Ÿæ•´ä½“èµ„æºç»Ÿè®¡

```bash
vmstat 2 5
```

â†’ æ¯2ç§’è¾“å‡ºä¸€æ¬¡ï¼Œå…±è¾“å‡º5æ¬¡ç³»ç»Ÿæ•´ä½“è¿è¡ŒæŒ‡æ ‡ã€‚

---

### 6.7 å®ç”¨å‘½ä»¤æ±‡æ€»è¡¨

| æ“ä½œç›®æ ‡   | å‘½ä»¤ç¤ºä¾‹                 | è¯´æ˜          |       |
| ------ | -------------------- | ----------- | ----- |
| æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹ | `ps -ef`             | å…¨æ ¼å¼æŸ¥çœ‹       |       |
| æŸ¥æ‰¾ç‰¹å®šè¿›ç¨‹ | `ps aux              | grep nginx` | åŒ¹é…å…³é”®å­— |
| æŸ¥çœ‹è¿›ç¨‹æ ‘  | `pstree -p`          | æ ‘çŠ¶ç»“æ„        |       |
| å®æ—¶æŸ¥çœ‹è¿›ç¨‹ | `top`                | åŠ¨æ€åˆ·æ–°        |       |
| æ€æ­»è¿›ç¨‹   | `kill -9 PID`        | å¼ºåˆ¶ç»ˆæ­¢        |       |
| æŒ‰åç§°æ€æ­»  | `pkill httpd`        | ç»“æŸæ‰€æœ‰åŒåè¿›ç¨‹    |       |
| æŸ¥çœ‹åå°ä»»åŠ¡ | `jobs`               | æ˜¾ç¤ºä½œä¸šåˆ—è¡¨      |       |
| æ¢å¤åå°ä»»åŠ¡ | `fg %1`              | å‰å°æ¢å¤        |       |
| è®¾ç½®ä¼˜å…ˆçº§  | `nice -n 10 command` | å¯åŠ¨æ—¶è®¾å®š       |       |
| ä¿®æ”¹ä¼˜å…ˆçº§  | `renice -5 -p 1234`  | åŠ¨æ€è°ƒæ•´        |       |

---

### 6.8 è¿›ç¨‹ç®¡ç†æ€ç»´å¯¼å›¾å¼æ€»ç»“

```
è¿›ç¨‹ç®¡ç†å‘½ä»¤
â”œâ”€â”€ æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯
â”‚   â”œâ”€ ps / top / pstree / pgrep / pidof
â”‚
â”œâ”€â”€ æ§åˆ¶è¿›ç¨‹
â”‚   â”œâ”€ kill / pkill / killall
â”‚   â”œâ”€ jobs / fg / bg / nohup
â”‚
â”œâ”€â”€ ä¼˜å…ˆçº§è°ƒæ•´
â”‚   â”œâ”€ nice / renice
â”‚
â””â”€â”€ ç›‘æ§ä¸ç»Ÿè®¡
    â”œâ”€ vmstat / pidstat / top
```

---

### ğŸ§  å°ç»“è®°å¿†å£è¯€

> æŸ¥è¿›ç¨‹çœ‹ `ps`ï¼ŒåŠ¨æ€çœ‹ `top`ï¼›
> æ€è¿›ç¨‹ç”¨ `kill`ï¼Œæ‰¹é‡ç”¨ `pkill`ï¼›
> åå°åŠ  `&`ï¼ŒæŒ‚èµ·ç”¨ `Ctrl+Z`ï¼›
> ä¼˜å…ˆçº§è°ƒ `nice`ï¼Œç›‘æ§åˆ«å¿˜ `vmstat`ï¼

---

## 7ã€å†…å­˜å’Œå­˜å‚¨ç®¡ç†

### 7.1 å†…å­˜ç®¡ç†åŸºç¡€çŸ¥è¯†

#### 1ï¸âƒ£ ä»€ä¹ˆæ˜¯å†…å­˜ç®¡ç†ï¼Ÿ

> å†…å­˜ç®¡ç†æ˜¯æ“ä½œç³»ç»Ÿå¯¹ RAM çš„åˆ†é…ã€å›æ”¶ä¸è°ƒåº¦æœºåˆ¶ã€‚
> åœ¨ Linux ä¸­ï¼Œä¸€åˆ‡çš†æ–‡ä»¶ï¼Œå†…å­˜çš„ä½¿ç”¨çŠ¶æ€ã€ç¼“å­˜ã€äº¤æ¢åˆ†åŒºéƒ½å¯è¢«æŸ¥è¯¢ã€‚

#### 2ï¸âƒ£ å†…å­˜ç›¸å…³æ¦‚å¿µï¼š

| åç§°                 | è¯´æ˜                      |
| ------------------ | ----------------------- |
| **MemTotal**       | æ€»å†…å­˜å¤§å°                   |
| **MemFree**        | ç©ºé—²å†…å­˜                    |
| **Buffers/Cached** | æ–‡ä»¶ç¼“å­˜ï¼Œç”¨äºåŠ é€Ÿç£ç›˜è®¿é—®           |
| **Swap**           | äº¤æ¢åˆ†åŒºï¼Œç”¨äºä¸´æ—¶æ‰©å±•å†…å­˜           |
| **Used**           | å®é™…å·²ç”¨å†…å­˜ï¼ˆ= æ€»å†…å­˜ - ç©ºé—² - ç¼“å­˜ï¼‰ |

---

### 7.2 æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µçš„å‘½ä»¤


#### 1ï¸âƒ£ `free` â€”â€” æ˜¾ç¤ºç³»ç»Ÿå†…å­˜ä½¿ç”¨çŠ¶æ€

**è¯­æ³•ï¼š**

```bash
free [é€‰é¡¹]
```

**å¸¸ç”¨é€‰é¡¹ï¼š**

| é€‰é¡¹     | å«ä¹‰               |
| ------ | ---------------- |
| `-h`   | ä»¥äººç±»å¯è¯»æ–¹å¼ï¼ˆMB/GBï¼‰æ˜¾ç¤º |
| `-s N` | æ¯éš” N ç§’åˆ·æ–°ä¸€æ¬¡       |
| `-t`   | æ˜¾ç¤ºç‰©ç†å†…å­˜ + äº¤æ¢åŒºæ€»å’Œ   |

**ç¤ºä¾‹ï¼š**

```bash
free -h
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
              total        used        free      shared  buff/cache   available
Mem:           15Gi       3.2Gi       8.4Gi       320Mi       3.5Gi        11Gi
Swap:          2.0Gi       0.0Gi       2.0Gi
```

ğŸ’¡ **æŠ€å·§ï¼š**

* `used` å¹¶ä¸ç­‰äºâ€œçœŸæ­£å ç”¨â€ï¼Œåº”å‚è€ƒ `available` æ‰èƒ½åæ˜ ç³»ç»Ÿå¯ç”¨å†…å­˜ã€‚

---

#### 2ï¸âƒ£ `vmstat` â€”â€” ç³»ç»Ÿæ•´ä½“æ€§èƒ½ä¸å†…å­˜ç»Ÿè®¡

**è¯­æ³•ï¼š**

```bash
vmstat [é—´éš”ç§’æ•°] [æ¬¡æ•°]
```

**ç¤ºä¾‹ï¼š**

```bash
vmstat 2 5
```

è¾“å‡ºå­—æ®µè¯´æ˜ï¼š

| å­—æ®µ      | å«ä¹‰       |
| ------- | -------- |
| `r`     | æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ•° |
| `b`     | é˜»å¡è¿›ç¨‹æ•°    |
| `swpd`  | ä½¿ç”¨çš„äº¤æ¢åŒº   |
| `free`  | ç©ºé—²å†…å­˜     |
| `buff`  | ç¼“å†²åŒºå†…å­˜    |
| `cache` | ç¼“å­˜å†…å­˜     |

---

#### 3ï¸âƒ£ `top` / `htop` â€”â€” å®æ—¶ç›‘æ§å†…å­˜ä½¿ç”¨

* åœ¨ `top` ä¸­å¯ç›´æ¥æŸ¥çœ‹ **%MEM** å’Œ **VIRT / RES / SHR** ç­‰åˆ—ã€‚
* æŒ‰ **M** é”®å¯æŒ‰å†…å­˜å ç”¨æ’åºã€‚

---

#### 4ï¸âƒ£ `cat /proc/meminfo` â€”â€” æŸ¥çœ‹è¯¦ç»†å†…å­˜æŒ‡æ ‡

**ç¤ºä¾‹ï¼š**

```bash
cat /proc/meminfo
```

è¯¥æ–‡ä»¶åŒ…å«ç³»ç»Ÿå†…æ ¸ç»´æŠ¤çš„æ‰€æœ‰å†…å­˜å‚æ•°ï¼Œé€‚åˆæ·±å…¥åˆ†æã€‚

---

#### 5ï¸âƒ£ `sar -r` â€”â€” æŸ¥çœ‹å†å²å†…å­˜ä½¿ç”¨æƒ…å†µï¼ˆéœ€å®‰è£… `sysstat`ï¼‰

```bash
sar -r 2 5
```

â†’ æ¯2ç§’åˆ·æ–°ä¸€æ¬¡ï¼Œå…±è¾“å‡º5æ¬¡å†…å­˜ä½¿ç”¨è®°å½•ã€‚

---

### 7.3 äº¤æ¢åˆ†åŒºï¼ˆSwapï¼‰ç®¡ç†å‘½ä»¤

#### 1ï¸âƒ£ æŸ¥çœ‹äº¤æ¢åŒºä½¿ç”¨æƒ…å†µ

```bash
swapon --show
free -h
```

#### 2ï¸âƒ£ å¯ç”¨äº¤æ¢åŒº

```bash
sudo swapon /swapfile
```

#### 3ï¸âƒ£ ç¦ç”¨äº¤æ¢åŒº

```bash
sudo swapoff /swapfile
```

#### 4ï¸âƒ£ åˆ›å»ºæ–°çš„äº¤æ¢æ–‡ä»¶

```bash
sudo fallocate -l 2G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
```

ğŸ’¡ **æ°¸ä¹…å¯ç”¨ï¼š**
å°† `/swapfile none swap sw 0 0` å†™å…¥ `/etc/fstab`ã€‚

---

### 7.4 ç£ç›˜ä¸å­˜å‚¨ç®¡ç†å‘½ä»¤

#### 1ï¸âƒ£ `df` â€”â€” æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿç£ç›˜ä½¿ç”¨æƒ…å†µ

**è¯­æ³•ï¼š**

```bash
df [é€‰é¡¹]
```

**å¸¸ç”¨é€‰é¡¹ï¼š**

| é€‰é¡¹   | è¯´æ˜            |
| ---- | ------------- |
| `-h` | ä»¥äººç±»å¯è¯»æ ¼å¼æ˜¾ç¤º     |
| `-T` | æ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿç±»å‹      |
| `-i` | æ˜¾ç¤º inode ä½¿ç”¨æƒ…å†µ |

**ç¤ºä¾‹ï¼š**

```bash
df -hT
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
Filesystem     Type  Size  Used Avail Use% Mounted on
/dev/sda2      ext4  200G   30G  160G  16% /
tmpfs          tmpfs 7.8G  1.2M  7.8G   1% /run
```

---

#### 2ï¸âƒ£ `du` â€”â€” æŸ¥çœ‹ç›®å½•æˆ–æ–‡ä»¶çš„ç£ç›˜å ç”¨é‡

**è¯­æ³•ï¼š**

```bash
du [é€‰é¡¹] [è·¯å¾„]
```

**å¸¸ç”¨é€‰é¡¹ï¼š**

| é€‰é¡¹              | è¯´æ˜        |
| --------------- | --------- |
| `-h`            | ä»¥äººç±»å¯è¯»æ ¼å¼æ˜¾ç¤º |
| `-s`            | åªç»Ÿè®¡æ€»å’Œ     |
| `--max-depth=N` | é™åˆ¶ç›®å½•å±‚çº§    |

**ç¤ºä¾‹ï¼š**

```bash
du -sh /home
du -h --max-depth=1 /var/log
```

---

#### 3ï¸âƒ£ `lsblk` â€”â€” æ˜¾ç¤ºå—è®¾å¤‡ä¿¡æ¯ï¼ˆç£ç›˜ç»“æ„æ ‘ï¼‰

**ç¤ºä¾‹ï¼š**

```bash
lsblk
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
sda      8:0    0  512G  0 disk
â”œâ”€sda1   8:1    0  512M  0 part /boot
â””â”€sda2   8:2    0  511G  0 part /
```

ğŸ’¡ é€‚åˆæŸ¥çœ‹ç£ç›˜åˆ†åŒºç»“æ„ã€‚

---

#### 4ï¸âƒ£ `fdisk` / `parted` â€”â€” åˆ†åŒºå·¥å…·

**æŸ¥çœ‹ç£ç›˜åˆ†åŒºä¿¡æ¯ï¼š**

```bash
sudo fdisk -l
```

**äº¤äº’å¼ä¿®æ”¹åˆ†åŒºï¼š**

```bash
sudo fdisk /dev/sda
```

ğŸ’¡ å¯¹ GPT åˆ†åŒºè¡¨å¯ä½¿ç”¨ `parted` å‘½ä»¤ã€‚

---

#### 5ï¸âƒ£ `mount` / `umount` â€”â€” æŒ‚è½½ä¸å¸è½½æ–‡ä»¶ç³»ç»Ÿ

**æŒ‚è½½å‘½ä»¤ï¼š**

```bash
sudo mount /dev/sdb1 /mnt/usb
```

**å¸è½½å‘½ä»¤ï¼š**

```bash
sudo umount /mnt/usb
```

ğŸ’¡ æ°¸ä¹…æŒ‚è½½å¯ç¼–è¾‘ `/etc/fstab` æ–‡ä»¶ã€‚

---

#### 6ï¸âƒ£ `blkid` â€”â€” æŸ¥çœ‹ç£ç›˜UUIDä¸æ–‡ä»¶ç³»ç»Ÿç±»å‹

**ç¤ºä¾‹ï¼š**

```bash
sudo blkid
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
/dev/sda1: UUID="e2b0..." TYPE="ext4"
/dev/sdb1: UUID="F1A8-3D9A" TYPE="vfat"
```

---

#### 7ï¸âƒ£ `df` + `du` å®æˆ˜æŠ€å·§

| åœºæ™¯          | å‘½ä»¤                      |          |       |
| ----------- | ----------------------- | -------- | ----- |
| æŸ¥çœ‹ç³»ç»Ÿç£ç›˜æ€»ä½“æƒ…å†µ  | `df -h`                 |          |       |
| æŸ¥æ‰¾å“ªä¸ªæ–‡ä»¶å¤¹å ç”¨æœ€å¤§ | `du -h --max-depth=1 /  | sort -hr | head` |
| æŸ¥çœ‹æŸä¸ªç”¨æˆ·ç›®å½•çš„ç©ºé—´ | `du -sh /home/username` |          |       |

---

### 7.5 ç£ç›˜å¥åº·ä¸æ€§èƒ½ç›‘æµ‹

#### 1ï¸âƒ£ `iostat` â€”â€” æŸ¥çœ‹ç£ç›˜I/Oç»Ÿè®¡ï¼ˆéœ€å®‰è£… `sysstat`ï¼‰

```bash
iostat -x 2 3
```

æ˜¾ç¤ºæ¯ä¸ªç£ç›˜çš„è¯»å†™é€Ÿç‡ã€I/Oåˆ©ç”¨ç‡ã€‚

---

#### 2ï¸âƒ£ `iotop` â€”â€” å®æ—¶æŸ¥çœ‹è¿›ç¨‹I/Oå ç”¨ï¼ˆéœ€å®‰è£…ï¼‰

```bash
sudo iotop
```

å¯æ˜¾ç¤ºå“ªä¸ªè¿›ç¨‹åœ¨å¤§é‡è¯»å†™ç£ç›˜ã€‚

---

#### 3ï¸âƒ£ `df -i` â€”â€” æŸ¥çœ‹ inode ä½¿ç”¨æƒ…å†µ

æ–‡ä»¶ç³»ç»Ÿ inode è€—å°½æ—¶ä¼šå¯¼è‡´æ— æ³•æ–°å»ºæ–‡ä»¶ï¼Œå³ä½¿ç£ç›˜ä»æœ‰ç©ºé—´ã€‚

---

#### 4ï¸âƒ£ `smartctl` â€”â€” æ£€æµ‹ç¡¬ç›˜å¥åº·çŠ¶æ€ï¼ˆéœ€å®‰è£… smartmontoolsï¼‰

```bash
sudo smartctl -a /dev/sda
```

æŸ¥çœ‹ç¡¬ç›˜SMARTä¿¡æ¯ã€é€šç”µæ—¶é—´ã€åé“ç»Ÿè®¡ç­‰ã€‚

---

### 7.6 æ–‡ä»¶ç³»ç»Ÿç®¡ç†å‘½ä»¤

#### 1ï¸âƒ£ `mkfs` â€”â€” åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿ

**è¯­æ³•ï¼š**

```bash
sudo mkfs -t ext4 /dev/sdb1
```

å¸¸è§ç±»å‹ï¼š

* `ext4`ï¼šLinuxå¸¸ç”¨æ–‡ä»¶ç³»ç»Ÿ
* `vfat`ï¼šå…¼å®¹Windowsçš„FAT32
* `xfs`ï¼šé«˜æ€§èƒ½æ—¥å¿—æ–‡ä»¶ç³»ç»Ÿ

---

#### 2ï¸âƒ£ `fsck` â€”â€” æ£€æŸ¥å¹¶ä¿®å¤æ–‡ä»¶ç³»ç»Ÿé”™è¯¯

```bash
sudo fsck -y /dev/sdb1
```

ğŸ’¡ å»ºè®®åœ¨å¸è½½çŠ¶æ€ä¸‹æ‰§è¡Œã€‚

---

### 7.7 ç³»ç»Ÿç£ç›˜ä¸å†…å­˜æ±‡æ€»å‘½ä»¤è¡¨

| åŠŸèƒ½       | å‘½ä»¤                  | è¯´æ˜          |
| -------- | ------------------- | ----------- |
| æŸ¥çœ‹å†…å­˜ä½¿ç”¨   | `free -h`           | å†…å­˜å ç”¨ä¸SwapçŠ¶æ€ |
| åŠ¨æ€å†…å­˜ç›‘æ§   | `vmstat 2`          | å®æ—¶åˆ·æ–°        |
| æŸ¥çœ‹è¯¦ç»†å†…å­˜ä¿¡æ¯ | `cat /proc/meminfo` | æŸ¥çœ‹å†…æ ¸çº§æŒ‡æ ‡     |
| æŸ¥çœ‹ç£ç›˜ä½¿ç”¨   | `df -hT`            | æ–‡ä»¶ç³»ç»Ÿå ç”¨      |
| æŸ¥çœ‹ç›®å½•å¤§å°   | `du -sh /path`      | æ–‡ä»¶å¤¹å ç”¨       |
| æŸ¥çœ‹åˆ†åŒºç»“æ„   | `lsblk`             | ç£ç›˜ç»“æ„æ ‘       |
| æŸ¥çœ‹åˆ†åŒºUUID | `blkid`             | ç£ç›˜æ ‡è¯†        |
| ç®¡ç†æŒ‚è½½     | `mount / umount`    | æŒ‚è½½ä¸å¸è½½       |
| åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿ   | `mkfs -t ext4`      | æ ¼å¼åŒ–åˆ†åŒº       |
| æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿ   | `fsck`              | ä¿®å¤é”™è¯¯        |
| æŸ¥çœ‹I/Oæ€§èƒ½  | `iostat / iotop`    | ç£ç›˜è´Ÿè½½ç›‘æµ‹      |
| æŸ¥çœ‹SwapçŠ¶æ€ | `swapon --show`     | å½“å‰äº¤æ¢åˆ†åŒº      |

---

### 7.8 å¿«é€Ÿè®°å¿†å£è¯€

> æŸ¥å†…å­˜çœ‹ `free`ï¼Œç›‘æ§ç”¨ `vmstat`ï¼›
> çœ‹ç£ç›˜ç”¨ `df`ï¼ŒæŸ¥ç›®å½•é… `du`ï¼›
> æŸ¥åˆ†åŒºç”¨ `lsblk`ï¼Œä¿®ç³»ç»Ÿé  `fsck`ï¼›
> æŒ‚è½½é  `mount`ï¼Œæ€§èƒ½çœ‹ `iostat`ï¼

---

## 8ã€ç”¨æˆ·ç®¡ç†

### 8.1 æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯

| æŒ‡ä»¤              | åŠŸèƒ½                   | ç¤ºä¾‹                |
| --------------- | -------------------- | ----------------- |
| `who`           | æŸ¥çœ‹å½“å‰ç™»å½•çš„ç”¨æˆ·            | `who`             |
| `w`             | æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·åŠæ­£åœ¨æ‰§è¡Œçš„å‘½ä»¤     | `w`               |
| `id`            | æŸ¥çœ‹æŒ‡å®šç”¨æˆ·çš„ UIDã€GID åŠæ‰€å±ç»„ | `id username`     |
| `finger`        | æŸ¥çœ‹ç”¨æˆ·è¯¦ç»†ä¿¡æ¯ï¼ˆéœ€å®‰è£…ï¼‰        | `finger username` |
| `getent passwd` | æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·             | `getent passwd`   |

---

### 8.2 æ·»åŠ ç”¨æˆ·

| æŒ‡ä»¤                     | åŠŸèƒ½           | ç¤ºä¾‹                                      |
| ---------------------- | ------------ | --------------------------------------- |
| `useradd`              | æ·»åŠ ç”¨æˆ·ï¼ˆä»…åˆ›å»ºè´¦æˆ·ï¼‰  | `sudo useradd testuser`                 |
| `useradd -m`           | æ·»åŠ ç”¨æˆ·å¹¶åˆ›å»ºä¸»ç›®å½•   | `sudo useradd -m testuser`              |
| `useradd -s /bin/bash` | æŒ‡å®šç”¨æˆ·ç™»å½• shell | `sudo useradd -m -s /bin/bash testuser` |
| `passwd`               | è®¾ç½®æˆ–ä¿®æ”¹ç”¨æˆ·å¯†ç     | `sudo passwd testuser`                  |

**å¤‡æ³¨ï¼š**

* ç”¨æˆ·ä¸»ç›®å½•é»˜è®¤åœ¨ `/home/ç”¨æˆ·å`ã€‚
* `-d /è·¯å¾„` å¯ä»¥è‡ªå®šä¹‰ä¸»ç›®å½•ã€‚

---

### 8.3 åˆ é™¤ç”¨æˆ·

| æŒ‡ä»¤                    | åŠŸèƒ½           | ç¤ºä¾‹                         |
| --------------------- | ------------ | -------------------------- |
| `userdel username`    | åˆ é™¤ç”¨æˆ·ï¼ˆä¸åˆ é™¤ä¸»ç›®å½•ï¼‰ | `sudo userdel testuser`    |
| `userdel -r username` | åˆ é™¤ç”¨æˆ·åŠå…¶ä¸»ç›®å½•    | `sudo userdel -r testuser` |

---

### 8.4 ä¿®æ”¹ç”¨æˆ·

| æŒ‡ä»¤                        | åŠŸèƒ½         | ç¤ºä¾‹                                         |
| ------------------------- | ---------- | ------------------------------------------ |
| `usermod -l æ–°ç”¨æˆ·å æ—§ç”¨æˆ·å`    | ä¿®æ”¹ç”¨æˆ·å      | `sudo usermod -l newuser olduser`          |
| `usermod -d /æ–°/ç›®å½• -m ç”¨æˆ·å` | ä¿®æ”¹ä¸»ç›®å½•å¹¶ç§»åŠ¨æ–‡ä»¶ | `sudo usermod -d /home/newdir -m testuser` |
| `usermod -s /bin/zsh ç”¨æˆ·å` | ä¿®æ”¹ç™»å½• shell | `sudo usermod -s /bin/zsh testuser`        |
| `usermod -G ç»„å ç”¨æˆ·å`       | æ·»åŠ é™„åŠ ç»„      | `sudo usermod -aG sudo testuser`           |

**å¤‡æ³¨ï¼š** `-a` å‚æ•°éå¸¸é‡è¦ï¼Œé˜²æ­¢è¦†ç›–åŸæœ‰ç»„ã€‚

---

## 9ã€ç”¨æˆ·ç»„ç®¡ç†

### 9.1 æŸ¥çœ‹ç»„ä¿¡æ¯

| æŒ‡ä»¤               | åŠŸèƒ½        | ç¤ºä¾‹                |
| ---------------- | --------- | ----------------- |
| `groups`         | æŸ¥çœ‹ç”¨æˆ·æ‰€å±ç»„   | `groups testuser` |
| `getent group`   | æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç»„   | `getent group`    |
| `cat /etc/group` | æŸ¥çœ‹æ‰€æœ‰ç»„åŠç»„æˆå‘˜ | `cat /etc/group`  |

---

### 9.2 æ·»åŠ /åˆ é™¤ç»„

| æŒ‡ä»¤                    | åŠŸèƒ½   | ç¤ºä¾‹                                 |
| --------------------- | ---- | ---------------------------------- |
| `groupadd ç»„å`         | æ·»åŠ æ–°ç»„ | `sudo groupadd developers`         |
| `groupdel ç»„å`         | åˆ é™¤ç»„  | `sudo groupdel developers`         |
| `groupmod -n æ–°ç»„å æ—§ç»„å` | ä¿®æ”¹ç»„å | `sudo groupmod -n devs developers` |

---

### 9.3 ç”¨æˆ·ä¸ç»„çš„å…³è”

| æŒ‡ä»¤                  | åŠŸèƒ½      | ç¤ºä¾‹                               |
| ------------------- | ------- | -------------------------------- |
| `usermod -G ç»„å ç”¨æˆ·å` | ä¿®æ”¹ç”¨æˆ·é™„åŠ ç»„ | `sudo usermod -aG sudo testuser` |
| `gpasswd -a ç”¨æˆ·å ç»„å` | å°†ç”¨æˆ·åŠ å…¥ç»„  | `sudo gpasswd -a testuser sudo`  |
| `gpasswd -d ç”¨æˆ·å ç»„å` | å°†ç”¨æˆ·ç§»å‡ºç»„  | `sudo gpasswd -d testuser sudo`  |

---

### 9.3 æƒé™ä¸è´¦å·æ§åˆ¶

| æŒ‡ä»¤                | åŠŸèƒ½         | ç¤ºä¾‹                          |
| ----------------- | ---------- | --------------------------- |
| `chage -l ç”¨æˆ·å`    | æŸ¥çœ‹å¯†ç è¿‡æœŸä¿¡æ¯   | `chage -l testuser`         |
| `chage -M 90 ç”¨æˆ·å` | è®¾ç½®å¯†ç æœ€å¤§ä½¿ç”¨å¤©æ•° | `sudo chage -M 90 testuser` |
| `usermod -L ç”¨æˆ·å`  | é”å®šè´¦æˆ·ï¼ˆç¦æ­¢ç™»å½•ï¼‰ | `sudo usermod -L testuser`  |
| `usermod -U ç”¨æˆ·å`  | è§£é”è´¦æˆ·       | `sudo usermod -U testuser`  |

---

### 9.4 å¸¸ç”¨å¿«æ·å‘½ä»¤

* `whoami`ï¼šæ˜¾ç¤ºå½“å‰ç”¨æˆ·
* `su ç”¨æˆ·å`ï¼šåˆ‡æ¢ç”¨æˆ·
* `sudo -i`ï¼šä»¥ root èº«ä»½ç™»å½• shell
* `sudo command`ï¼šä»¥ root æƒé™æ‰§è¡Œå‘½ä»¤

---

## 10ã€æ–‡ä»¶ç®¡ç†

### 10.1 æ–‡ä»¶å’Œç›®å½•æ“ä½œ

| å‘½ä»¤              | åŠŸèƒ½          | ç¤ºä¾‹                                           |
| --------------- | ----------- | -------------------------------------------- |
| `ls`            | åˆ—å‡ºç›®å½•å†…å®¹      | `ls` / `ls -l` / `ls -a`                     |
| `cd`            | åˆ‡æ¢ç›®å½•        | `cd /home/lxlei` / `cd ..`                   |
| `pwd`           | æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•    | `pwd`                                        |
| `mkdir`         | åˆ›å»ºç›®å½•        | `mkdir mydir` / `mkdir -p a/b/c`             |
| `rmdir`         | åˆ é™¤ç©ºç›®å½•       | `rmdir mydir`                                |
| `rm -r`         | åˆ é™¤ç›®å½•åŠå…¶å†…å®¹    | `rm -r mydir`                                |
| `touch`         | åˆ›å»ºç©ºæ–‡ä»¶æˆ–æ›´æ–°æ—¶é—´æˆ³ | `touch file.txt`                             |
| `cp`            | å¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•     | `cp file1.txt file2.txt` / `cp -r dir1 dir2` |
| `mv`            | ç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶/ç›®å½• | `mv file.txt /tmp/` / `mv oldname newname`   |
| `cat`           | æŸ¥çœ‹æ–‡ä»¶å†…å®¹      | `cat file.txt`                               |
| `more` / `less` | åˆ†é¡µæŸ¥çœ‹æ–‡ä»¶      | `less file.txt`                              |
| `head`          | æŸ¥çœ‹æ–‡ä»¶å¼€å¤´å†…å®¹    | `head -n 10 file.txt`                        |
| `tail`          | æŸ¥çœ‹æ–‡ä»¶ç»“å°¾å†…å®¹    | `tail -n 10 file.txt`                        |
| `stat`          | æŸ¥çœ‹æ–‡ä»¶è¯¦ç»†ä¿¡æ¯    | `stat file.txt`                              |

---

### 10.2 æ–‡ä»¶æœç´¢ä¸æŸ¥æ‰¾

| å‘½ä»¤        | åŠŸèƒ½                    | ç¤ºä¾‹                                                    |
| --------- | --------------------- | ----------------------------------------------------- |
| `find`    | æŸ¥æ‰¾æ–‡ä»¶/ç›®å½•               | `find /home -name "*.txt"`                            |
| `locate`  | å¿«é€ŸæŸ¥æ‰¾æ–‡ä»¶ï¼ˆéœ€æ›´æ–°æ•°æ®åº“ï¼‰        | `locate file.txt` / `sudo updatedb`                   |
| `which`   | æŸ¥çœ‹å‘½ä»¤è·¯å¾„                | `which python3`                                       |
| `whereis` | æŸ¥æ‰¾å‘½ä»¤äºŒè¿›åˆ¶æ–‡ä»¶ã€æºä»£ç å’Œ man é¡µé¢ | `whereis ls`                                          |
| `grep`    | æ–‡ä»¶å†…å®¹æœç´¢                | `grep "pattern" file.txt` / `grep -r "pattern" /home` |

---

### 10.3 æ–‡ä»¶æƒé™ç®¡ç†

| å‘½ä»¤      | åŠŸèƒ½          | ç¤ºä¾‹                                        |
| ------- | ----------- | ----------------------------------------- |
| `chmod` | ä¿®æ”¹æ–‡ä»¶æƒé™      | `chmod 755 file.sh` / `chmod u+x file.sh` |
| `chown` | ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…     | `chown lxlei file.txt`                    |
| `chgrp` | ä¿®æ”¹æ–‡ä»¶æ‰€å±ç»„     | `chgrp users file.txt`                    |
| `umask` | æŸ¥çœ‹/è®¾ç½®é»˜è®¤æƒé™æ©ç  | `umask` / `umask 022`                     |
| `ls -l` | æŸ¥çœ‹æƒé™ä¿¡æ¯      | `ls -l file.txt`                          |

---

### 10.4 ç¡¬é“¾æ¥ä¸è½¯é“¾æ¥

| å‘½ä»¤         | åŠŸèƒ½          | ç¤ºä¾‹                                      |
| ---------- | ----------- | --------------------------------------- |
| `ln`       | åˆ›å»ºç¡¬é“¾æ¥       | `ln file1.txt file2.txt`                |
| `ln -s`    | åˆ›å»ºè½¯é“¾æ¥ï¼ˆç¬¦å·é“¾æ¥ï¼‰ | `ln -s /home/lxlei/file1.txt link1.txt` |
| `readlink` | æŸ¥çœ‹è½¯é“¾æ¥æŒ‡å‘     | `readlink link1.txt`                    |

---

### 10.5 æ–‡ä»¶å‹ç¼©ä¸è§£å‹

| å‘½ä»¤                  | åŠŸèƒ½           | ç¤ºä¾‹                                                           |
| ------------------- | ------------ | ------------------------------------------------------------ |
| `tar`               | æ‰“åŒ…å’Œè§£åŒ…        | `tar -cvf archive.tar dir/` / `tar -xvf archive.tar`         |
| `tar + gzip`        | æ‰“åŒ…å¹¶å‹ç¼©        | `tar -czvf archive.tar.gz dir/` / `tar -xzvf archive.tar.gz` |
| `zip` / `unzip`     | å‹ç¼©/è§£å‹ zip æ–‡ä»¶ | `zip -r archive.zip dir/` / `unzip archive.zip`              |
| `gzip` / `gunzip`   | å‹ç¼©/è§£å‹å•æ–‡ä»¶     | `gzip file.txt` / `gunzip file.txt.gz`                       |
| `bzip2` / `bunzip2` | bz2 å‹ç¼©/è§£å‹    | `bzip2 file.txt` / `bunzip2 file.txt.bz2`                    |
| `xz` / `unxz`       | xz å‹ç¼©/è§£å‹     | `xz file.txt` / `unxz file.txt.xz`                           |

---

### 10.6 ç£ç›˜å’Œæ–‡ä»¶ç³»ç»Ÿç›¸å…³

| å‘½ä»¤                 | åŠŸèƒ½                  | ç¤ºä¾‹                                     |
| ------------------ | ------------------- | -------------------------------------- |
| `df -h`            | æŸ¥çœ‹ç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µ          | `df -h`                                |
| `du -h`            | æŸ¥çœ‹ç›®å½•/æ–‡ä»¶å¤§å°           | `du -sh /home/lxlei`                   |
| `mount` / `umount` | æŒ‚è½½/å¸è½½æ–‡ä»¶ç³»ç»Ÿ           | `mount /dev/sdb1 /mnt` / `umount /mnt` |
| `stat`             | æŸ¥çœ‹æ–‡ä»¶è¯¦ç»†ä¿¡æ¯ï¼ˆå¤§å°ã€æƒé™ã€æ—¶é—´ç­‰ï¼‰ | `stat file.txt`                        |

---

### 10.7 å…¶ä»–å¸¸ç”¨æ–‡ä»¶ç®¡ç†å‘½ä»¤

| å‘½ä»¤         | åŠŸèƒ½            | ç¤ºä¾‹                                             |
| ---------- | ------------- | ---------------------------------------------- |
| `file`     | æŸ¥çœ‹æ–‡ä»¶ç±»å‹        | `file file.txt`                                |
| `diff`     | æ¯”è¾ƒæ–‡ä»¶å†…å®¹å·®å¼‚      | `diff file1.txt file2.txt`                     |
| `cmp`      | æŒ‰å­—èŠ‚æ¯”è¾ƒæ–‡ä»¶       | `cmp file1.txt file2.txt`                      |
| `touch`    | æ›´æ–°æ–‡ä»¶æ—¶é—´æˆ³æˆ–åˆ›å»ºç©ºæ–‡ä»¶ | `touch newfile.txt`                            |
| `basename` | è·å–æ–‡ä»¶å         | `basename /home/lxlei/file.txt` â†’ `file.txt`   |
| `dirname`  | è·å–ç›®å½•å         | `dirname /home/lxlei/file.txt` â†’ `/home/lxlei` |

---

### **æ€»ç»“**

1. **æ–‡ä»¶æ“ä½œ**ï¼š`ls` / `cd` / `cp` / `mv` / `rm`
2. **æŸ¥æ‰¾æœç´¢**ï¼š`find` / `locate` / `grep`
3. **æƒé™ç®¡ç†**ï¼š`chmod` / `chown` / `chgrp`
4. **å‹ç¼©è§£å‹**ï¼š`tar` / `gzip` / `zip`
5. **ç£ç›˜ç®¡ç†**ï¼š`df` / `du` / `mount`

---

## 11ã€æ–‡ä»¶æƒé™çš„æŸ¥çœ‹ä¸ä¿®æ”¹

### 11.1 Linux æ–‡ä»¶æƒé™æ¦‚å¿µ

åœ¨ Linux ä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶å’Œç›®å½•éƒ½æœ‰ **ä¸‰ç±»ç”¨æˆ·çš„æƒé™**ï¼š

1. **ç”¨æˆ· (User, u)**ï¼šæ–‡ä»¶çš„æ‰€æœ‰è€…
2. **ç»„ (Group, g)**ï¼šæ–‡ä»¶æ‰€å±ç»„å†…çš„ç”¨æˆ·
3. **å…¶ä»–äºº (Others, o)**ï¼šé™¤äº†ç”¨æˆ·å’Œç»„ä»¥å¤–çš„æ‰€æœ‰äºº

æ¯ç±»ç”¨æˆ·éƒ½æœ‰ **ä¸‰ç§åŸºæœ¬æƒé™**ï¼š

| æƒé™ | ç¬¦å·  | å«ä¹‰                           |
| -- | --- | ---------------------------- |
| è¯»  | `r` | å¯ä»¥æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼ˆæ–‡ä»¶ï¼‰æˆ–åˆ—å‡ºç›®å½•å†…å®¹ï¼ˆç›®å½•ï¼‰      |
| å†™  | `w` | å¯ä»¥ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼ˆæ–‡ä»¶ï¼‰æˆ–åœ¨ç›®å½•ä¸‹åˆ›å»º/åˆ é™¤æ–‡ä»¶ï¼ˆç›®å½•ï¼‰ |
| æ‰§è¡Œ | `x` | å¯ä»¥æ‰§è¡Œæ–‡ä»¶ï¼ˆå¯æ‰§è¡Œç¨‹åºæˆ–è„šæœ¬ï¼‰æˆ–è¿›å…¥ç›®å½•ï¼ˆç›®å½•ï¼‰    |

---

#### **æ–‡ä»¶æƒé™æ˜¾ç¤ºæ ¼å¼**

ä½¿ç”¨ `ls -l` æŸ¥çœ‹æ–‡ä»¶æƒé™ï¼š

```
-rwxr-xr-- 1 lxlei lxgroup 1024 2025-10-19 file.txt
```

è§£é‡Šï¼š

```
-rwxr-xr--
| |   |  |     |       |
ç±»å‹ æƒé™ é“¾æ¥ æ•°é‡ ç”¨æˆ· ç»„   å¤§å°  ä¿®æ”¹æ—¶é—´ æ–‡ä»¶å
```

1. **æ–‡ä»¶ç±»å‹ï¼ˆé¦–å­—ç¬¦ï¼‰**ï¼š

   * `-`ï¼šæ™®é€šæ–‡ä»¶
   * `d`ï¼šç›®å½•
   * `l`ï¼šç¬¦å·é“¾æ¥
   * `c`ï¼šå­—ç¬¦è®¾å¤‡
   * `b`ï¼šå—è®¾å¤‡

2. **æƒé™å­—æ®µï¼ˆ9ä¸ªå­—ç¬¦ï¼‰**ï¼š

   ```
   rwx r-x r--
   u   g   o
   ```

   * å‰ä¸‰ä½ (`rwx`) â†’ ç”¨æˆ·æƒé™
   * ä¸­ä¸‰ä½ (`r-x`) â†’ ç»„æƒé™
   * åä¸‰ä½ (`r--`) â†’ å…¶ä»–äººæƒé™

---

#### **ç‰¹æ®Šæƒé™**

| æƒé™         | ç¬¦å·  | å«ä¹‰                          |
| ---------- | --- | --------------------------- |
| Setuid     | `s` | æ‰§è¡Œæ–‡ä»¶æ—¶ä»¥æ–‡ä»¶æ‰€æœ‰è€…æƒé™è¿è¡Œ             |
| Setgid     | `s` | æ‰§è¡Œæ–‡ä»¶æ—¶ä»¥æ–‡ä»¶æ‰€å±ç»„æƒé™è¿è¡Œï¼Œæˆ–ç›®å½•ä¸­æ–°å»ºæ–‡ä»¶ç»§æ‰¿ç»„ |
| Sticky bit | `t` | ç›®å½•ä¸­åªæœ‰æ–‡ä»¶æ‰€æœ‰è€…å¯åˆ é™¤æ–‡ä»¶ï¼ˆå¸¸ç”¨äº `/tmp`ï¼‰ |

---

### 11.2 æŸ¥çœ‹æ–‡ä»¶æƒé™

**1. ls -l**

```bash
ls -l file.txt
ls -l /home/lxlei
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
-rw-r--r-- 1 lxlei lxgroup 1024 Oct 19 12:00 file.txt
drwxr-xr-x 2 lxlei lxgroup 4096 Oct 19 12:00 mydir
```

**2. stat**

```bash
stat file.txt
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
  File: file.txt
  Size: 1024       Blocks: 8      IO Block: 4096 regular file
Device: 801h/2049d Inode: 1234567 Links: 1
Access: (0644/-rw-r--r--)  Uid: (1000/lxlei)   Gid: (1000/lxgroup)
Access: 2025-10-19 12:00:00
Modify: 2025-10-19 12:00:00
Change: 2025-10-19 12:00:00
```

* `Access: (0644/-rw-r--r--)` â†’ æƒé™çš„ **å…«è¿›åˆ¶æ•°å’Œç¬¦å·å½¢å¼**

**3. id / groups**

æŸ¥çœ‹å½“å‰ç”¨æˆ· ID å’Œæ‰€å±ç»„ï¼š

```bash
id lxlei
groups lxlei
```

---

### 11.3 ä¿®æ”¹æ–‡ä»¶æƒé™

Linux æä¾›ä¸¤ç§æ–¹å¼ä¿®æ”¹æƒé™ï¼š**ç¬¦å·æ¨¡å¼**å’Œ**æ•°å­—æ¨¡å¼ï¼ˆå…«è¿›åˆ¶ï¼‰**ã€‚

---

#### 1. chmod ä¿®æ”¹æƒé™

**(1) ç¬¦å·æ¨¡å¼**

æ ¼å¼ï¼š

```bash
chmod [ugoa][+-=][rwx] æ–‡ä»¶
```

* `u` â†’ ç”¨æˆ·
* `g` â†’ ç»„
* `o` â†’ å…¶ä»–
* `a` â†’ å…¨éƒ¨ç”¨æˆ·
* `+` â†’ æ·»åŠ æƒé™
* `-` â†’ å»æ‰æƒé™
* `=` â†’ è®¾ç½®ç²¾ç¡®æƒé™

**ç¤ºä¾‹ï¼š**

```bash
chmod u+x file.sh       # ç»™ç”¨æˆ·æ·»åŠ æ‰§è¡Œæƒé™
chmod go-w file.txt     # å»æ‰ç»„å’Œå…¶ä»–äººçš„å†™æƒé™
chmod a=r file.txt      # æ‰€æœ‰äººåªè¯»æƒé™
```

---

**(2) æ•°å­—æ¨¡å¼**

* æƒé™ç”¨æ•°å­—è¡¨ç¤ºï¼ˆå…«è¿›åˆ¶ï¼‰ï¼š

  * `r` = 4
  * `w` = 2
  * `x` = 1
* æ•°å­—æƒé™æŒ‰ **ç”¨æˆ·-ç»„-å…¶ä»–** é¡ºåºç»„åˆ

**ç¤ºä¾‹ï¼š**

```bash
chmod 755 file.sh   # rwx r-x r-x
chmod 644 file.txt  # rw- r-- r--
chmod 700 secret.sh # rwx --- ---
```

---

#### 2. chown ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…

```bash
sudo chown ç”¨æˆ· æ–‡ä»¶
sudo chown ç”¨æˆ·:ç»„ æ–‡ä»¶
```

**ç¤ºä¾‹ï¼š**

```bash
sudo chown lxlei file.txt       # ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…
sudo chown lxlei:lxgroup file.txt  # ä¿®æ”¹æ‰€æœ‰è€…å’Œæ‰€å±ç»„
```

---

#### 3. chgrp ä¿®æ”¹æ–‡ä»¶æ‰€å±ç»„

```bash
sudo chgrp ç»„ æ–‡ä»¶
```

**ç¤ºä¾‹ï¼š**

```bash
sudo chgrp developers file.txt
```

---

### 11.4 æŸ¥çœ‹å’ŒéªŒè¯æƒé™

**ç¤ºä¾‹æ“ä½œ**

```bash
touch test.txt              # åˆ›å»ºæ–‡ä»¶
ls -l test.txt              # æŸ¥çœ‹æƒé™
chmod u+x test.txt          # ç»™ç”¨æˆ·æ·»åŠ æ‰§è¡Œæƒé™
chmod g-w test.txt          # å»æ‰ç»„å†™æƒé™
chmod 644 test.txt          # è®¾ç½®æƒé™ rw-r--r--
sudo chown lxlei:users test.txt  # ä¿®æ”¹æ‰€æœ‰è€…å’Œç»„
ls -l test.txt
```

è¾“å‡ºï¼š

```
-rw-r--r-- 1 lxlei users 0 Oct 19 12:00 test.txt
```

---

### 11.5 å¸¸ç”¨å¿«æ·æŒ‡ä»¤æ€»ç»“

| å‘½ä»¤       | åŠŸèƒ½              |
| -------- | --------------- |
| `ls -l`  | æŸ¥çœ‹æƒé™å’Œæ–‡ä»¶ä¿¡æ¯       |
| `stat`   | æŸ¥çœ‹è¯¦ç»†æƒé™åŠå…ƒä¿¡æ¯      |
| `chmod`  | ä¿®æ”¹æƒé™ï¼ˆç¬¦å·æ¨¡å¼/æ•°å­—æ¨¡å¼ï¼‰ |
| `chown`  | ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…         |
| `chgrp`  | ä¿®æ”¹æ–‡ä»¶æ‰€å±ç»„         |
| `id`     | æŸ¥çœ‹ç”¨æˆ· UID/GID    |
| `groups` | æŸ¥çœ‹ç”¨æˆ·æ‰€å±ç»„         |

---

ğŸ’¡ **æ€»ç»“**

1. **ç†è§£æƒé™ä¸‰ç±»ç”¨æˆ·å’Œä¸‰ç§åŸºæœ¬æƒé™**ï¼Œè¿™æ˜¯ Linux æ–‡ä»¶ç®¡ç†åŸºç¡€
2. **`ls -l` + `stat`** æ˜¯æŸ¥çœ‹æƒé™æœ€å¸¸ç”¨çš„æ–¹æ³•
3. **ä¿®æ”¹æƒé™**ï¼š`chmod`ï¼ˆç¬¦å·/æ•°å­—æ¨¡å¼ï¼‰
4. **ä¿®æ”¹æ‰€æœ‰è€…æˆ–ç»„**ï¼š`chown`ã€`chgrp`

---

## 12ã€ç³»ç»Ÿç½‘ç»œé…ç½®

æœ¬ç« æ¶µç›–ï¼š

> ç½‘ç»œåŸºç¡€æ¦‚å¿µ â†’ ç½‘ç»œé…ç½® â†’ DNS â†’ é™æ€ IP â†’ é˜²ç«å¢™ç®¡ç†ï¼ˆfirewalldï¼‰

---

### 12.1 ç½‘ç»œåŸºæœ¬æ¦‚å¿µ

| æ¦‚å¿µ                                             | è¯´æ˜                                                     |
| ---------------------------------------------- | ------------------------------------------------------ |
| **IPåœ°å€ (Internet Protocol Address)**           | ç½‘ç»œä¸­æ¯å°è®¾å¤‡çš„å”¯ä¸€æ ‡è¯†ï¼›åˆ†ä¸º IPv4ï¼ˆå¦‚ 192.168.1.10ï¼‰å’Œ IPv6ï¼ˆå¦‚ fe80::1ï¼‰ã€‚ |
| **å­ç½‘æ©ç  (Subnet Mask)**                         | ç”¨äºåŒºåˆ†ç½‘ç»œåœ°å€å’Œä¸»æœºåœ°å€ï¼Œä¾‹å¦‚ `255.255.255.0` è¡¨ç¤ºå‰ 24 ä½ä¸ºç½‘ç»œå·ã€‚         |
| **ç½‘å…³ (Gateway)**                               | æ•°æ®å‡ºå±€çš„â€œå‡ºå£â€ï¼Œé€šå¸¸æ˜¯è·¯ç”±å™¨çš„ IP åœ°å€ã€‚                               |
| **DNS (Domain Name System)**                   | å°†åŸŸåè§£æä¸º IP åœ°å€ï¼Œä¾‹å¦‚æŠŠ `www.baidu.com` è½¬æ¢ä¸º `220.181.38.148`ã€‚ |
| **MAC åœ°å€**                                     | ç½‘å¡ç¡¬ä»¶åœ°å€ï¼Œç”¨äºå±€åŸŸç½‘é€šä¿¡ã€‚                                        |
| **DHCP (Dynamic Host Configuration Protocol)** | è‡ªåŠ¨åˆ†é… IP åœ°å€çš„åè®®ã€‚                                         |
| **é™æ€ IP**                                      | æ‰‹åŠ¨é…ç½®å›ºå®š IP åœ°å€ï¼Œé‡å¯åä¸ä¼šå˜åŒ–ã€‚                                  |

---

### 12.2 æŸ¥çœ‹ç½‘ç»œä¿¡æ¯

#### 1. æŸ¥çœ‹ç½‘ç»œæ¥å£çŠ¶æ€

```bash
ip addr
# æˆ–
ifconfig    # éœ€å®‰è£… net-toolsï¼šsudo yum install net-tools
```

#### 2. æŸ¥çœ‹è·¯ç”±ä¿¡æ¯

```bash
ip route
# é»˜è®¤è·¯ç”±ï¼ˆç½‘å…³ï¼‰ç¤ºä¾‹ï¼š
# default via 192.168.1.1 dev eth0
```

#### 3. æŸ¥çœ‹ DNS é…ç½®

```bash
cat /etc/resolv.conf
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
nameserver 8.8.8.8
nameserver 114.114.114.114
```

#### 4. ç½‘ç»œæµ‹è¯•å‘½ä»¤

| å‘½ä»¤                | ä½œç”¨             |
| ----------------- | -------------- |
| `ping <IP/åŸŸå>`    | æµ‹è¯•ç½‘ç»œè¿é€šæ€§        |
| `traceroute <IP>` | è·Ÿè¸ªæ•°æ®åŒ…è·¯å¾„        |
| `netstat -tulnp`  | æŸ¥çœ‹ç›‘å¬ç«¯å£ä¸æœåŠ¡      |
| `ss -tulnp`       | æ›¿ä»£ netstatï¼Œæ›´ç°ä»£ |
| `nslookup <åŸŸå>`   | DNS è§£ææµ‹è¯•       |
| `curl <ç½‘å€>`       | æµ‹è¯• HTTP è¯·æ±‚å“åº”   |
| `wget <ç½‘å€>`       | ä¸‹è½½æ–‡ä»¶ã€æµ‹è¯•ç½‘ç»œ      |

---

### 12.3 ç½‘ç»œé…ç½®ï¼ˆCentOS / Ubuntuï¼‰

Linux çš„ç½‘ç»œæ¥å£åå¸¸è§ä¸º `eth0`ã€`ens33`ã€`enp0s3` ç­‰ã€‚
é…ç½®æ–‡ä»¶è·¯å¾„ç•¥æœ‰ä¸åŒï¼š

| ç³»ç»Ÿ                   | ç½‘ç»œé…ç½®æ–‡ä»¶                                      |
| -------------------- | ------------------------------------------- |
| **CentOS 7+**        | `/etc/sysconfig/network-scripts/ifcfg-eth0` |
| **Ubuntu (Netplan)** | `/etc/netplan/*.yaml`                       |

---

#### 1ï¸âƒ£ **æŸ¥çœ‹å½“å‰ç½‘ç»œæ¥å£**

```bash
nmcli device status
```

ç¤ºä¾‹ï¼š

```
DEVICE  TYPE      STATE      CONNECTION
eth0    ethernet  connected  eth0
lo      loopback  unmanaged  --
```

---

#### 2ï¸âƒ£ **è®¾ç½®é™æ€ IPï¼ˆCentOS 7ï¼‰**

ç¼–è¾‘å¯¹åº”æ¥å£é…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚ `/etc/sysconfig/network-scripts/ifcfg-eth0`ï¼‰ï¼š

```bash
sudo vi /etc/sysconfig/network-scripts/ifcfg-eth0
```

ä¿®æ”¹å†…å®¹å¦‚ä¸‹ï¼š

```bash
TYPE=Ethernet
BOOTPROTO=static      # æ”¹ä¸ºé™æ€
IPADDR=192.168.1.100  # è®¾ç½®IPåœ°å€
NETMASK=255.255.255.0 # å­ç½‘æ©ç 
GATEWAY=192.168.1.1   # ç½‘å…³
DNS1=8.8.8.8          # ä¸»DNS
DNS2=114.114.114.114  # å¤‡ç”¨DNS
ONBOOT=yes            # å¼€æœºå¯ç”¨
```

ä¿å­˜åé‡å¯ç½‘ç»œï¼š

```bash
sudo systemctl restart network
```

æˆ–ï¼š

```bash
sudo nmcli connection reload
sudo nmcli connection up eth0
```

---

#### 3ï¸âƒ£ **è®¾ç½®é™æ€ IPï¼ˆUbuntu 20.04+ï¼‰**

Ubuntu ä½¿ç”¨ **Netplan** é…ç½®ï¼š

ç¼–è¾‘æ–‡ä»¶ `/etc/netplan/01-netcfg.yaml`ï¼š

```yaml
network:
  version: 2
  renderer: networkd
  ethernets:
    enp0s3:
      dhcp4: no
      addresses: [192.168.1.100/24]
      gateway4: 192.168.1.1
      nameservers:
        addresses: [8.8.8.8, 114.114.114.114]
```

ä¿å­˜ååº”ç”¨ï¼š

```bash
sudo netplan apply
```

---

### 12.4 DNS é…ç½®

**1. ä¸´æ—¶ä¿®æ”¹ DNSï¼ˆç«‹å³ç”Ÿæ•ˆï¼‰**

```bash
sudo vi /etc/resolv.conf
```

æ·»åŠ ï¼š

```
nameserver 8.8.8.8
nameserver 114.114.114.114
```

> âš ï¸ æ³¨æ„ï¼šè¯¥æ–‡ä»¶åœ¨é‡å¯åå¯èƒ½è¢« NetworkManager è¦†ç›–ã€‚

---

#### 2. æ°¸ä¹…ä¿®æ”¹ DNSï¼ˆCentOSï¼‰

ç¼–è¾‘ `/etc/sysconfig/network-scripts/ifcfg-eth0`ï¼š

```bash
DNS1=8.8.8.8
DNS2=114.114.114.114
```

æˆ–è€…åœ¨ NetworkManager ä¸­ä¿®æ”¹ï¼š

```bash
nmcli con mod eth0 ipv4.dns "8.8.8.8 114.114.114.114"
nmcli con up eth0
```

---

### 12.5 é˜²ç«å¢™ç®¡ç†ï¼ˆfirewalldï¼‰

CentOS 7+ é»˜è®¤ä½¿ç”¨ **firewalld** ç®¡ç†é˜²ç«å¢™è§„åˆ™ã€‚

**1. å¯åŠ¨ / åœæ­¢ / çŠ¶æ€**

```bash
sudo systemctl start firewalld
sudo systemctl stop firewalld
sudo systemctl enable firewalld
sudo systemctl status firewalld
```

---

**2. åŸºæœ¬å‘½ä»¤**

| å‘½ä»¤                                                | è¯´æ˜        |
| ------------------------------------------------- | --------- |
| `firewall-cmd --state`                            | æŸ¥çœ‹é˜²ç«å¢™æ˜¯å¦è¿è¡Œ |
| `firewall-cmd --list-all`                         | æŸ¥çœ‹å½“å‰åŒºåŸŸè§„åˆ™  |
| `firewall-cmd --zone=public --list-ports`         | æŸ¥çœ‹å·²å¼€æ”¾ç«¯å£   |
| `firewall-cmd --add-port=8080/tcp --permanent`    | æ°¸ä¹…å¼€æ”¾ç«¯å£    |
| `firewall-cmd --remove-port=8080/tcp --permanent` | æ°¸ä¹…å…³é—­ç«¯å£    |
| `firewall-cmd --reload`                           | é‡æ–°åŠ è½½è§„åˆ™ç”Ÿæ•ˆ  |

---

### **3. å¼€æ”¾å¸¸è§ç«¯å£**

```bash
sudo firewall-cmd --zone=public --add-service=http --permanent
sudo firewall-cmd --zone=public --add-port=22/tcp --permanent   # SSH
sudo firewall-cmd --zone=public --add-port=80/tcp --permanent   # Web
sudo firewall-cmd --zone=public --add-port=443/tcp --permanent  # HTTPS
sudo firewall-cmd --reload
```

---

### 12.6 ç½‘ç»œæœåŠ¡å‘½ä»¤æ€»ç»“è¡¨

| åŠŸèƒ½     | å‘½ä»¤                          |
| ------ | --------------------------- |
| æŸ¥çœ‹ç½‘ç»œæ¥å£ | `ip addr` / `ifconfig`      |
| æŸ¥çœ‹è·¯ç”±   | `ip route`                  |
| æµ‹è¯•è¿é€šæ€§  | `ping <IP>`                 |
| DNS æµ‹è¯• | `nslookup <åŸŸå>`             |
| ä¿®æ”¹ç½‘ç»œé…ç½® | `nmcli` / `vi ifcfg-xxx`    |
| é‡å¯ç½‘ç»œæœåŠ¡ | `systemctl restart network` |
| ä¿®æ”¹é˜²ç«å¢™  | `firewall-cmd`              |
| æŸ¥çœ‹ç«¯å£å ç”¨ | `ss -tulnp`                 |
| æŸ¥çœ‹ç½‘ç»œç»Ÿè®¡ | `netstat -anp`              |

---

### 12.7 æ€»ç»“

âœ… ç½‘ç»œä¸‰è¦ç´ ï¼š`IP + å­ç½‘æ©ç  + ç½‘å…³`
âœ… DNS è´Ÿè´£åŸŸåè§£æ
âœ… é™æ€ IP é€šè¿‡é…ç½®æ–‡ä»¶æˆ– Netplan è®¾ç½®
âœ… é˜²ç«å¢™ä¸»è¦ç”¨ `firewall-cmd` ç®¡ç†ç«¯å£è§„åˆ™
âœ… å¸¸è§ç½‘ç»œè¯Šæ–­å‘½ä»¤ï¼š`ping`ã€`traceroute`ã€`nslookup`ã€`ss`

---

## 13ã€è½¯ä»¶å®‰è£… 

### 13.1 Linux è½¯ä»¶åŒ…ç®¡ç†æ¦‚å¿µ

Linux ä¸­çš„è½¯ä»¶ä¸€èˆ¬ä»¥ **åŒ…ï¼ˆpackageï¼‰** çš„å½¢å¼åˆ†å‘å’Œå®‰è£…ã€‚
ä¸åŒå‘è¡Œç‰ˆä½¿ç”¨ä¸åŒçš„åŒ…ç®¡ç†å·¥å…·ï¼š

| å‘è¡Œç‰ˆ                      | åŒ…æ ¼å¼    | ç®¡ç†å·¥å…·                  |
| ------------------------ | ------ | --------------------- |
| CentOS / RedHat / Fedora | `.rpm` | `yum` / `dnf` / `rpm` |
| Ubuntu / Debian          | `.deb` | `apt` / `dpkg`        |

åŒ…ç®¡ç†å™¨çš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š

* å®‰è£…ã€æ›´æ–°ã€åˆ é™¤è½¯ä»¶
* è‡ªåŠ¨è§£å†³ä¾èµ–å…³ç³»
* ç®¡ç†è½¯ä»¶æºï¼ˆrepositoriesï¼‰
* æŸ¥è¯¢å·²å®‰è£…çš„è½¯ä»¶ä¿¡æ¯

---

### 13.2 RedHat / CentOS ç³»åˆ—ï¼ˆYUM / DNFï¼‰

> **YUM (Yellowdog Updater, Modified)** æ˜¯ CentOS 7 åŠä»¥å‰ç‰ˆæœ¬çš„é»˜è®¤åŒ…ç®¡ç†å™¨
> **DNF (Dandified YUM)** æ˜¯ CentOS 8+ã€Fedora é»˜è®¤åŒ…ç®¡ç†å™¨ï¼Œè¯­æ³•å‡ ä¹ä¸€è‡´ã€‚

---

#### **1ï¸âƒ£ è½¯ä»¶å®‰è£…**

```bash
sudo yum install è½¯ä»¶å
# ç¤ºä¾‹ï¼š
sudo yum install vim
sudo yum install net-tools
```

è‹¥ç³»ç»Ÿè¾ƒæ–°ï¼š

```bash
sudo dnf install vim
```

---

#### **2ï¸âƒ£ å¸è½½è½¯ä»¶**

```bash
sudo yum remove è½¯ä»¶å
```

ä¾‹å¦‚ï¼š

```bash
sudo yum remove httpd
```

---

#### **3ï¸âƒ£ æ›´æ–°è½¯ä»¶**

```bash
sudo yum update
```

æ›´æ–°å•ä¸ªè½¯ä»¶ï¼š

```bash
sudo yum update vim
```

---

#### **4ï¸âƒ£ æœç´¢è½¯ä»¶åŒ…**

```bash
yum search è½¯ä»¶åå…³é”®å­—
```

ä¾‹å¦‚ï¼š

```bash
yum search nginx
```

---

#### **5ï¸âƒ£ æŸ¥çœ‹è½¯ä»¶åŒ…ä¿¡æ¯**

```bash
yum info è½¯ä»¶å
```

---

#### **6ï¸âƒ£ åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…è½¯ä»¶**

```bash
yum list installed
```

---

#### **7ï¸âƒ£ æ¸…ç†ç¼“å­˜**

```bash
yum clean all
yum makecache
```

ï¼ˆå¸¸ç”¨äºæ›´æ–°é•œåƒæºæˆ–è§£å†³â€œmetadata expiredâ€é”™è¯¯ï¼‰

---

#### **8ï¸âƒ£ æœ¬åœ°å®‰è£… .rpm åŒ…**

```bash
sudo rpm -ivh package.rpm       # å®‰è£…
sudo rpm -Uvh package.rpm       # å‡çº§
sudo rpm -e package_name        # å¸è½½
rpm -qa                         # æŸ¥è¯¢æ‰€æœ‰å·²å®‰è£…åŒ…
```

> âš ï¸ æ³¨æ„ï¼š`rpm` ä¸ä¼šè‡ªåŠ¨è§£å†³ä¾èµ–å…³ç³»ï¼Œå»ºè®®ä¼˜å…ˆä½¿ç”¨ `yum` æˆ– `dnf`ã€‚

---

### 13.3 Ubuntu / Debian ç³»åˆ—ï¼ˆAPT / DPKGï¼‰

> **APT (Advanced Package Tool)** æ˜¯ Debian / Ubuntu çš„åŒ…ç®¡ç†å·¥å…·
> **DPKG** æ˜¯åº•å±‚å·¥å…·ï¼ŒAPT æ˜¯å®ƒçš„é«˜çº§å‰ç«¯ã€‚

---

#### **1ï¸âƒ£ å®‰è£…è½¯ä»¶**

```bash
sudo apt update              # æ›´æ–°è½¯ä»¶æºç´¢å¼•
sudo apt install è½¯ä»¶å
```

ç¤ºä¾‹ï¼š

```bash
sudo apt install vim
sudo apt install net-tools
```

---

#### **2ï¸âƒ£ å¸è½½è½¯ä»¶**

```bash
sudo apt remove è½¯ä»¶å          # åˆ é™¤è½¯ä»¶ä½†ä¿ç•™é…ç½®æ–‡ä»¶
sudo apt purge è½¯ä»¶å           # è¿åŒé…ç½®æ–‡ä»¶ä¸€å¹¶åˆ é™¤
```

---

#### **3ï¸âƒ£ æ›´æ–°ç³»ç»Ÿ**

```bash
sudo apt update               # æ›´æ–°åŒ…ç´¢å¼•
sudo apt upgrade              # æ›´æ–°æ‰€æœ‰å¯å‡çº§è½¯ä»¶
sudo apt full-upgrade         # åŒ…æ‹¬ä¾èµ–è°ƒæ•´çš„å‡çº§
```

---

#### **4ï¸âƒ£ æœç´¢è½¯ä»¶**

```bash
apt search è½¯ä»¶å
```

---

#### **5ï¸âƒ£ æŸ¥çœ‹è½¯ä»¶ä¿¡æ¯**

```bash
apt show è½¯ä»¶å
```

---

#### **6ï¸âƒ£ æ¸…ç†ç¼“å­˜**

```bash
sudo apt clean                # æ¸…é™¤ç¼“å­˜åŒ…æ–‡ä»¶
sudo apt autoclean            # æ¸…é™¤æ—§ç‰ˆæœ¬ç¼“å­˜
sudo apt autoremove           # åˆ é™¤æ— ç”¨ä¾èµ–åŒ…
```

---

#### **7ï¸âƒ£ æœ¬åœ°å®‰è£… .deb åŒ…**

```bash
sudo dpkg -i package.deb      # å®‰è£…
sudo dpkg -r package_name     # å¸è½½
dpkg -l                       # åˆ—å‡ºå·²å®‰è£…è½¯ä»¶
```

è‹¥ä¾èµ–æœªè§£å†³ï¼Œå¯æ‰§è¡Œï¼š

```bash
sudo apt --fix-broken install
```

---

### 13.4 è½¯ä»¶æºç®¡ç†

è½¯ä»¶æºï¼ˆRepositoryï¼‰æ˜¯è½¯ä»¶å®‰è£…çš„æ¥æºã€‚

| æ–‡ä»¶ä½ç½®                    | ç³»ç»Ÿ              |
| ----------------------- | --------------- |
| `/etc/yum.repos.d/`     | CentOS / RHEL   |
| `/etc/apt/sources.list` | Ubuntu / Debian |

### **ç¤ºä¾‹ï¼šCentOS 7 æ¢æˆé˜¿é‡Œäº‘æº**

```bash
sudo mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak
sudo curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
sudo yum clean all && sudo yum makecache
```

### **ç¤ºä¾‹ï¼šUbuntu æ¢æˆé˜¿é‡Œäº‘æº**

ç¼–è¾‘ï¼š

```bash
sudo vi /etc/apt/sources.list
```

æ›¿æ¢ä¸ºï¼š

```
deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
```

ä¿å­˜å¹¶æ›´æ–°ï¼š

```bash
sudo apt update
```

---

### 13.5 æºå¤–è½¯ä»¶å®‰è£…æ–¹æ³•

| æ–¹æ³•                 | è¯´æ˜                          |
| ------------------ | --------------------------- |
| **æºç å®‰è£…**           | ä¸‹è½½ `.tar.gz` å‹ç¼©åŒ…ï¼Œæ‰‹åŠ¨ç¼–è¯‘å®‰è£…ã€‚    |
| **Snap / Flatpak** | é€šç”¨åŒ…ç®¡ç†å·¥å…·ï¼Œå¯è·¨å‘è¡Œç‰ˆå®‰è£…ã€‚            |
| **wget + make å®‰è£…** | å¸¸è§äºå¼€æºé¡¹ç›®ï¼ˆä¾‹å¦‚ nginxã€redis æºç ï¼‰ã€‚ |

---

#### **æºç å®‰è£…æ­¥éª¤é€šç”¨æ¨¡æ¿**

```bash
tar -zxvf software.tar.gz
cd software
./configure
make
sudo make install
```

å®‰è£…å®Œåå¯ç”¨ï¼š

```bash
which è½¯ä»¶å   # æŸ¥çœ‹å®‰è£…è·¯å¾„
```

---

### 13.6 å¸¸ç”¨è½¯ä»¶åŒ…å‘½ä»¤é€ŸæŸ¥è¡¨

| åŠŸèƒ½    | CentOS å‘½ä»¤          | Ubuntu å‘½ä»¤         |
| ----- | ------------------ | ----------------- |
| å®‰è£…è½¯ä»¶  | `yum install xxx`  | `apt install xxx` |
| å¸è½½è½¯ä»¶  | `yum remove xxx`   | `apt remove xxx`  |
| æ›´æ–°ç³»ç»Ÿ  | `yum update`       | `apt upgrade`     |
| æœç´¢åŒ…   | `yum search xxx`   | `apt search xxx`  |
| æŸ¥çœ‹ä¿¡æ¯  | `yum info xxx`     | `apt show xxx`    |
| æ¸…ç†ç¼“å­˜  | `yum clean all`    | `apt clean`       |
| æœ¬åœ°åŒ…å®‰è£… | `rpm -ivh xxx.rpm` | `dpkg -i xxx.deb` |

---

### 13.7 å®ç”¨æŠ€å·§ä¸å»ºè®®

1. **ä¼˜å…ˆä½¿ç”¨åŒ…ç®¡ç†å™¨**ï¼Œä¸è¦æ‰‹åŠ¨åˆ é™¤æ–‡ä»¶ã€‚
2. å®‰è£…å‰å¯å…ˆæœç´¢åŒ…åï¼Œé¿å…è¾“å…¥é”™è¯¯ï¼ˆå¦‚ `net-look` âœ åº”ä¸º `net-tools`ï¼‰ã€‚
3. è‹¥ `yum` æ— æ³•è”ç½‘ï¼Œå…ˆæ£€æŸ¥ `/etc/yum.repos.d/` æºæ–‡ä»¶æ˜¯å¦æœ‰æ•ˆã€‚
4. å®šæœŸæ‰§è¡Œï¼š

   ```bash
   sudo yum update    # æˆ– sudo apt update && sudo apt upgrade
   ```

   ä¿æŒç³»ç»Ÿå®‰å…¨å’Œæœ€æ–°ã€‚

---

## 14ã€CenOS7 Ubuntuä¸¤å¤§ç³»ç»Ÿè½¯ä»¶ç®¡ç†

### 14.1 è½¯ä»¶åŒ…ç®¡ç†åŸºç¡€æ¦‚å¿µ

åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œè½¯ä»¶å¹¶ä¸æ˜¯åƒ Windows é‚£æ ·åŒå‡»å®‰è£…åŒ…æ‰§è¡Œ `.exe` æ–‡ä»¶ï¼Œè€Œæ˜¯é€šè¿‡ã€Œè½¯ä»¶åŒ…ç®¡ç†å™¨ã€ç»Ÿä¸€å®‰è£…ã€å¸è½½å’Œæ›´æ–°çš„ã€‚
è½¯ä»¶é€šå¸¸è¢«æ‰“åŒ…æˆä¸¤ç§æ ¼å¼ï¼š

| ç³»ç»Ÿç³»åˆ—                                  | åŒ…æ ¼å¼    | åŒ…ç®¡ç†å·¥å…·                              | åº•å±‚å‘½ä»¤   |
| ------------------------------------- | ------ | ---------------------------------- | ------ |
| **Red Hat ç³»ï¼ˆCentOS / Fedora / RHELï¼‰** | `.rpm` | `yum`ï¼ˆCentOS 7ï¼‰ / `dnf`ï¼ˆCentOS 8+ï¼‰ | `rpm`  |
| **Debian ç³»ï¼ˆUbuntu / Debian / Mintï¼‰**  | `.deb` | `apt`ï¼ˆæˆ– `apt-get`ï¼‰                 | `dpkg` |

### âœ… ç»“æ„å±‚çº§

```
Yumï¼ˆCentOS 7ï¼‰   â†’ åŸºäº RPM å°è£…ï¼Œè‡ªåŠ¨è§£å†³ä¾èµ–
Aptï¼ˆUbuntuï¼‰     â†’ åŸºäº Dpkg å°è£…ï¼Œè‡ªåŠ¨è§£å†³ä¾èµ–
```

`rpm` å’Œ `dpkg` è´Ÿè´£åº•å±‚çš„å®‰è£…æ“ä½œï¼›
`yum` å’Œ `apt` åˆ™æä¾›æ™ºèƒ½ä¾èµ–è§£å†³ã€è”ç½‘ä¸‹è½½ã€ç‰ˆæœ¬ç®¡ç†ç­‰é«˜çº§åŠŸèƒ½ã€‚

---

### 14.2 CentOS 7ï¼šYUM ä¸ RPM ç®¡ç†ç³»ç»Ÿ

#### 1ï¸âƒ£ åŸºæœ¬åŸç†

* **YUMï¼ˆYellowdog Updater, Modifiedï¼‰** æ˜¯ CentOS 7 çš„é»˜è®¤åŒ…ç®¡ç†å™¨ã€‚
* å®ƒä¼šä»é…ç½®çš„ **ä»“åº“ï¼ˆrepositoryï¼‰** ä¸‹è½½è½¯ä»¶åŒ…ï¼ˆ.rpm æ–‡ä»¶ï¼‰å¹¶è‡ªåŠ¨è§£å†³ä¾èµ–ã€‚
* æ‰€æœ‰è½¯ä»¶åŒ…å…ƒæ•°æ®ä¿å­˜åœ¨ `/etc/yum.repos.d/*.repo` ä¸­ã€‚

---

#### 2ï¸âƒ£ å¸¸ç”¨æ“ä½œå‘½ä»¤

| æ“ä½œ      | å‘½ä»¤ç¤ºä¾‹                         | è¯´æ˜                  |
| ------- | ---------------------------- | ------------------- |
| å®‰è£…è½¯ä»¶    | `sudo yum install httpd -y`  | å®‰è£… Apacheï¼›`-y` è‡ªåŠ¨ç¡®è®¤ |
| å¸è½½è½¯ä»¶    | `sudo yum remove httpd`      | åˆ é™¤è½¯ä»¶åŒ…               |
| æ›´æ–°è½¯ä»¶    | `sudo yum update httpd`      | æ›´æ–°æŒ‡å®šè½¯ä»¶              |
| æ›´æ–°ç³»ç»Ÿ    | `sudo yum update -y`         | æ›´æ–°å…¨éƒ¨è½¯ä»¶              |
| æœç´¢è½¯ä»¶    | `yum search nginx`           | æ¨¡ç³ŠæŸ¥æ‰¾è½¯ä»¶åŒ…å            |
| æŸ¥çœ‹ä¿¡æ¯    | `yum info nginx`             | æ˜¾ç¤ºè¯¦ç»†åŒ…ä¿¡æ¯             |
| æŸ¥çœ‹å·²å®‰è£…è½¯ä»¶ | `yum list installed`         | åˆ—å‡ºç³»ç»Ÿä¸­æ‰€æœ‰åŒ…            |
| æ¸…ç†ç¼“å­˜    | `yum clean all`              | æ¸…ç†æ—§åŒ…ç¼“å­˜              |
| æŸ¥çœ‹ä¾èµ–å…³ç³»  | `repoquery --requires httpd` | æ˜¾ç¤ºä¾èµ–åˆ—è¡¨              |

---

#### 3ï¸âƒ£ ç®¡ç†è½¯ä»¶æºï¼ˆä»“åº“ï¼‰

ä»“åº“æ–‡ä»¶å­˜æ”¾åœ¨ï¼š

```
/etc/yum.repos.d/
```

ç¤ºä¾‹æ–‡ä»¶ï¼š`CentOS-Base.repo`

```ini
[base]
name=CentOS-7 - Base
baseurl=http://mirrors.aliyun.com/centos/7/os/x86_64/
enabled=1
gpgcheck=1
gpgkey=http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7
```

#### â• æ·»åŠ æ–°çš„è½¯ä»¶æºï¼š

```bash
sudo yum-config-manager --add-repo http://mirrors.aliyun.com/repo/Centos-7.repo
```

#### ğŸš« ç¦ç”¨æˆ–å¯ç”¨ä»“åº“ï¼š

```bash
sudo yum-config-manager --disable epel
sudo yum-config-manager --enable base
```

---

#### 4ï¸âƒ£ RPM åº•å±‚å‘½ä»¤ï¼ˆæ‰‹åŠ¨å®‰è£…ä¸æŸ¥è¯¢ï¼‰

| æ“ä½œ     | å‘½ä»¤                      | è¯´æ˜        |
| ------ | ----------------------- | --------- |
| å®‰è£…æœ¬åœ°åŒ…  | `sudo rpm -ivh xxx.rpm` | ä¸ä¼šè‡ªåŠ¨è§£å†³ä¾èµ–  |
| å¸è½½åŒ…    | `sudo rpm -e åŒ…å`        | åˆ é™¤è½¯ä»¶      |
| æŸ¥çœ‹åŒ…ä¿¡æ¯  | `rpm -qi åŒ…å`            | è½¯ä»¶è¯¦æƒ…      |
| æŸ¥è¯¢æ–‡ä»¶æ¥æº | `rpm -qf /usr/bin/vim`  | æŸ¥è¯¢æ–‡ä»¶å±äºå“ªä¸ªåŒ… |
| åˆ—å‡ºæ‰€æœ‰åŒ…  | `rpm -qa`               | æŸ¥çœ‹å·²å®‰è£…åŒ…    |

> âš ï¸ æ³¨æ„ï¼šç›´æ¥ä½¿ç”¨ `rpm` å®‰è£…æ—¶ä¾èµ–é—®é¢˜éœ€æ‰‹åŠ¨è§£å†³ï¼Œå»ºè®®ä½¿ç”¨ `yum`ã€‚

---

### 14.3 Ubuntuï¼šAPT ä¸ DPKG ç®¡ç†ç³»ç»Ÿ

#### 1ï¸âƒ£ åŸºæœ¬åŸç†

* **APTï¼ˆAdvanced Package Toolï¼‰** æ˜¯ Ubuntu é»˜è®¤çš„åŒ…ç®¡ç†ç³»ç»Ÿã€‚
* å®ƒä» `/etc/apt/sources.list` å’Œ `/etc/apt/sources.list.d/*.list` ä¸­è¯»å–æºåœ°å€ï¼Œè‡ªåŠ¨ä¸‹è½½ `.deb` åŒ…å¹¶å¤„ç†ä¾èµ–ã€‚

---

#### 2ï¸âƒ£ å¸¸ç”¨æ“ä½œå‘½ä»¤

| æ“ä½œ      | å‘½ä»¤ç¤ºä¾‹                                   | è¯´æ˜         |
| ------- | -------------------------------------- | ---------- |
| æ›´æ–°è½¯ä»¶æºç´¢å¼• | `sudo apt update`                      | ä»æºä¸­è·å–æœ€æ–°åŒ…åˆ—è¡¨ |
| å®‰è£…è½¯ä»¶    | `sudo apt install vim -y`              | å®‰è£…åŒ…        |
| å¸è½½è½¯ä»¶    | `sudo apt remove vim`                  | åˆ é™¤è½¯ä»¶ä½†ä¿ç•™é…ç½®  |
| å¸è½½å«é…ç½®   | `sudo apt purge vim`                   | å®Œå…¨åˆ é™¤å«é…ç½®æ–‡ä»¶  |
| å‡çº§å·²å®‰è£…åŒ…  | `sudo apt upgrade`                     | å‡çº§æ‰€æœ‰åŒ…      |
| å‡çº§ç³»ç»Ÿç‰ˆæœ¬  | `sudo apt dist-upgrade`                | æ›´æ™ºèƒ½çš„ç³»ç»Ÿæ›´æ–°   |
| æŸ¥æ‰¾è½¯ä»¶    | `apt search nginx`                     | æ¨¡ç³Šæœç´¢       |
| æŸ¥çœ‹åŒ…ä¿¡æ¯   | `apt show nginx`                       | è¯¦ç»†ä¿¡æ¯       |
| æ¸…ç†ç¼“å­˜    | `sudo apt clean && sudo apt autoclean` | æ¸…é™¤ä¸‹è½½ç¼“å­˜     |
| åˆ é™¤æ— ç”¨åŒ…   | `sudo apt autoremove`                  | æ¸…ç†ä¾èµ–æ®‹ç•™     |

---

#### 3ï¸âƒ£ DPKG åº•å±‚å‘½ä»¤

| æ“ä½œ     | å‘½ä»¤                         | è¯´æ˜        |
| ------ | -------------------------- | --------- |
| å®‰è£…æœ¬åœ°åŒ…  | `sudo dpkg -i xxx.deb`     | æ‰‹åŠ¨å®‰è£…      |
| ä¿®å¤ä¾èµ–   | `sudo apt install -f`      | è‡ªåŠ¨è§£å†³ç¼ºå¤±ä¾èµ–  |
| æŸ¥çœ‹å·²å®‰è£…åŒ… | `dpkg -l`                  | åˆ—å‡ºç³»ç»Ÿæ‰€æœ‰åŒ…   |
| æŸ¥çœ‹æ–‡ä»¶æ¥æº | `dpkg -S /usr/bin/python3` | æŸ¥è¯¢æ–‡ä»¶å±äºå“ªä¸ªåŒ… |
| åˆ é™¤åŒ…    | `sudo dpkg -r åŒ…å`          | åˆ é™¤å·²å®‰è£…åŒ…    |

---

#### 4ï¸âƒ£ ç®¡ç†è½¯ä»¶æº

æ–‡ä»¶ä½ç½®ï¼š

```
/etc/apt/sources.list
/etc/apt/sources.list.d/
```

#### ç¤ºä¾‹æºé…ç½®ï¼š

```bash
deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
```

#### â• æ·»åŠ æ–°æºï¼š

```bash
sudo add-apt-repository ppa:deadsnakes/ppa
sudo apt update
```

---

### 14.4 è½¯ä»¶æ›´æ–°ä¸ç»´æŠ¤ç­–ç•¥

| æ“ä½œç›®æ ‡   | CentOS 7             | Ubuntu                             |
| ------ | -------------------- | ---------------------------------- |
| æ›´æ–°ç¼“å­˜   | `yum makecache fast` | `apt update`                       |
| æ›´æ–°å•åŒ…   | `yum update nginx`   | `apt install --only-upgrade nginx` |
| æ›´æ–°ç³»ç»Ÿ   | `yum update -y`      | `apt upgrade -y`                   |
| è‡ªåŠ¨æ¸…ç†æ—§åŒ… | `yum autoremove`     | `apt autoremove`                   |
| æ¸…é™¤ç¼“å­˜   | `yum clean all`      | `apt clean`                        |

---

### 14.5 å¸¸è§é”™è¯¯ä¸ä¿®å¤æ–¹æ³•

| é—®é¢˜     | è§£å†³å‘½ä»¤                                                         |
| ------ | ------------------------------------------------------------ |
| ä¾èµ–å†²çª   | `sudo yum deplist åŒ…å` æˆ– `sudo apt install -f`                |
| è½¯ä»¶æºå¤±æ•ˆ  | æ›´æ–°é•œåƒæºåœ°å€ï¼ˆæ¨èé˜¿é‡Œäº‘æˆ–æ¸…åæºï¼‰                                           |
| åŒ…ä¸‹è½½å¤±è´¥  | æ£€æŸ¥ `/etc/resolv.conf` çš„ DNS é…ç½®                               |
| ç³»ç»Ÿç¼“å­˜æŸå | `yum clean all && yum makecache` / `apt clean && apt update` |

---

### 14.6 å®ç”¨æŠ€å·§

* å®‰è£…æ—¶å¼ºåˆ¶è·³è¿‡ç¡®è®¤ï¼š

  ```bash
  yum install -y <åŒ…å>
  apt install -y <åŒ…å>
  ```

* æŸ¥çœ‹å“ªäº›åŒ…æœ€è¿‘å®‰è£…ï¼š

  ```bash
  yum history
  cat /var/log/apt/history.log
  ```

* æœç´¢å‘½ä»¤æ‰€å±åŒ…ï¼š

  ```bash
  yum provides /usr/bin/python3
  apt-file search /usr/bin/python3
  ```

---

### 14.7 æ€»ç»“å¯¹ç…§è¡¨

| åŠŸèƒ½    | CentOS 7 (Yum)       | Ubuntu (Apt)               |
| ----- | -------------------- | -------------------------- |
| å®‰è£…    | `yum install`        | `apt install`              |
| å¸è½½    | `yum remove`         | `apt remove` / `apt purge` |
| æœç´¢    | `yum search`         | `apt search`               |
| æŸ¥çœ‹ä¿¡æ¯  | `yum info`           | `apt show`                 |
| æ›´æ–°    | `yum update`         | `apt upgrade`              |
| æ¸…ç†ç¼“å­˜  | `yum clean all`      | `apt clean`                |
| åˆ é™¤æ— ç”¨åŒ… | `yum autoremove`     | `apt autoremove`           |
| æŸ¥çœ‹å·²å®‰è£… | `yum list installed` | `dpkg -l`                  |

---

### 14.8 å®æˆ˜å»ºè®®

* **CentOS è¿ç»´å»ºè®®ï¼š**

  * æ¨èå¯ç”¨é˜¿é‡Œäº‘é•œåƒæºï¼Œæé«˜é€Ÿåº¦ï¼›
  * ä¸è¦éšæ„å‡çº§ç³»ç»Ÿç‰ˆæœ¬ï¼›
  * ç”Ÿäº§ç¯å¢ƒå›ºå®šè½¯ä»¶ç‰ˆæœ¬ä»¥ä¿æŒç¨³å®šã€‚

* **Ubuntu å¼€å‘å»ºè®®ï¼š**

  * å¤šç”¨ `apt search` æŸ¥æ‰¾åŒ…ï¼›
  * ç»å¸¸æ‰§è¡Œ `apt update && apt upgrade`ï¼›
  * ä½¿ç”¨ `ppa` è·å–æ–°ç‰ˆæœ¬è½¯ä»¶ã€‚

---

## 15. Linuxç£ç›˜å­˜å‚¨ç»“æ„ï¼ˆsdaåˆ†åŒºï¼‰

### 15.1 åŸºæœ¬æ¦‚å¿µï¼šLinux çš„ç£ç›˜å‘½åæ–¹å¼

åœ¨ Linux ä¸­ï¼Œç£ç›˜ä½¿ç”¨ä»¥ä¸‹æ ¼å¼å‘½åï¼š

```
/dev/sda   ç¬¬ 1 å— SATA/SCSI ç¡¬ç›˜
/dev/sdb   ç¬¬ 2 å— SATA/SCSI ç¡¬ç›˜
/dev/sdc   ç¬¬ 3 å— SATA/SCSI ç¡¬ç›˜
...
```

åˆ†åŒºå‘½åï¼š

```
/dev/sda1  sda ç£ç›˜çš„ç¬¬ 1 ä¸ªåˆ†åŒº
/dev/sda2  ç¬¬ 2 ä¸ªåˆ†åŒº
/dev/sda5  ç¬¬ 5 ä¸ªåˆ†åŒºï¼ˆé€»è¾‘åˆ†åŒºï¼‰
```

> * **æ€»ç»“ï¼š**
> 
> * ç£ç›˜ï¼šsda
> * åˆ†åŒºï¼šsda1ã€sda2ã€sda3â€¦
> * æ•°å­—åç¼€è¡¨ç¤ºåˆ†åŒºç¼–å·

---

### 15.2 MBR åˆ†åŒºç»“æ„

#### MBR çš„åˆ†åŒºè§„åˆ™ï¼š

```
æœ€å¤š 4 ä¸ªä¸»åˆ†åŒºï¼ˆPrimaryï¼‰
æˆ–è€…
3 ä¸ªä¸»åˆ†åŒº + 1 ä¸ªæ‰©å±•åˆ†åŒºï¼ˆExtendedï¼‰
æ‰©å±•åˆ†åŒºå†…éƒ¨å¯åŒ…å«æ— é™ä¸ªé€»è¾‘åˆ†åŒºï¼ˆLogicalï¼‰
```

#### ç»“æ„å›¾ï¼š

```
MBRï¼ˆåˆ†åŒºè¡¨ï¼‰
â”œâ”€â”€ Primary Partition 1 (sda1)
â”œâ”€â”€ Primary Partition 2 (sda2)
â”œâ”€â”€ Primary Partition 3 (sda3)
â””â”€â”€ Primary Partition 4 (sda4)
```

å¦‚æœéœ€è¦è¶…è¿‡ 4 ä¸ªåˆ†åŒºï¼š

```
sda1   ä¸»åˆ†åŒº
sda2   ä¸»åˆ†åŒº
sda3   ä¸»åˆ†åŒº
sda4   æ‰©å±•åˆ†åŒºï¼ˆextendedï¼‰
        â”œâ”€â”€ sda5 ï¼ˆé€»è¾‘åˆ†åŒºï¼‰
        â”œâ”€â”€ sda6 ï¼ˆé€»è¾‘åˆ†åŒºï¼‰
        â””â”€â”€ sda7 ï¼ˆé€»è¾‘åˆ†åŒºï¼‰
```

---

### 15.3 å„ç§åˆ†åŒºç±»å‹çš„ä½œç”¨

#### ï¼ˆ1ï¼‰ä¸»åˆ†åŒº Primary Partitionï¼ˆsda1~sda4ï¼‰

* ä¼ ç»Ÿåˆ†åŒº
* å¯ç›´æ¥ç”¨äºå®‰è£…ç³»ç»Ÿ
* ä¸éœ€è¦ä¾èµ–å…¶ä»–åˆ†åŒº
* æœ€å¤š 4 ä¸ªï¼ˆMBR é™åˆ¶ï¼‰

#### ï¼ˆ2ï¼‰æ‰©å±•åˆ†åŒº Extended Partitionï¼ˆåªèƒ½æ˜¯ sda1-sda4 ä¸­çš„ä¸€ä¸ªï¼‰

* è‡ªå·±ä¸èƒ½å­˜å‚¨æ•°æ®
* æ˜¯é€»è¾‘åˆ†åŒºçš„å®¹å™¨
* ç›®çš„æ˜¯çªç ´ MBR çš„â€œæœ€å¤š 4 ä¸ªä¸»åˆ†åŒºâ€é™åˆ¶

#### ï¼ˆ3ï¼‰é€»è¾‘åˆ†åŒº Logical Partitionï¼ˆä» sda5 å¼€å§‹ï¼‰

* å­˜å‚¨æ•°æ®
* å¯ä»¥æ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿï¼ˆext4ã€NTFSï¼‰
* å¯ä»¥ç”¨äºå®‰è£… Linux ç³»ç»Ÿæ ¹åˆ†åŒº `/`

---

#### ä¸ºä»€ä¹ˆ sda5 å¿…é¡»åœ¨ sda2 ä¸­ï¼Ÿ

å› ä¸ºä½¿ç”¨çš„æ˜¯ MBR åˆ†åŒºè¡¨ï¼Œè€Œé€»è¾‘åˆ†åŒºå¿…é¡»æ”¾åœ¨æ‰©å±•åˆ†åŒºä¸­ã€‚

åœ¨ MBR ä¸‹ï¼š

* sda1-sda4 æ‰èƒ½æ˜¯ä¸»åˆ†åŒº/æ‰©å±•åˆ†åŒº
* **é€»è¾‘åˆ†åŒºä» sda5 å¼€å§‹ï¼Œåªèƒ½åˆ›å»ºåœ¨æ‰©å±•åˆ†åŒºï¼ˆsda2ï¼‰é‡Œ**

---

### 15.4 GPT åˆ†åŒºç»“æ„ï¼ˆç°ä»£ç³»ç»Ÿç”¨çš„ï¼‰

**GPT** åˆ†åŒºç»“æ„æ˜¯æ›´ç°ä»£çš„æ–¹æ¡ˆï¼š

GPT ç‰¹ç‚¹ï¼š

* åˆ†åŒºæ•°é‡å‡ ä¹æ— é™åˆ¶ï¼ˆé€šå¸¸ 128 ä¸ªï¼‰
* æ²¡æœ‰â€œä¸»åˆ†åŒº/æ‰©å±•åˆ†åŒº/é€»è¾‘åˆ†åŒºâ€çš„æ¦‚å¿µ
* æ¯ä¸ªåˆ†åŒºéƒ½æ˜¯å¹³ç­‰çš„
* ä½¿ç”¨ UEFI å¼•å¯¼ï¼ˆESP åˆ†åŒºï¼‰

ç°ä»£ Linux / Windows æ¨è GPT + UEFIã€‚

---

### 15.5 Linux æ–‡ä»¶ç³»ç»ŸæŒ‚è½½æ–¹å¼

Linux ä¸ä»¥â€œCç›˜/Dç›˜â€è¿™ç§æ–¹å¼è®¿é—®ï¼Œæ˜¯ä¸€ä¸ªæ ‘çŠ¶ç»“æ„ï¼š

```
/
â”œâ”€â”€ boot
â”‚    â””â”€â”€ efiï¼ˆæŒ‚è½½ sda1ï¼‰
â”œâ”€â”€ home
â”œâ”€â”€ usr
â”œâ”€â”€ var
â””â”€â”€ ï¼ˆå…¨éƒ¨åœ¨ sda5ï¼‰
```

ä½ çœ‹åˆ°çš„ï¼š

```
sda5 â†’ /
sda1 â†’ /boot/efi
```

éå¸¸æ­£å¸¸ã€‚

---





